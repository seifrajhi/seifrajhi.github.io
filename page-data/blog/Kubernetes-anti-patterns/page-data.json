{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/Kubernetes-anti-patterns/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>A simple guide to avoid these Pitfalls 🕳🚶</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📚 Introduction</h2>\n<p>Are you new to Kubernetes or considering using it for your applications? While Kubernetes is an excellent set of tools for managing automatically scalable, highly available distributed cloud-native applications, there are common mistakes that many make.</p>\n<p>In this article, we will explore some of the most frequent pitfalls when using Kubernetes and provide tips on how to avoid them.</p>\n<blockquote>\n<p>📢 Announcement: I have just launched a GitHub repository dedicated to gathering resources, exercises, and labs to aid in learning Kubernetes from the ground up. This repository aims to provide practical exercises that guide users in deploying, managing, and scaling containerized applications using Kubernetes. Your feedback contributions are welcomed to enhance and improve the learning experience. 🎉 </p>\n<p>Link: <a href=\"https://github.com/seifrajhi/Kubernetes-practical-exercises-Hands-on\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/seifrajhi/Kubernetes-practical-exercises-Hands-on</a></p>\n</blockquote>\n<h2 id=\"-not-setting-resource-requests\" style=\"position:relative;\"><a href=\"#-not-setting-resource-requests\" aria-label=\" not setting resource requests permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🙅 Not Setting Resource Requests</h2>\n<p>This definitely deserves the most attention and first place in this list.\nCPU requests are usually either not set or set very low (so that we can fit a lot of pods on each node) and nodes are thus overcommited. In times of high demand the CPUs of the node are fully utilized and our workload is getting only \"what it had requested\" and gets CPU throttled, causing increased application latency, timeouts, etc.</p>\n<p>BestEffort (please don't):</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>very low CPU (please don't):</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1m\"</span></code></pre></div>\n<p>On the other hand, having a CPU limit can unnecessarily throttle pods even if the node's CPU is not fully utilized which again can cause increased latency.\nThere is an open discussion around CPU CFS quota in Linux kernel and cpu throttling based on set CPU limits and turning off the CFS quota.</p>\n<p>CPU limits can cause more problems than they solve. See more in the link below.\nMemory overcommiting can get you in more trouble. Reaching a CPU limit results in throttling, reaching memory limit will get your pod killed.</p>\n<p>Ever seen OOMkill? Yep, that's the one we are talking about. Want to minimize how often it can happen? Don't overcommit your memory and use Guaranteed QoS (Quality of Service) setting memory request equal to limit like in the example below. Read more about the topic in <a href=\"https://www.slideshare.net/try_except_/optimizing-kubernetes-resource-requestslimits-for-costefficiency-and-latency-highload\" target=\"_blank\" rel=\"noopener noreferrer\">Henning Jacobs' (Zalando) presentation</a>.</p>\n<p>Burstable (more likely to get OOMkilled more often):</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"128Mi\"</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"500m\"</span>\n      <span class=\"token key atrule\">limits</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"256Mi\"</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span></code></pre></div>\n<p>Guaranteed:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"128Mi\"</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n    <span class=\"token key atrule\">limits</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"128Mi\"</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span></code></pre></div>\n<p>So what can help you when setting resources?</p>\n<p>You can see the current cpu and memory usage of pods (and containers in them) using metrics-server. Chances are, you are already running it. Simply run these:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl <span class=\"token function\">top</span> pods \nkubectl <span class=\"token function\">top</span> pods <span class=\"token parameter variable\">--containers</span> \nkubectl <span class=\"token function\">top</span> nodes</code></pre></div>\n<p>However these show just the current usage. That is great to get the rough idea about the numbers but you end up wanting to see these usage metrics in time (to answer questions like: what was the cpu usage in peak, yesterday morning, etc.). For that, you can use Prometheus, DataDog and many others. They just ingest the metrics from metrics-server and store them, then you can query &#x26; graph them.</p>\n<p><a href=\"https://cloud.google.com/kubernetes-engine/docs/concepts/verticalpodautoscaler\" target=\"_blank\" rel=\"noopener noreferrer\">VerticalPodAutoscaler</a> can help you automate away this manual process - looking at cpu/mem usage in time and setting new requests and limits based on that all over again.</p>\n<blockquote>\n<p>Using effectively your compute is not an easy task. It is like playing tetris all the time. If you find yourself paying a lot for compute while having low average utilization (say ~10%), you might want to check AWS Fargate or Virtual Kubelet based products that make use of more of a serverless/pay-per-usage billing model that might be cheaper for you.</p>\n</blockquote>\n<h2 id=\"-omit-healthchecks\" style=\"position:relative;\"><a href=\"#-omit-healthchecks\" aria-label=\" omit healthchecks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🚫 Omit Health Checks</h2>\n<p>When deploying your services to Kubernetes, health checks play an important role in maintaining your services.</p>\n<p>Health checks are highly under-utilized 😿 in the Kubernetes environment. Through health checks, you keep an eye on the health of the pods and their containers.</p>\n<p>Kubernetes has three main tools you can use for health checks:\nLiveness Check allows Kubernetes to check whether your app is alive or not. The Kubelet agent running on each node uses liveness probes to ensure that the containers are running as expected. Readiness checks run during the entire lifecycle of the container. Kubernetes uses this probe to know when the container is ready to accept traffic. The startup probe determines when the container application has been started successfully. If the startup check fails, the pod is restarted.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8UlEQVR42lVRUXKFIBDzHPWpIKIgiPpoO/Om9z9XutnWjv3IsDNLQhKaRzeAaB89ut4ILOw4YXRewbkfRqRcMPkFbprh56BziAlLWGGsUw3yGyskLv28wLoJfgki4uWCQW9GDAKStnIIdoQ1Kyi8H0+8Xl8o+4HLWEOxNW3I265ia8qIQlhTkTMh5ozjrDifVYinujHq2v6J0HF9/4QPEc0Vt217XTIiSYxJ92Z0SuajrMAvETEluN/4s5ig4Mzowm2YmwTimnmR873ft7ZTsBZWwIe54+PXrJF/PuI/2Nv9UyhQ64fUUsRR1Aro6trfud+RyKoiN9dRsAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Kubernetes Health Checks\" title=\"\" src=\"/static/27608c29d8c94ea4fdffcab0a2345fb7/c5bb3/Health-checks-k8s.png\" srcset=\"/static/27608c29d8c94ea4fdffcab0a2345fb7/04472/Health-checks-k8s.png 170w,\n/static/27608c29d8c94ea4fdffcab0a2345fb7/9f933/Health-checks-k8s.png 340w,\n/static/27608c29d8c94ea4fdffcab0a2345fb7/c5bb3/Health-checks-k8s.png 680w,\n/static/27608c29d8c94ea4fdffcab0a2345fb7/b12f7/Health-checks-k8s.png 1020w,\n/static/27608c29d8c94ea4fdffcab0a2345fb7/b5a09/Health-checks-k8s.png 1360w,\n/static/27608c29d8c94ea4fdffcab0a2345fb7/29007/Health-checks-k8s.png 1600w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-using-the-latesttag\" style=\"position:relative;\"><a href=\"#-using-the-latesttag\" aria-label=\" using the latesttag permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🛑 Using the Latest Tag</h2>\n<p>This one is a classic. The latest is not descriptive and hard to work with. The Kubernetes docs are very clear on using docker images:latest tags in a production environment:</p>\n<p>You should avoid using the :latest tag when deploying containers in production, as it makes it difficult to track which version of the image is running and hard to roll back.</p>\n<p>I feel like lately we don't see this very often as a lot of us got burned too many times and we stopped using <code class=\"language-text\">**:latest**</code> and everyone started to pin the versions. Yay!</p>\n<p><a href=\"https://aws.amazon.com/about-aws/whats-new/2019/07/amazon-ecr-now-supports-immutable-image-tags/\" target=\"_blank\" rel=\"noopener noreferrer\">ECR has a great feature of tag immutability</a>, definitely worth checking out.</p>\n<h2 id=\"-overprivileged-containers\" style=\"position:relative;\"><a href=\"#-overprivileged-containers\" aria-label=\" overprivileged containers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📛 Overprivileged Containers</h2>\n<p>Overprivileged containers are containers that have been given too many privileges, such as access to resources that are not accessible in ordinary containers.\nThis is a common mistake that developers make while using Kubernetes, and it can create security risks.\nFor example, running a Docker daemon inside a Docker container is an example of a privileged container, which is not necessarily secure.\nTo avoid this, it is recommended to avoid giving <code class=\"language-text\">**CAP_SYS_ADMIN**</code> capability to your container, as it comprises more than 25% of all kernel vulnerabilities.\nAdditionally, it is important to avoid giving full privileges to the container and host file system privileges given to the container. This means the container can be used to compromise the whole host by replacing binaries with malicious ones.\nTo prevent overprivileged containers, it is essential to carefully configure permission settings and never run processes with higher privileges than they need.\nIt is also important to use monitoring and logging to detect and resolve issues.</p>\n<h2 id=\"-lack-of-monitoring-andlogging\" style=\"position:relative;\"><a href=\"#-lack-of-monitoring-andlogging\" aria-label=\" lack of monitoring andlogging permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>👀 Lack of Monitoring and Logging</h2>\n<p>The lack of monitoring and logging in a Kubernetes environment can be detrimental to its security and overall performance. Inadequate logging and monitoring present challenges during incident investigation and response efforts, making it difficult to detect and resolve issues effectively.</p>\n<p>One common pitfall is being unable to find failure points in the Kubernetes platform and applications due to a lack of relevant logs or metrics.\nTo address this, it is essential to set up proper monitoring and logging tools, such as Prometheus, Grafana, Fluentd, and Jaeger, to collect, analyze, and visualize metrics, logs, and traces, gaining insights into the performance and health of the Kubernetes environment.</p>\n<p>By implementing robust monitoring and logging practices, organizations can effectively correlate information, gain deeper insights, and overcome the challenges associated with the d</p>\n<h2 id=\"-default-namespace-for-allobjects\" style=\"position:relative;\"><a href=\"#-default-namespace-for-allobjects\" aria-label=\" default namespace for allobjects permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>😵 Default Namespace for all Objects</h2>\n<p>Using the default namespace for all objects in Kubernetes can lead to organizational and management challenges.</p>\n<p>The default namespace is where services and apps are created by default, and it is also the active namespace unless explicitly specified.</p>\n<p>Relying solely on the default namespace can result in a lack of isolation and organization for different components or teams within the cluster. This can lead to difficulties in resource management, access control, and visibility. To avoid this, it is recommended to create custom namespaces for different projects, teams, or applications, allowing for better organization, resource allocation, and access control within the Kubernetes cluster.</p>\n<p>By using multiple namespaces, users can effectively compartmentalize and manage their resources, enhancing the overall operational efficiency and security of the Kubernetes environment.</p>\n<h2 id=\"-missing-security-configurations\" style=\"position:relative;\"><a href=\"#-missing-security-configurations\" aria-label=\" missing security configurations permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>➖ Missing Security Configurations</h2>\n<p>When deploying your application, you should always keep security in mind. So what are some of the most important things to consider when it comes to security? For example, using an endpoint accessible outside of your cluster, not securing your secrets, not considering how to run privileged containers, etc. safely.</p>\n<p>Kubernetes security is an integral part of any Kubernetes deployment. Security challenges include:</p>\n<ul>\n<li><strong>Authorization</strong>: Authentication and authorization are essential for controlling access to resources in a Kubernetes cluster.</li>\n<li><strong>Networking</strong>: Kubernetes networking involves managing overlay networks and service endpoints to ensure that traffic between containers is routed securely within the cluster.</li>\n<li><strong>Storage</strong>: Securing storage in a cluster consists of ensuring that data cannot be accessed by unauthorized users or processes.</li>\n</ul>\n<p>The Kubernetes API server has a REST interface that provides access to all the information stored. This means that users can access any information stored in the API by simply sending HTTP requests to it. To protect this data from unauthenticated users, you need to configure authentication for the API server using supported methods like username/password or token-based authentication.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3UlEQVR42pWSzUsVURjGZ69uxT/AXQs34iZdteufyA9cSURCLYzCli5bhAux8uNGpGlFBK2k8uY1VEykD60UUfEjr9W9zjlzzpnz+Lwzc0GJQAce5sx55/zmeeZ9A5zjsh4oRh5F7RH7dM9nqqyDs4Aqh5/+dLg1Z9EzZ/Bi3SV7ZZvqdwTomMAjPpQMIHc5eFIhz5Szmlz9Xxza3hm0UsOrDo6AA7rdV8BW2SecQLn0gHb/OpOavKSy2qMVixsfDbpnDSYyh1LfJXCDQDEQjKxa3Fu2GGOcqW2H3gWLu1R+N8bAV4s78xZDdGNpWZ473xt0UE9+pMCILvdCYJNAWQcNkwr1YwoXX2l0FwyqhkJUD4e4PW/Q+Fyjhuumlwp/6CT33eEmHYqe0aGkOmST5P/thz5JGjQTdGFc4fIbnUBqcwp1jxX6Plm0sFabC3HptWZsj8Fvlu4itFPiMCRAOl7UwM6RhxLg4q8Y+Z0Yy8UYGyWPGUYtUBJh8SDGNGtLvDtGfkDg1Q8GXdT4WhpZgIlD5ZMPnGlsKnMmDq/zt1ybOQ081ClQJiI4OSb+P2uXEe9/thybCFfeRni44pJ3JO4W466X0ujncijxR9mYEaqwFyd70oi/bIw0RyIfA+cXME+Fhdm4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Kubernetes API Server\" title=\"\" src=\"/static/4c9f8fed9814f19dc97c8651065af00f/c5bb3/Kubernetes-API-server.png\" srcset=\"/static/4c9f8fed9814f19dc97c8651065af00f/04472/Kubernetes-API-server.png 170w,\n/static/4c9f8fed9814f19dc97c8651065af00f/9f933/Kubernetes-API-server.png 340w,\n/static/4c9f8fed9814f19dc97c8651065af00f/c5bb3/Kubernetes-API-server.png 680w,\n/static/4c9f8fed9814f19dc97c8651065af00f/b12f7/Kubernetes-API-server.png 1020w,\n/static/4c9f8fed9814f19dc97c8651065af00f/2bef9/Kubernetes-API-server.png 1024w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>It's not just about securing the cluster itself but also the secrets and configurations on it. To protect the cluster from vulnerabilities, you will need to configure a set of security controls on it.</p>\n<p>One such robust security control is securing a Kubernetes cluster with RBAC: Role-Based Access Control can be used to secure Kubernetes clusters by limiting access to resources based on roles assigned to users. These roles can be configured as \"admin\" or \"operator.\"</p>\n<p>The admin role has full access rights, while the operator role has limited rights over resources within the cluster. We can control and manage anyone getting access to the cluster by doing this.</p>\n<h2 id=\"-missing-poddisruptionbudget\" style=\"position:relative;\"><a href=\"#-missing-poddisruptionbudget\" aria-label=\" missing poddisruptionbudget permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🙅 Missing poddisruptionbudget</h2>\n<p>You run the production workload on kubernetes. Your nodes &#x26; cluster have to be upgraded, or decommissioned, from time to time. PodDisruptionBudget (pdb) is sort of an API for service guarantees between cluster administrators and cluster-users.</p>\n<p>Make sure to create <code class=\"language-text\">pdb</code> to avoid unnecessary service outages due to draining nodes.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> policy/v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> PodDisruptionBudget\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> db<span class=\"token punctuation\">-</span>pdb\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">minAvailable</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n  <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> database</code></pre></div>\n<p>With this as a cluster-user you tell the cluster-administrators: \"hey, I have this database service here and no matter what you have to do, I'd like to have at least 2 replicas always available\".</p>\n<h2 id=\"-self-anti-affinities-forpods\" style=\"position:relative;\"><a href=\"#-self-anti-affinities-forpods\" aria-label=\" self anti affinities forpods permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>😠 Self anti-affinities for pods</h2>\n<p>Running e.g. 3 pod replicas of some deployment, node goes down and all the replicas with it. Huh? All the replicas were running on one node? Wasn't Kubernetes supposed to be magical and provide HA?!\nYou can't expect a kubernetes scheduler to enforce <code class=\"language-text\">anti-affinites</code> for your pods. You have to define them explicitly.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>\n      <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> db\n<span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>\n      <span class=\"token key atrule\">affinity</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">podAntiAffinity</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">requiredDuringSchedulingIgnoredDuringExecution</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">labelSelector</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">matchExpressions</span><span class=\"token punctuation\">:</span>\n                  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"app\"</span>\n                    <span class=\"token key atrule\">operator</span><span class=\"token punctuation\">:</span> In\n                    <span class=\"token key atrule\">values</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token punctuation\">-</span> db\n              <span class=\"token key atrule\">topologyKey</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"kubernetes.io/hostname\"</span></code></pre></div>\n<p>That's it. This will make sure the pods will be scheduled to different nodes (this is being checked only at scheduling time, not at execution time, hence the <code class=\"language-text\">requiredDuringSchedulingIgnoredDuringExecution</code>).\nWe are talking about podAntiAffinity on different node names - <code class=\"language-text\">topologyKey: \"kubernetes.io/hostname\"</code> - not different availability zones. If you really need proper HA, dig a bit deeper into this topic.</p>\n<h2 id=\"️loadbalancer-for-every-httpservice\" style=\"position:relative;\"><a href=\"#%EF%B8%8Floadbalancer-for-every-httpservice\" aria-label=\"️loadbalancer for every httpservice permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⚖️LoadBalancer for every HTTP service</h2>\n<p>Chances are you have more http services in your cluster that you'd like to expose to the outside world.</p>\n<p>If you expose the kubernetes service as a <code class=\"language-text\">type: LoadBalancer</code>, its controller (vendor specific) will provision and reconcile an external LoadBalancer and those resources might get expensive (external static IPv4 address, compute, per-second pricing…) as you create many of them.</p>\n<p>In that case, sharing one external loadbalancer might make more sense and you expose your services as <code class=\"language-text\">type: NodePort</code>. Or yet better, deploying something like <code class=\"language-text\">nginx-ingress-controller</code> (or <code class=\"language-text\">traefik</code> or <code class=\"language-text\">Istio</code>) being the single NodePort endpoint exposed to the external loadbalancer and routing the traffic in the cluster based on kubernetes ingress resources.</p>\n<p>The other in-cluster (micro)services that talk to each other can talk through ClusterIP services and out-of-box DNS service discovery.</p>\n<blockquote>\n<p>Be careful about not using their public DNS/IPs as it could affect their latency and cloud cost.</p>\n</blockquote>\n<h2 id=\"-non-kubernetes-aware-cluster-autoscaling\" style=\"position:relative;\"><a href=\"#-non-kubernetes-aware-cluster-autoscaling\" aria-label=\" non kubernetes aware cluster autoscaling permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>😱 Non-kubernetes-aware cluster autoscaling</h2>\n<p>When adding and removing nodes to/from the cluster, you shouldn't consider some simple metrics like a CPU utilization of those nodes. When scheduling pods, you decide based on a lot of scheduling constraints like pod &#x26; node affinities, taints, and tolerations, resource requests, QoS, etc.</p>\n<p>Having an external autoscaler that does not understand these constraints might be troublesome.\nImagine there is a new pod to be scheduled but all of the CPU available is requested and the pod is stuck in the Pending state. External autoscaler sees the average CPU currently used (not requested) and won't scale out (will not add another node). The pod won't be scheduled.</p>\n<p>Scaling-in (removing a node from the cluster) is always harder. Imagine you have a stateful pod (with persistent volume attached) and as persistent volumes are usually resources that belong to a specific availability zone and are not replicated in the region, your custom autoscaler removes a node with this pod on it and scheduler cannot schedule it onto a different node as it is very limited by the only availability zone with your persistent disk in it. Pod is again stuck in Pending state.</p>\n<blockquote>\n<p>The community is widely using <a href=\"https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler\" target=\"_blank\" rel=\"noopener noreferrer\">cluster-autoscaler</a> which runs in your cluster and is integrated with most major public cloud vendors APIs, understands all these constraints and would scale-out in the mentioned cases. It will also figure out if it can gracefully scale-in without affecting any constraints we have set and saves you money on compute.</p>\n</blockquote>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📌 Conclusion</h2>\n<p>In conclusion, Kubernetes is a powerful tool for managing containerized applications, but it comes with its own set of challenges. To avoid common mistakes and pitfalls, it is essential to pay close attention to your interactions with Kubernetes and understand the differences between how it interacts with your deployed services.</p>\n<p>Don't expect everything to work automagically, and invest some time in making your app cloud-native. By avoiding these mistakes, you can work efficiently with your Kubernetes deployments and enhance the stability, performance, and security of your Kubernetes environment.</p>\n<p><strong>Until next time 🎉</strong></p>\n<p><br><br></p>\n<blockquote>\n<p>💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  <em><strong>Until next time 🎉</strong></em></p>\n</blockquote>\n<p>🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>♻️ LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>♻️ X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ✌🏻</strong></p>\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n<p><strong>📅 Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":9,"rawMarkdownBody":"> **A simple guide to avoid these Pitfalls 🕳🚶**\n\n## 📚 Introduction\n\nAre you new to Kubernetes or considering using it for your applications? While Kubernetes is an excellent set of tools for managing automatically scalable, highly available distributed cloud-native applications, there are common mistakes that many make.\n\nIn this article, we will explore some of the most frequent pitfalls when using Kubernetes and provide tips on how to avoid them.\n\n\n> 📢 Announcement: I have just launched a GitHub repository dedicated to gathering resources, exercises, and labs to aid in learning Kubernetes from the ground up. This repository aims to provide practical exercises that guide users in deploying, managing, and scaling containerized applications using Kubernetes. Your feedback contributions are welcomed to enhance and improve the learning experience. 🎉 \n>\n> Link: https://github.com/seifrajhi/Kubernetes-practical-exercises-Hands-on\n\n\n## 🙅 Not Setting Resource Requests\n\nThis definitely deserves the most attention and first place in this list.\nCPU requests are usually either not set or set very low (so that we can fit a lot of pods on each node) and nodes are thus overcommited. In times of high demand the CPUs of the node are fully utilized and our workload is getting only \"what it had requested\" and gets CPU throttled, causing increased application latency, timeouts, etc.\n\nBestEffort (please don't):\n\n```yaml\nresources: {}\n```\n\nvery low CPU (please don't):\n```yaml\n    resources:\n      requests:\n        cpu: \"1m\"\n```\n\nOn the other hand, having a CPU limit can unnecessarily throttle pods even if the node's CPU is not fully utilized which again can cause increased latency.\nThere is an open discussion around CPU CFS quota in Linux kernel and cpu throttling based on set CPU limits and turning off the CFS quota.\n\nCPU limits can cause more problems than they solve. See more in the link below.\nMemory overcommiting can get you in more trouble. Reaching a CPU limit results in throttling, reaching memory limit will get your pod killed.\n\nEver seen OOMkill? Yep, that's the one we are talking about. Want to minimize how often it can happen? Don't overcommit your memory and use Guaranteed QoS (Quality of Service) setting memory request equal to limit like in the example below. Read more about the topic in [Henning Jacobs' (Zalando) presentation](https://www.slideshare.net/try_except_/optimizing-kubernetes-resource-requestslimits-for-costefficiency-and-latency-highload).\n\nBurstable (more likely to get OOMkilled more often):\n\n```yaml\nresources:\n      requests:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n      limits:\n        memory: \"256Mi\"\n        cpu: 2\n```\n\nGuaranteed:\n\n```yaml\nresources:\n    requests:\n        memory: \"128Mi\"\n        cpu: 2\n    limits:\n        memory: \"128Mi\"\n        cpu: 2\n```\n\nSo what can help you when setting resources?\n\nYou can see the current cpu and memory usage of pods (and containers in them) using metrics-server. Chances are, you are already running it. Simply run these:\n\n```shell\nkubectl top pods \nkubectl top pods --containers \nkubectl top nodes\n```\n\nHowever these show just the current usage. That is great to get the rough idea about the numbers but you end up wanting to see these usage metrics in time (to answer questions like: what was the cpu usage in peak, yesterday morning, etc.). For that, you can use Prometheus, DataDog and many others. They just ingest the metrics from metrics-server and store them, then you can query & graph them.\n\n[VerticalPodAutoscaler](https://cloud.google.com/kubernetes-engine/docs/concepts/verticalpodautoscaler) can help you automate away this manual process - looking at cpu/mem usage in time and setting new requests and limits based on that all over again.\n\n>Using effectively your compute is not an easy task. It is like playing tetris all the time. If you find yourself paying a lot for compute while having low average utilization (say ~10%), you might want to check AWS Fargate or Virtual Kubelet based products that make use of more of a serverless/pay-per-usage billing model that might be cheaper for you.\n\n## 🚫 Omit Health Checks\nWhen deploying your services to Kubernetes, health checks play an important role in maintaining your services.\n\nHealth checks are highly under-utilized 😿 in the Kubernetes environment. Through health checks, you keep an eye on the health of the pods and their containers.\n\nKubernetes has three main tools you can use for health checks:\nLiveness Check allows Kubernetes to check whether your app is alive or not. The Kubelet agent running on each node uses liveness probes to ensure that the containers are running as expected. Readiness checks run during the entire lifecycle of the container. Kubernetes uses this probe to know when the container is ready to accept traffic. The startup probe determines when the container application has been started successfully. If the startup check fails, the pod is restarted.\n\n![Kubernetes Health Checks](./Health-checks-k8s.png)\n\n## 🛑 Using the Latest Tag\n\nThis one is a classic. The latest is not descriptive and hard to work with. The Kubernetes docs are very clear on using docker images:latest tags in a production environment:\n\nYou should avoid using the :latest tag when deploying containers in production, as it makes it difficult to track which version of the image is running and hard to roll back.\n\nI feel like lately we don't see this very often as a lot of us got burned too many times and we stopped using `**:latest**` and everyone started to pin the versions. Yay!\n\n[ECR has a great feature of tag immutability](https://aws.amazon.com/about-aws/whats-new/2019/07/amazon-ecr-now-supports-immutable-image-tags/), definitely worth checking out.\n\n## 📛 Overprivileged Containers\nOverprivileged containers are containers that have been given too many privileges, such as access to resources that are not accessible in ordinary containers.\nThis is a common mistake that developers make while using Kubernetes, and it can create security risks.\nFor example, running a Docker daemon inside a Docker container is an example of a privileged container, which is not necessarily secure.\nTo avoid this, it is recommended to avoid giving `**CAP_SYS_ADMIN**` capability to your container, as it comprises more than 25% of all kernel vulnerabilities.\nAdditionally, it is important to avoid giving full privileges to the container and host file system privileges given to the container. This means the container can be used to compromise the whole host by replacing binaries with malicious ones.\nTo prevent overprivileged containers, it is essential to carefully configure permission settings and never run processes with higher privileges than they need.\nIt is also important to use monitoring and logging to detect and resolve issues.\n\n\n## 👀 Lack of Monitoring and Logging\n\nThe lack of monitoring and logging in a Kubernetes environment can be detrimental to its security and overall performance. Inadequate logging and monitoring present challenges during incident investigation and response efforts, making it difficult to detect and resolve issues effectively.\n\nOne common pitfall is being unable to find failure points in the Kubernetes platform and applications due to a lack of relevant logs or metrics.\nTo address this, it is essential to set up proper monitoring and logging tools, such as Prometheus, Grafana, Fluentd, and Jaeger, to collect, analyze, and visualize metrics, logs, and traces, gaining insights into the performance and health of the Kubernetes environment.\n\n\nBy implementing robust monitoring and logging practices, organizations can effectively correlate information, gain deeper insights, and overcome the challenges associated with the d\n\n## 😵 Default Namespace for all Objects\n\nUsing the default namespace for all objects in Kubernetes can lead to organizational and management challenges.\n\nThe default namespace is where services and apps are created by default, and it is also the active namespace unless explicitly specified.\n\nRelying solely on the default namespace can result in a lack of isolation and organization for different components or teams within the cluster. This can lead to difficulties in resource management, access control, and visibility. To avoid this, it is recommended to create custom namespaces for different projects, teams, or applications, allowing for better organization, resource allocation, and access control within the Kubernetes cluster.\n\nBy using multiple namespaces, users can effectively compartmentalize and manage their resources, enhancing the overall operational efficiency and security of the Kubernetes environment.\n\n\n## ➖ Missing Security Configurations\n\nWhen deploying your application, you should always keep security in mind. So what are some of the most important things to consider when it comes to security? For example, using an endpoint accessible outside of your cluster, not securing your secrets, not considering how to run privileged containers, etc. safely.\n\nKubernetes security is an integral part of any Kubernetes deployment. Security challenges include:\n\n- **Authorization**: Authentication and authorization are essential for controlling access to resources in a Kubernetes cluster.\n- **Networking**: Kubernetes networking involves managing overlay networks and service endpoints to ensure that traffic between containers is routed securely within the cluster.\n- **Storage**: Securing storage in a cluster consists of ensuring that data cannot be accessed by unauthorized users or processes.\n\nThe Kubernetes API server has a REST interface that provides access to all the information stored. This means that users can access any information stored in the API by simply sending HTTP requests to it. To protect this data from unauthenticated users, you need to configure authentication for the API server using supported methods like username/password or token-based authentication.\n\n![Kubernetes API Server](./Kubernetes-API-server.png)\n\nIt's not just about securing the cluster itself but also the secrets and configurations on it. To protect the cluster from vulnerabilities, you will need to configure a set of security controls on it.\n\nOne such robust security control is securing a Kubernetes cluster with RBAC: Role-Based Access Control can be used to secure Kubernetes clusters by limiting access to resources based on roles assigned to users. These roles can be configured as \"admin\" or \"operator.\"\n\nThe admin role has full access rights, while the operator role has limited rights over resources within the cluster. We can control and manage anyone getting access to the cluster by doing this.\n\n## 🙅 Missing poddisruptionbudget\n\nYou run the production workload on kubernetes. Your nodes & cluster have to be upgraded, or decommissioned, from time to time. PodDisruptionBudget (pdb) is sort of an API for service guarantees between cluster administrators and cluster-users.\n\nMake sure to create `pdb` to avoid unnecessary service outages due to draining nodes.\n\n```yaml\napiVersion: policy/v1\nkind: PodDisruptionBudget\nmetadata:\n  name: db-pdb\nspec:\n  minAvailable: 2\n  selector:\n    matchLabels:\n      app: database\n```\n\nWith this as a cluster-user you tell the cluster-administrators: \"hey, I have this database service here and no matter what you have to do, I'd like to have at least 2 replicas always available\".\n\n## 😠 Self anti-affinities for pods\n\nRunning e.g. 3 pod replicas of some deployment, node goes down and all the replicas with it. Huh? All the replicas were running on one node? Wasn't Kubernetes supposed to be magical and provide HA?!\nYou can't expect a kubernetes scheduler to enforce `anti-affinites` for your pods. You have to define them explicitly.\n\n```yaml\n......\n      labels:\n        app: db\n......\n      affinity:\n        podAntiAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n            - labelSelector:\n                matchExpressions:\n                  - key: \"app\"\n                    operator: In\n                    values:\n                    - db\n              topologyKey: \"kubernetes.io/hostname\"\n```\n\nThat's it. This will make sure the pods will be scheduled to different nodes (this is being checked only at scheduling time, not at execution time, hence the `requiredDuringSchedulingIgnoredDuringExecution`).\nWe are talking about podAntiAffinity on different node names - `topologyKey: \"kubernetes.io/hostname\"` - not different availability zones. If you really need proper HA, dig a bit deeper into this topic.\n\n## ⚖️LoadBalancer for every HTTP service\n\nChances are you have more http services in your cluster that you'd like to expose to the outside world.\n\nIf you expose the kubernetes service as a `type: LoadBalancer`, its controller (vendor specific) will provision and reconcile an external LoadBalancer and those resources might get expensive (external static IPv4 address, compute, per-second pricing…) as you create many of them.\n\nIn that case, sharing one external loadbalancer might make more sense and you expose your services as `type: NodePort`. Or yet better, deploying something like `nginx-ingress-controller` (or `traefik` or `Istio`) being the single NodePort endpoint exposed to the external loadbalancer and routing the traffic in the cluster based on kubernetes ingress resources.\n\nThe other in-cluster (micro)services that talk to each other can talk through ClusterIP services and out-of-box DNS service discovery.\n\n> Be careful about not using their public DNS/IPs as it could affect their latency and cloud cost.\n\n\n## 😱 Non-kubernetes-aware cluster autoscaling\n\nWhen adding and removing nodes to/from the cluster, you shouldn't consider some simple metrics like a CPU utilization of those nodes. When scheduling pods, you decide based on a lot of scheduling constraints like pod & node affinities, taints, and tolerations, resource requests, QoS, etc. \n\nHaving an external autoscaler that does not understand these constraints might be troublesome.\nImagine there is a new pod to be scheduled but all of the CPU available is requested and the pod is stuck in the Pending state. External autoscaler sees the average CPU currently used (not requested) and won't scale out (will not add another node). The pod won't be scheduled.\n\nScaling-in (removing a node from the cluster) is always harder. Imagine you have a stateful pod (with persistent volume attached) and as persistent volumes are usually resources that belong to a specific availability zone and are not replicated in the region, your custom autoscaler removes a node with this pod on it and scheduler cannot schedule it onto a different node as it is very limited by the only availability zone with your persistent disk in it. Pod is again stuck in Pending state.\n\n> The community is widely using [cluster-autoscaler](https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler) which runs in your cluster and is integrated with most major public cloud vendors APIs, understands all these constraints and would scale-out in the mentioned cases. It will also figure out if it can gracefully scale-in without affecting any constraints we have set and saves you money on compute.\n\n## 📌 Conclusion\n\nIn conclusion, Kubernetes is a powerful tool for managing containerized applications, but it comes with its own set of challenges. To avoid common mistakes and pitfalls, it is essential to pay close attention to your interactions with Kubernetes and understand the differences between how it interacts with your deployed services.\n\nDon't expect everything to work automagically, and invest some time in making your app cloud-native. By avoiding these mistakes, you can work efficiently with your Kubernetes deployments and enhance the stability, performance, and security of your Kubernetes environment.\n\n**Until next time 🎉**\n\n<br><br>\n\n> 💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  _**Until next time 🎉**_\n\n🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**♻️ LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**♻️ X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ✌🏻**\n\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n\n**📅 Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":2270},"frontmatter":{"id":"54e37b96a737ae61cbad4abe","path":"/blog/Kubernetes-anti-patterns/","humanDate":"Sep 29, 2024","fullDate":"2024-09-29","title":"Most common mistakes to avoid when using Kubernetes: Anti-Patterns ☸️","keywords":["Open source","Kubernetes","Best practices","AWS EKS","Cloud Native","Containers"],"excerpt":"Kubernetes, Anti-Patterns, Cloud Native, Best practices","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuklEQVR42k2S60uTYRjG969U7uC25mmbc3b4UAQFUU7nNg8zV5lhoUInKMzp2tTStlzqcJqZRfYhOxkFFQSdCDpQEILlYe+2tCAdVl9/PXtX4Ycf9/3heS+u+7pehdp+lnWlZ1HZfKiqo6icUdY7AuRWdGGu7aewNoLOdQGlqxe1K4TaGWRtTQS1o4e8psdYfBKW9lnBnIxiTc0gayvER+67mA9NU9woodvzgk3Nt9F4ouTsH6agOozWHUbfMIba3Yex6SrGY8+x+BOyWOEqFEpniNy6Z5R4V/COLROZTOHpTrH5iHjccBNzXZT8yiAbDl/GWD9M1sFRjKc/YPUnsbT9c5aZsqDedR5VzUdar6R48n6Fh29+cedliq3Hv2M6MEmuuwd9VS9WT5j8GuHuxGvhLCNW9PfM1Shy3FEsjUmGHqS4++onLz795sbTFM2RFTSVj9DYAyhtnegrQhSdektxIIlVOLH65ikSWGXmxP5XMFs4zNn3Dod/iYnnKZngxDKmQwsY3OPoqoNoPZcwnPiAqT1OXssM+adnKWidlWeaPIHRmzlbYXB1oavqw9zwGbsvRVn7D7afXEJbOUmOy0/u/hGK26aovfSNncF5nP1xdoUkscfYHYpRdlGiLCyx7dw8hW1CUFd+jmx7B3rnAEr7OOvKx8UvcRWNzY+2KoKpZYqNHXGOXP/K0RsLnLm3SPudRQ6OfqX11iItEwt03v/GgZGEcJ8upbwbZUmnIIBqtxe1EM8u82HwjFLYOi3ajGP2zmATLhx9cdmRo0/CPRinYkDCfjHj1haOsaVzHoVWONSUChEx1bJ4AMPeMYravoigY3KT6eAd/RJ1I0lBAluvhGcoQdO1pHCaoFbs9ZeT7OiJiVLs4mRbN6ryHrJKu8jee01kMfNfLN1kOmyTd04En2H1vpp0hn8AAv8oAb3IRwMAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/e70e4/Kubernetes-anti-patterns.png","srcSet":"/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/24579/Kubernetes-anti-patterns.png 750w,\n/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/f8e01/Kubernetes-anti-patterns.png 1080w,\n/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/22914/Kubernetes-anti-patterns.png 1366w,\n/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/e70e4/Kubernetes-anti-patterns.png 1472w","sizes":"100vw"},"sources":[{"srcSet":"/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/ee3fa/Kubernetes-anti-patterns.webp 750w,\n/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/3309f/Kubernetes-anti-patterns.webp 1080w,\n/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/6ed74/Kubernetes-anti-patterns.webp 1366w,\n/static/b97081f7c9e73c2d5a0ac1d1a61f76b2/a7633/Kubernetes-anti-patterns.webp 1472w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5516304347826086}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/ai-and-kubernetes/","title":"AI and Kubernetes: Open Source Tools powered by AI/OpenAI for Kubernetes","date":"2024-10-01 13:34:00"},"excerpt":"Kubernetes & AI team-up 📚 Introduction AI is generating a lot of buzz these days, and the Kubernetes-powered DevOps world is no exception…","html":"<blockquote>\n<p><strong>Kubernetes &#x26; AI team-up</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📚 Introduction</h2>\n<p>AI is generating a lot of buzz these days, and the Kubernetes-powered DevOps world is no exception. Software engineers are huge automation enthusiasts, so it’s natural that AI-powered tools for Kubernetes operators are starting to pop up.</p>\n<p>Most of these tools are designed for terminal (CLI) usage. Kubernetes is the go-to platform for container orchestration, but its complexity can be daunting. AI-powered tools can help you master Kubernetes by automating tasks, improving reliability, and providing insights.</p>\n<p>One of the most promising AI platforms for Kubernetes AIOps is OpenAI. OpenAI provides a suite of open-source tools that can be used to build AI-powered solutions for Kubernetes.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.235294117647065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADYklEQVR42hXS6U8bBACG8X73k4lfjV/VqdHplmyOsXHohi0boQy2QSmlpcegLbR00BMYtByldLDCBhTWja5ydgxoC24Nh7CBEJwcoi6dibqYuCwmmqgYfax/wfPml1fQ/GAWw/IGNZt76AIBqsdGqJua5ObUp4Se7OGOxbi9t8Ojp5t0zsdpnF+kd+cLhkZMNMYncC0/wvFwDfvSMor4CoLwr8+YfvEzdxNfE6hXMjkzRtNomDKzBY3ThVhr5JyulguVVk5JK5E5molMeJitT2dmOczqi6eM//acO89/pOOHnxDM/gOr3z/mUk2yaNaxcj+C1eXisCqF42WZvJ93nLTCLN4UfsjLH7xNVqmCla1Nlk1VJIwVbO7Os/jXPrH9vxn5cx/BL8D61jryqgrUDS4W5qYZCA2Tqs0kTfsJhy6eJFsr5mBBCq8cfQuxRs/WV2v0ebqwlVSzEenlWbyVuUA72/+CwBsM4PAHOWawoVKXsD1oIxSZ5XXhMd4RHeW1jMMcEJ3g1bT3eOndNzgtlRF2VyEsLeZghQ1zXS1ttiJsWj3x3QSCI9lnEZebOCOTY67UEPXXs7Rwn9bu6zRc68HU0s4RUS4WbzcVTje3xyewa4tQX9aRJVORr7OSKSlDqLATjCwiOFtSjMziJEsiIadMT5Oznm/mBhmdCNPS2kw0vkRPeIXhUBC/x8G3iQT1fe2MDoixGlLRqeVIpAXJxZep659A8PH5cwhl5dSYlFiMSqYHWtj6bpf+0C3sknTuztzDF9um3+fGKD7J2s4GcyNdzF/V45afQC+9iEUhIb3QgKw1iCAjLx+19hIPvOU4LEam5xeY/CxG12yU05kpyaoff083apuVImkhAV8TyuFxOn1yXM05DN4KEw0+5LyikaLeUQQiWRld648xNTUQcavY/nKN4YFOLK5O2oJRyl39uK0Gqg3lNLW10+e1Mea3472Ry9SYktWBDu61WhCV1CINxRAonR3oJ1ewXu9hyF5KsaqEa8kLOL03sN+M03B1EHuS4lCuhNQ8CaU2M9YaFc6KPO50FNBs9mFUjZCRNFREP0fgDvaj7R6is1ZKmyYbzYVT2OUi+q6oqJLn47Go8DnkyCU51Gr+9zpDjSobvURIj03MR1UGDnimuPIkgef3P/gPykxwuhHsDkwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"AI photo\" title=\"\" src=\"/static/52788c73b6cd9c0756a021afb85d4dc3/c5bb3/overview.png\" srcset=\"/static/52788c73b6cd9c0756a021afb85d4dc3/04472/overview.png 170w,\n/static/52788c73b6cd9c0756a021afb85d4dc3/9f933/overview.png 340w,\n/static/52788c73b6cd9c0756a021afb85d4dc3/c5bb3/overview.png 680w,\n/static/52788c73b6cd9c0756a021afb85d4dc3/b12f7/overview.png 1020w,\n/static/52788c73b6cd9c0756a021afb85d4dc3/4e814/overview.png 1335w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"overview\" style=\"position:relative;\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Overview</h2>\n<p>Kubernetes users inevitably encounter cluster issues that require debugging and fixing to keep their pods and services running smoothly. Whether you are new to Kubernetes or managing large and complex environments, debugging in-cluster processes can be challenging and time-consuming.</p>\n<p>Cloud-native DevOps involves a lot of complexity in managing containers, microservices and autoscaling capabilities. Generative AI could help troubleshoot and perform some of the operational tasks associated with platforms like Kubernetes. This could involve using natural language prompts to spin up, roll back or get visibility into clusters.</p>\n<p>For example, at <a href=\"https://thenewstack.io/kubiya-launches-first-generative-ai-for-platform-engineering/\" target=\"_blank\" rel=\"noopener noreferrer\">KubeCon + CloudNativeCon 2023</a>, Kubiya debuted a generative AI workflow engine that's able to interpret such commands from within Slack. Extending natural language processing might aid platform teams in creating new workflows that abstract the complexity of working <a href=\"https://cloudnativenow.com/features/2023-marks-the-rise-of-cloud-native-platforms/\" target=\"_blank\" rel=\"noopener noreferrer\">with cloud-native platforms</a>.</p>\n<h2 id=\"-k8sgpt\" style=\"position:relative;\"><a href=\"#-k8sgpt\" aria-label=\" k8sgpt permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✨ k8sgpt</h2>\n<p><a href=\"https://github.com/k8sgpt-ai/k8sgpt\" target=\"_blank\" rel=\"noopener noreferrer\">K8sGPT</a> is a relatively new open source project that uses AI models to explain Kubernetes error messages and provide cluster insights. It is already used by two organizations in production and has applied to become a CNCF sandbox project.</p>\n<p>K8sGPT Features:</p>\n<ul>\n<li>Provides detailed and contextualized explanations of Kubernetes error messages.</li>\n<li>Provides cluster insights.</li>\n<li>Supports multiple installation options.</li>\n<li>Supports different AI backends.</li>\n</ul>\n<p>K8sgpt is the most well-known and widely used project of its kind. Launched by <a href=\"https://x.com/AlexJonesax\" target=\"_blank\" rel=\"noopener noreferrer\">Alex Jones</a>, it is marketed as a way to \"give Kubernetes superpowers to everyone.\"</p>\n<p>K8sgpt is a CLI tool with a primary command, <code class=\"language-text\">k8sgpt analyze</code>, which is designed to reveal problems in your Kubernetes cluster. It does this by using \"analyzers,\" which define the logic for each Kubernetes object and the possible problems it may be encountering. For example, an analyzer for Kubernetes Services will check whether a particular Service exists and has endpoints, and whether its endpoints are ready.</p>\n<p>Identifying such an issue is not a big deal in and of itself, but the magic happens when you ask k8sgpt to explain what you can do about it. To do this, you run the command <code class=\"language-text\">k8sgpt analyze --explain</code>. This will ask the AI for instructions for your specific case and display them for you.</p>\n<p>The instructions will include the actions to take to troubleshoot the problem, including specific kubectl commands that you can execute by simply copying and pasting them. This is made possible by the fact that the names of your Kubernetes resources are already in place.</p>\n<p><img src=\"/1e235c7f3630387594e2e75858e3f862/k8sgpt-analyse.gif\" alt=\"AI photo\" loading=\"lazy\">\n          </p>\n<h3 id=\"installation\" style=\"position:relative;\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation</h3>\n<p>There are several installation options available depending on your preferences and Operating system. You can find the different options in <a href=\"https://docs.k8sgpt.ai/getting-started/installation/\" target=\"_blank\" rel=\"noopener noreferrer\">the installation section of the documentation</a>.\nThe prerequisite for installing K8sGPT as mentioned below is to have <a href=\"https://brew.sh\" target=\"_blank\" rel=\"noopener noreferrer\">Homebrew</a> installed either on your Mac or WSL on your Windows machine.</p>\n<p>Next, you can run the following commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew tap k8sgpt-ai/k8sgpt\nbrew <span class=\"token function\">install</span> k8sgpt</code></pre></div>\n<p>To view all the commands provided by K8sGPT, used the <code class=\"language-text\">--help</code> flag:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">k8sgpt <span class=\"token parameter variable\">--help</span></code></pre></div>\n<p>You can see an overview of the different commands also <a href=\"https://docs.k8sgpt.ai/reference\" target=\"_blank\" rel=\"noopener noreferrer\">on the documentation</a>.</p>\n<p>Next, we will have to authorise an AI backend. In this video, we will use OpenAI.</p>\n<h3 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Prerequisites</h3>\n<p>The prerequisites to follow the next sections is to have an OpneAI account and a running Kubernetes cluster; any cluster, such as microk8s or minikube will be sufficient.\nOnce you have the OpneAI account, you want to go to the following site to generate a new <a href=\"https://platform.openai.com/account/api-keys\" target=\"_blank\" rel=\"noopener noreferrer\">API key</a>.\nAlternatively, you can run the following command and K8sGPT will open the same site in your default Browser:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">k8sgpt generate</code></pre></div>\n<p>This key is needed for K8sGPT to interact with OpenAI. Authorise K8sGPT with the newly created API key/token:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">k8sgpt auth <span class=\"token function\">add</span> openai\nEnter openai Key: openai added to the AI backend provider list</code></pre></div>\n<p>You can list your backends with the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">k8sgpt auth list\nDefault:\n<span class=\"token operator\">></span> openai\nActive:\n<span class=\"token operator\">></span> openai\nUnused:\n<span class=\"token operator\">></span> localai\n<span class=\"token operator\">></span> azureopenai\n<span class=\"token operator\">></span> noopai</code></pre></div>\n<p>Again, <a href=\"https://docs.k8sgpt.ai/reference/providers/backend/?ref=anaisurl.com\" target=\"_blank\" rel=\"noopener noreferrer\">our documentation</a> provides further information on the different AI backends available.</p>\n<p>Next, we will install a malicious Deployment into our Kubernetes cluster. The pod will go into CrashLoopBackOff. Here is the YAML:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> apps/v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Deployment\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nginx<span class=\"token punctuation\">-</span>deployment\n  <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> nginx\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">replicas</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n  <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> nginx\n  <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> nginx\n    <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nginx\n        <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx<span class=\"token punctuation\">:</span>1.14.2\n        <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">containerPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n        <span class=\"token key atrule\">securityContext</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">readOnlyRootFilesystem</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>Next, we will create a dedicated namespace for our example application and install the Deployment:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl create ns demo\nnamespace/demo created</code></pre></div>\n<p>Then we apply the manifest:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl apply <span class=\"token parameter variable\">-f</span> ./deployment.yaml <span class=\"token parameter variable\">-n</span> demo\ndeployment.apps/nginx-deployment created</code></pre></div>\n<p>Now you will see the pods in our demo namespace throwing errors:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 20.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8ElEQVR42h2M206EMBRFKw0wMHTacitTOgMoCFETjf6A8Ybxwfj/H3O2TB9Wstc+F7ZOGt9Dgs8uxteQ4s2FeD9Fng9PiJ9Z42/O8btIrNuOn50vxN5fLfe+9glYf3YotISMOZaxw3zTYewsmpRDcIY9v4KrNJKAoSkUJlejihj6toYzBabe4XY4obc1jmUOZu6eIWoLHkYw9y8oxgcIOyCtHSKhEEQxxLEDYwzCtMiH2WfdTVDuGtXyuPHk/WDPYNK0tNclhbuUZNOS2hCVoYOxW19QwDklUtH2hHZCUlbUPmd5SanK/c2FLK8olZr+AZYQZgH4K6Q+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Errors in demo namespace\" title=\"\" src=\"/static/bed8b921d9c084b0f8c4e750dea427f3/c5bb3/errors.png\" srcset=\"/static/bed8b921d9c084b0f8c4e750dea427f3/04472/errors.png 170w,\n/static/bed8b921d9c084b0f8c4e750dea427f3/9f933/errors.png 340w,\n/static/bed8b921d9c084b0f8c4e750dea427f3/c5bb3/errors.png 680w,\n/static/bed8b921d9c084b0f8c4e750dea427f3/b12f7/errors.png 1020w,\n/static/bed8b921d9c084b0f8c4e750dea427f3/b5a09/errors.png 1360w,\n/static/bed8b921d9c084b0f8c4e750dea427f3/29007/errors.png 1600w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>If we look at the events for one of the pods, we will not become much smarter:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Warning  BackOff\t3s <span class=\"token punctuation\">(</span>x8 over 87s<span class=\"token punctuation\">)</span>  kubelet        \tBack-off restarting failed container</code></pre></div>\n<p>So what we can do instead to access more details on why these pods are erroring, we can run a K8sGPT command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">k8sgpt analyse</code></pre></div>\n<p>This will show us the problems that k8sGPT found inside our cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">AI Provider: openai</code></pre></div>\n<p>To receive further information as well as recommendations on how to fix the issues, we can use the --explain flag:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">k8sgpt analyse <span class=\"token parameter variable\">--explain</span>\n<span class=\"token number\">0</span> demo/nginx-deployment-5f4c7db77b-hq74n<span class=\"token punctuation\">(</span>Deployment/nginx-deployment<span class=\"token punctuation\">)</span>\n- Error: back-off 1m20s restarting failed <span class=\"token assign-left variable\">container</span><span class=\"token operator\">=</span>nginx <span class=\"token assign-left variable\">pod</span><span class=\"token operator\">=</span>nginx-deployment-5f4c7db77b-hq74n_demo<span class=\"token punctuation\">(</span>7854b793-21b7-4f81-86e5-dbb4113f64f4<span class=\"token punctuation\">)</span>\n<span class=\"token number\">1</span> demo/nginx-deployment-5f4c7db77b-phbq8<span class=\"token punctuation\">(</span>Deployment/nginx-deployment<span class=\"token punctuation\">)</span>\n- Error: back-off 1m20s restarting failed <span class=\"token assign-left variable\">container</span><span class=\"token operator\">=</span>nginx <span class=\"token assign-left variable\">pod</span><span class=\"token operator\">=</span>nginx-deployment-5f4c7db77b-phbq8_demo<span class=\"token punctuation\">(</span><span class=\"token number\">74038531</span>-e362-45a6-a436-cf1a6ea46d8a<span class=\"token punctuation\">)</span>\n<span class=\"token number\">2</span> demo/nginx-deployment-5f4c7db77b-shkw6<span class=\"token punctuation\">(</span>Deployment/nginx-deployment<span class=\"token punctuation\">)</span>\n- Error: back-off 1m20s restarting failed <span class=\"token assign-left variable\">container</span><span class=\"token operator\">=</span>nginx <span class=\"token assign-left variable\">pod</span><span class=\"token operator\">=</span>nginx-deployment-5f4c7db77b-shkw6_demo<span class=\"token punctuation\">(</span>2603f332-3e1c-45da-8080-e34dd6d956ad<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"-kubectl-ai-project\" style=\"position:relative;\"><a href=\"#-kubectl-ai-project\" aria-label=\" kubectl ai project permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✨ kubectl-ai project</h2>\n<p><a href=\"https://github.com/sozercan/kubectl-ai\" target=\"_blank\" rel=\"noopener noreferrer\">This project</a> is a kubectl plugin to generate and apply Kubernetes manifests using OpenAI GPT. To make it more interesting and understand in a visualized way, we will make use of Kubectl + OpenAI plugin.</p>\n<h3 id=\"installation-1\" style=\"position:relative;\"><a href=\"#installation-1\" aria-label=\"installation 1 permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation</h3>\n<p><strong>Homebrew:</strong></p>\n<p>Add to brew tap and install with:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew tap sozercan/kubectl-ai https://github.com/sozercan/kubectl-ai\nbrew <span class=\"token function\">install</span> kubectl-ai</code></pre></div>\n<p><strong>Krew:</strong>\nAdd to krew index and install with:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl krew index <span class=\"token function\">add</span> kubectl-ai https://github.com/sozercan/kubectl-ai\nkubectl krew <span class=\"token function\">install</span> kubectl-ai/kubectl-ai</code></pre></div>\n<h3 id=\"usage\" style=\"position:relative;\"><a href=\"#usage\" aria-label=\"usage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Usage</h3>\n<p><strong>Prerequisites:</strong></p>\n<p>kubectl-ai requires a valid Kubernetes configuration and one of the following:</p>\n<ul>\n<li><a href=\"https://platform.openai.com/overview\" target=\"_blank\" rel=\"noopener noreferrer\">OpenAI API key</a></li>\n<li><a href=\"https://aka.ms/azure-openai\" target=\"_blank\" rel=\"noopener noreferrer\">Azure OpenAI Service API key and endpoint</a></li>\n<li><a href=\"https://github.com/go-skynet/LocalAI\" target=\"_blank\" rel=\"noopener noreferrer\">Local AI</a> (see <a href=\"https://localai.io/basics/getting_started/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">getting started</a>)</li>\n</ul>\n<p>For OpenAI, Azure OpenAI or LocalAI, you can use the following environment variables:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">OPENAI_API_KEY</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your OpenAI key<span class=\"token operator\">></span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">OPENAI_DEPLOYMENT_NAME</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your OpenAI deployment/model name. defaults to <span class=\"token string\">\"gpt-3.5-turbo-0301\"</span><span class=\"token operator\">></span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">OPENAI_ENDPOINT</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your OpenAI endpoint, like <span class=\"token string\">\"https://my-aoi-endpoint.openai.azure.com\"</span> or <span class=\"token string\">\"http://localhost:8080/v1\"</span><span class=\"token operator\">></span></code></pre></div>\n<p>If <code class=\"language-text\">OPENAI_ENDPOINT</code> variable is set, then it will use the endpoint. Otherwise, it will use OpenAI API.</p>\n<p>Azure OpenAI service does not allow certain characters, such as ., in the deployment name. Consequently, kubectl-ai will automatically replace <code class=\"language-text\">gpt-3</code>.<code class=\"language-text\">5-turbo</code> to <code class=\"language-text\">gpt-35-turbo</code> for Azure. However, if you use an Azure OpenAI deployment name completely different from the model name, you can set <code class=\"language-text\">AZURE_OPENAI_MAP</code> environment variable to map the model name to the <strong>Azure OpenAI</strong> deployment name. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AZURE_OPENAI_MAP</span><span class=\"token operator\">=</span><span class=\"token string\">\"gpt-3.5-turbo=my-deployment\"</span></code></pre></div>\n<h3 id=\"demo\" style=\"position:relative;\"><a href=\"#demo\" aria-label=\"demo permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Demo</h3>\n<p><strong>Nginx Pod:</strong></p>\n<p>Run the below command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl ai <span class=\"token string\">\"create an nginx pod\"</span>\nkubectl ai <span class=\"token string\">\"create an nginx pod\"</span>\n✨ Attempting to apply the following manifest:\napiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n    ports:\n    - containerPort: <span class=\"token number\">80</span>\nUse the arrow keys to navigate: ↓ ↑ → ← \n? Would you like to apply this? <span class=\"token punctuation\">[</span>Reprompt/Apply/Don<span class=\"token string\">'t Apply]: \n+   Reprompt\n  ▸ Apply\n    Don'</span>t Apply</code></pre></div>\n<p><strong>Deployment:</strong></p>\n<p>Select <code class=\"language-text\">Reprompt</code> and type \"make this into deployment\"</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Reprompt: <span class=\"token function\">make</span> this into deployment\n✨ Attempting to apply the following manifest:\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  replicas: <span class=\"token number\">1</span>\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.7.9\n        ports:\n        - containerPort: <span class=\"token number\">80</span></code></pre></div>\n<p><strong>ReplicaSet:</strong></p>\n<p>Reprompt: Scale to 3 replicas</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Reprompt: Scale to <span class=\"token number\">3</span> replicas\n✨ Attempting to apply the following manifest:\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  replicas: <span class=\"token number\">3</span>\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        ports:\n        - containerPort: <span class=\"token number\">80</span></code></pre></div>\n<h2 id=\"-kopylot-ai-powered-kubernetes-assistant-\" style=\"position:relative;\"><a href=\"#-kopylot-ai-powered-kubernetes-assistant-\" aria-label=\" kopylot ai powered kubernetes assistant  permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✨ KoPylot: AI-Powered Kubernetes Assistant 🤖</h2>\n<p><a href=\"https://github.com/avsthiago/kopylot\" target=\"_blank\" rel=\"noopener noreferrer\">KoPylot</a> is an open-source AI-powered Kubernetes assistant. Its goal is to help developers and DevOps engineers to easily manage and monitor their Kubernetes clusters.\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVR42oVSy07CUBAtLUIjIRTKI5DWFqg8EtJQi7aBmpQm/QGXbk2Mbt1o4sJEXRl3/Iaf4xf4F66OmSkkoC0uTnrnzszpnHNHEAQBWcjlchBFkUHn7Vyn00EURQjDELVaje8sy6JvNmEWSqUSJpMJhsMhbNvGeDxGs9mEpmnZhLIsw/d9xHGMIAgwn8+ZgO6LxSJ6vR5c1+Wa2WyG6XSKfr+fTShJEksYDAYMOrfbbZ6O8hsrKKYcTToajdIJyS/yRVEUNBoNllOv19FqtRiFQuFPfblc5jrht9kb5PN5VKtVGIaBbrfLEo8Mk+Vu96T0ZyZ2mvbld/p1XedJtteEzqdxiIfVG5ww4PjgUIVxdgW5oieNWT/wPA+LxQKqqiZmSwnh3fsrvvCN2+dHjo+DG3x8At7Fy/pRpHRCx3F4j5bLJT87eUcJO/Bx/XSPk+g82T3VwvnlCormrtWI6YSmaYJk06ISKpXKv57uww/TyggrsSPGCgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"KoPylot\" title=\"\" src=\"/static/e7aeb68cc7b09d61e6cda4156fec5da9/c5bb3/KoPylot.png\" srcset=\"/static/e7aeb68cc7b09d61e6cda4156fec5da9/04472/KoPylot.png 170w,\n/static/e7aeb68cc7b09d61e6cda4156fec5da9/9f933/KoPylot.png 340w,\n/static/e7aeb68cc7b09d61e6cda4156fec5da9/c5bb3/KoPylot.png 680w,\n/static/e7aeb68cc7b09d61e6cda4156fec5da9/b12f7/KoPylot.png 1020w,\n/static/e7aeb68cc7b09d61e6cda4156fec5da9/e996b/KoPylot.png 1050w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"kopylot-features\" style=\"position:relative;\"><a href=\"#kopylot-features\" aria-label=\"kopylot features permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>KoPylot features</h3>\n<p>At the current version, KoPylot has four main features. These features can be translated into subcommands for the kopylot CLI. The subcommands are Audit, Chat, Ctl, and Diagnose. Let's dive into these commands now.\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.47058823529413%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLElEQVR42p1S227aQBC1DbbX9ysY2xgVkoqHtKpECCFCUaq+9iPyCUFqPy7/kT60r03wTyTr6ZkVSUnVlxbpaGa9M2fPmUE71U7Nzx/X12ebiy+L9+c3i8V6u/ywUljscbm+Aj5tl8v1drXcvML5cnOzWlx83ZxdXmvaVV97N50WR7M3D0mZ02x61BVFSVk2oDTJKOeY5jTIh5TEKQVBRFEYU4gYhi+5jKqGoqK89zRtqOFXx7G9yxKBxvwpCgJZDAYyy1JZVZUcqDyTuq5L1P4NjwDh/t5xnIoJK+H77WA+p6CqO8sPyApDMgyDi8i2bbIsi4QQL/kz+BsgDdT1e72d67qlIrSDoI1BmMznXXpyQt5oRPwqkxZFQWVZ0mw2U/lwOFTnuq4J6imKIun7Pj+wQ48irE3bbkWWsaKOifYWFNBASZIoIibgPE1TpY4fZNsce4cKBRRGeB0fOoAjeZ6HJQQqslXMR5HwHefPsd/vS4BM0/xN6JdlK0AoLKtrJhNsOVNgiyPYj+NY2czzXJ35bjweq3MYhpKJXyuM4taENdf3u7fHxzQBKdvDlhUR50zQNI1SDRLiuXEO9UohcLgU/4Fn6IXh06RpZIBXcSnRIGGZhy5ZCS8AaiRvliPXAI8ORgLCn4oQA64t4bSmbWFebne4kD/zw/MBpA7Lhm3vHIjTYCkXnn9rOuI7lNyh6RuK/gV3uuv+0IW4RW/Glg0g5b8P2/9P1HsO4xfjBfTRaPWtugAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"KoPylot-feat\" title=\"\" src=\"/static/fff5b19ba8552d8d8c391c94786b5735/c5bb3/KoPylot-features.png\" srcset=\"/static/fff5b19ba8552d8d8c391c94786b5735/04472/KoPylot-features.png 170w,\n/static/fff5b19ba8552d8d8c391c94786b5735/9f933/KoPylot-features.png 340w,\n/static/fff5b19ba8552d8d8c391c94786b5735/c5bb3/KoPylot-features.png 680w,\n/static/fff5b19ba8552d8d8c391c94786b5735/b12f7/KoPylot-features.png 1020w,\n/static/fff5b19ba8552d8d8c391c94786b5735/e996b/KoPylot-features.png 1050w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>🔍 Audit:</strong></p>\n<p>Audit resources, such as pods, deployments, and services. KoPylot will take a single resource and look for vulnerabilities based on its manifest file.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 65.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7ElEQVR42nVS2W7bMBDUf1iHLVEXZVmWRFqXZRRFkAQI+v+fM91hQsN96MNgeezOzh5BVCmEOscpzXC5XBzO5zPatoXWGk3TIIoihGH4RBzH/0UQHQ6II3EUHMLDM/iYpqiFsCgKVFXliJmgrmscj0ckSeJAEsZGSeRsYAaLsTOwnYUR24g6BreidDQG4zjier1iGAYHI2/89+j7HsttQ38xGPoBwX294317x8f+gbftDdZYFzSOgyNjAK211oGkt9vNnTtJau0Nf35/4uv+C8u0IGC/tn3DvM6YlgnLsjzxeDyw77tL0HWdU8qyeWbc6XSCygu0OsWoQznnCBrdYBxGl5lqGERwOAx8BUvkH88k1rpGmskwZaimTpALecAP78Ssr6SehBPnnX9MRMUcDhWSsC4zVCqCUvl3yewHnaZpcpZgMN99/2gJ+vj14gaksm7zrLE/SlR1KSWLAk/om+2b/5ponmd3X9fVVeJLLstKkleSLJf1EkJmohOxbdtTEcm9Yg6IhH5Y/GMc95N963slvqkoVt89pBo/iEx6Qiil/kEqi/76zjt7yLJVUSFOMjn/lMx++Z75BWYCKuGZw6FSP3kqp78R/6oskTYl4rMQSz8DTotO3pnWT9VPmuCb9/F/fMtl95zKH+V/AVVYjPW9me7hAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"audit\" title=\"\" src=\"/static/941665452212785b4322257a463ecfa2/c5bb3/Audit.png\" srcset=\"/static/941665452212785b4322257a463ecfa2/04472/Audit.png 170w,\n/static/941665452212785b4322257a463ecfa2/9f933/Audit.png 340w,\n/static/941665452212785b4322257a463ecfa2/c5bb3/Audit.png 680w,\n/static/941665452212785b4322257a463ecfa2/b12f7/Audit.png 1020w,\n/static/941665452212785b4322257a463ecfa2/e996b/Audit.png 1050w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>💬 Chat:</strong></p>\n<p>Ask KoPylot in plain English to generate kubectl commands. You will be able to review the command before running it 😉.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABr0lEQVR42pWSWY7bMBBEdYkgyIiLSGrnJlLLwDPOLB++/5EqLSWIDSRB7I8CmwL02FXdRdd1WLcVOWdM04SUEgZn8c03YLmHMgb9MGJZMmmGtSNymlBVEoyVEIJDcI6n8gucekXR1DXsOKInsLMWwYej1qaFbi2UaqAbC9M61CTdjDAdnfUA0weouqO7h2hrhOYTRd13GFNEHx38muHyhPPHJ8yaUKUM+bLCbBl6nSE/zlCnZ2gXoEOAiQmaGtBjANcCvn5H8aTlAZy3DT1ZDQRMFIHLAS555NdnWCfR9hLxtNE3i9mXiF5gDgyDr1BqhZIse02WTdug9SOGKaALFnGjnHI8Xq76HrIxYEaBkyqqZU1q1G9xkqgIyL8S8IzCO4f3tzfEENG1LdKUMA4DpCFYZcBLdoS+izP+qxY/78cpIIW8Ag1NcaShaKWhtaYh0MuSLFLn+ymE+K+kqK7AfW0CBeyo02VZsFGWMUZcLhfUtAGMsceAnFrff+KHhWt9D+ivwHt/egh4m9Ve35vdPyyTRbJ3a/URu38Afdqwnr7TukQMtC7e+2NIj3R5C/wB2oVxJZQIJKQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"chat\" title=\"\" src=\"/static/ba970d727e692c194a8e87e0671aeed6/c5bb3/chat.png\" srcset=\"/static/ba970d727e692c194a8e87e0671aeed6/04472/chat.png 170w,\n/static/ba970d727e692c194a8e87e0671aeed6/9f933/chat.png 340w,\n/static/ba970d727e692c194a8e87e0671aeed6/c5bb3/chat.png 680w,\n/static/ba970d727e692c194a8e87e0671aeed6/b12f7/chat.png 1020w,\n/static/ba970d727e692c194a8e87e0671aeed6/e996b/chat.png 1050w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>🩺 Diagnose:</strong></p>\n<p>You can use the diagnose tool to help you debug the different components of your application, such as pods, deployments, and services. The diagnose command will list for you possible fixes for the broken resource.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 35.29411764705882%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42pWRzU7DMBCE8x6Nf9ZeJ3GcNimQFpUfcQAER97/YYbdhAOIFonDJ3tl73hnXDkmuEhIMaHkHn2/UkoBM8NsalhjYOtvGHuRSsVcG2HYo1ZMjY1gRIRzB5oyfMfwmUFDAz+0sORhw3kqvZyeb4QZzdsR/LgH5QQqDcIug3YtfC+1CHkRdBxgrYN1v9HhKieq/HSF5v0W6WVG93GP9HpAvBtFfEI4bhEPA/hhAu3z2mztWVSrct4hXPeIp3FpDnNZJlptyipxqF21qvslz78EtTFITrRtJS/JbOzkgH42LoF/1TLARdSyJfGeApbfVnSvHyWv/RcV/QSndcU026klhgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"KoPylot\" title=\"\" src=\"/static/f4204a76cb5dd59bc2f6a6c24cf4f1e6/c5bb3/diagnose.png\" srcset=\"/static/f4204a76cb5dd59bc2f6a6c24cf4f1e6/04472/diagnose.png 170w,\n/static/f4204a76cb5dd59bc2f6a6c24cf4f1e6/9f933/diagnose.png 340w,\n/static/f4204a76cb5dd59bc2f6a6c24cf4f1e6/c5bb3/diagnose.png 680w,\n/static/f4204a76cb5dd59bc2f6a6c24cf4f1e6/b12f7/diagnose.png 1020w,\n/static/f4204a76cb5dd59bc2f6a6c24cf4f1e6/e996b/diagnose.png 1050w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>☸️ Ctl:</strong></p>\n<p>A wrapper around kubectl. All the arguments passed to the ctl subcommand are interpreted by kubectl.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 15.294117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAW0lEQVR42pXMsQ3AIAxEUfbAxtARjECGiv0HuwQmCMXpFyc9V0eHWoPZwFoLc85TM0POGTFGhBB+z5WmeHrF+EBVPUhKCSKCUso9SIGxJxLBzPCeTvdJRFfYBl9OIVOrLoacIgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ctl\" title=\"\" src=\"/static/027a2e2620b844478857da2c7e8b2cb4/c5bb3/ctl.png\" srcset=\"/static/027a2e2620b844478857da2c7e8b2cb4/04472/ctl.png 170w,\n/static/027a2e2620b844478857da2c7e8b2cb4/9f933/ctl.png 340w,\n/static/027a2e2620b844478857da2c7e8b2cb4/c5bb3/ctl.png 680w,\n/static/027a2e2620b844478857da2c7e8b2cb4/b12f7/ctl.png 1020w,\n/static/027a2e2620b844478857da2c7e8b2cb4/e996b/ctl.png 1050w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"how-does-kopylotwork\" style=\"position:relative;\"><a href=\"#how-does-kopylotwork\" aria-label=\"how does kopylotwork permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How does KoPylot work?</h3>\n<p>At the moment, KoPylot works by extracting information from the Kubernetes resource description <em>(kubectl describe …)</em> or manifest and feeding it into <a href=\"https://platform.openai.com/docs/models/overview\" target=\"_blank\" rel=\"noopener noreferrer\">OpenAI's Davinci model</a> together with a prompt. The prompt tells the model what to do with the Kubernetes resource.</p>\n<p>The prompt is also responsible for guiding how the model should structure the output. For example, the prompt used for<a href=\"https://github.com/avsthiago/kopylot/blob/main/kopylot/prompts.py#L15\" target=\"_blank\" rel=\"noopener noreferrer\">the Audit command</a> asks the model to output the results as a two-column JSON containing the vulnerabilities and their Severities.</p>\n<h3 id=\"how-good-are-theoutputs\" style=\"position:relative;\"><a href=\"#how-good-are-theoutputs\" aria-label=\"how good are theoutputs permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How good are the outputs?</h3>\n<p>I tested KoPylot on a dummy cluster with some broken pods, some with vulnerabilities and others without. What I noticed is that the Davinci model can give good directions when diagnosing a broken pod. Sometimes the advice will be too short for one to understand, but by running the diagnose command 2–3 times, it is possible to pinpoint the issue.</p>\n<h2 id=\"-kopilot-️-ai-kubernetes-expert\" style=\"position:relative;\"><a href=\"#-kopilot-%EF%B8%8F-ai-kubernetes-expert\" aria-label=\" kopilot ️ ai kubernetes expert permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✨ Kopilot 🧑‍✈️: AI Kubernetes Expert</h2>\n<p><a href=\"https://github.com/knight42/kopilot\" target=\"_blank\" rel=\"noopener noreferrer\">Kopilot</a> is the only one out of these projects written in Go. It covers two functions, troubleshooting and auditing. So what do they do?</p>\n<h3 id=\"installation-guide\" style=\"position:relative;\"><a href=\"#installation-guide\" aria-label=\"installation guide permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation guide</h3>\n<p><strong>macOS:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew <span class=\"token function\">install</span> knight42/tap/kopilot</code></pre></div>\n<p>Krew:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl krew <span class=\"token function\">install</span> kopilot</code></pre></div>\n<h3 id=\"usage-guide\" style=\"position:relative;\"><a href=\"#usage-guide\" aria-label=\"usage guide permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Usage guide</h3>\n<p>Currently, you need to set two ENVs to run Kopilot:</p>\n<ul>\n<li>Set <code class=\"language-text\">KOPILOT_TOKEN</code> to specify your token.</li>\n<li>Set KOPILOT_LANG to specify the language, defaults to English. Valid options are <code class=\"language-text\">Chinese</code>, <code class=\"language-text\">French</code>, <code class=\"language-text\">Spain</code>, etc.</li>\n<li><code class=\"language-text\">KOPILOT_TOKEN_TYPE</code> will be available soon to let you specify AI services other than ChatGPT. Please stay tuned.</li>\n</ul>\n<h3 id=\"highlight\" style=\"position:relative;\"><a href=\"#highlight\" aria-label=\"highlight permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Highlight</h3>\n<ul>\n<li>Diagnose any unhealthy workload in your cluster and tell you what might be the cause</li>\n</ul>\n<p><img src=\"/05fced4b6ad91235621fceb80a979ae3/Kopilot.gif\" alt=\"Kopylot\" loading=\"lazy\">\n          </p>\n<ul>\n<li>Audit Kubernetes resource and find the security misconfigurations</li>\n</ul>\n<p><img src=\"/692eedb507938331dda290e91f31e887/Audits.gif\" alt=\"Audits\" loading=\"lazy\">\n          </p>\n<p>Imagine you have a Pod that is stuck in Pending or CrashLoopBackOff. This is when the kopilot diagnose command will come in handy. It will reach AI for help and print you its answer with possible explanations as to why this has happened.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 39.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR42k2RWY7CQAxE+x5JOgskZIcsLEJ8cP9L1eRZMpqPkstut8tLGJta27vStBQaxlb7tmuepwOz+r7X9XrVNE1miQE4b7fbTeu6ats2LctieSHGTDFPlcVESZIoxmjI81xpmhrPsuwXd/8/yHWEsqo0DOOhOJjiOI7quk5N0xzxQefz2fy2bXW5XH5xYoB8hGkGG0i43+82Cm0DH5PkdV2077vFfQ0IU5Q8QB4+ogHCDk6nk6qjW1DXtcE5lnfE4XQNpwDcOyc34FCQLlF7vV4G/Ofzqc/nYz6dAQozKhzLf3/DD6jwmaKPx8Ou5tdjVPfhfPKLMxkroAicsW1kAuwH60ch0T9S0GO+W8S/368JcPWiKFSWpdk/lgjuAI5r4BEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"kopilot-diagnose\" title=\"\" src=\"/static/06b222488f49ccc432e1e49d36ca3401/c5bb3/kopilot-diagnose.png\" srcset=\"/static/06b222488f49ccc432e1e49d36ca3401/04472/kopilot-diagnose.png 170w,\n/static/06b222488f49ccc432e1e49d36ca3401/9f933/kopilot-diagnose.png 340w,\n/static/06b222488f49ccc432e1e49d36ca3401/c5bb3/kopilot-diagnose.png 680w,\n/static/06b222488f49ccc432e1e49d36ca3401/31198/kopilot-diagnose.png 694w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Not sure if your Deployment is good enough? The kopilot audit command, using a similar approach, will check it against the well-known best practices and possible security misconfigurations.</p>\n<p>This tool will use your OpenAI API token and the human language of your choice for the answers. The README also hints that there will be an option to use other AI services in the future.</p>\n<p>Sadly, the project hasn't seen any commits since the beginning of April, raising obvious concerns.</p>\n<h2 id=\"-kubectl-gpt\" style=\"position:relative;\"><a href=\"#-kubectl-gpt\" aria-label=\" kubectl gpt permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✨ Kubectl-GPT</h2>\n<p><a href=\"https://github.com/devinjeon/kubectl-gpt\" target=\"_blank\" rel=\"noopener noreferrer\">Kubectl-GPT</a> is a kubectl plugin to generate kubectl commands from natural language input by using GPT model.</p>\n<p>This plugin introduces the <code class=\"language-text\">kubectl gpt</code> command, whose sole mission is to make your wishes - i.e. requests stated in human language - come true in your Kubernetes cluster. Here are examples of what you can expect from this plugin as outlined in its documentation:</p>\n<h3 id=\"installation-2\" style=\"position:relative;\"><a href=\"#installation-2\" aria-label=\"installation 2 permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation</h3>\n<p><strong>Homebrew:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Install Homebrew: https://brew.sh/</span>\nbrew tap devinjeon/kubectl-gpt https://github.com/devinjeon/kubectl-gpt\nbrew <span class=\"token function\">install</span> kubectl-gpt</code></pre></div>\n<p><strong>Krew:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Install Krew: https://krew.sigs.k8s.io/docs/user-guide/setup/install/</span>\nkubectl krew index <span class=\"token function\">add</span> devinjeon https://github.com/devinjeon/kubectl-gpt\nkubectl krew <span class=\"token function\">install</span> devinjeon/gpt</code></pre></div>\n<h3 id=\"usage-mode\" style=\"position:relative;\"><a href=\"#usage-mode\" aria-label=\"usage mode permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Usage mode</h3>\n<p>Run the command line tool with your natural language input to generate a kubectl command.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl gpt <span class=\"token string\">\"&lt;WHAT-YOU-WANT-TO-DO>\"</span></code></pre></div>\n<p>Commands generated by the GPT model may not always be perfect, please verify them before execution.</p>\n<p><strong>Prerequisites:</strong></p>\n<p>Before you start, make sure to set your OpenAI API key as an environment variable named <code class=\"language-text\">OPENAI_API_KEY</code>. You can get a key for using the OpenAI API <a href=\"https://platform.openai.com/account/api-keys\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p>You can add the following line to your <code class=\"language-text\">.zshrc</code> or <code class=\"language-text\">.bashrc</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">OPENAI_API_KEY</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your-key<span class=\"token operator\">></span></code></pre></div>\n<h3 id=\"examples\" style=\"position:relative;\"><a href=\"#examples\" aria-label=\"examples permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Examples</h3>\n<p>It depends on the languages supported by the OpenAI GPT API.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># English</span>\nkubectl gpt <span class=\"token string\">\"Print the creation time and pod name of all pods in all namespaces.\"</span>\nkubectl gpt <span class=\"token string\">\"Print the memory limit and request of all pods\"</span>\nkubectl gpt <span class=\"token string\">\"Increase the replica count of the coredns deployment to 2\"</span>\nkubectl gpt <span class=\"token string\">\"Switch context to the kube-system namespace\"</span>\n<span class=\"token comment\"># Korean</span>\nkubectl gpt <span class=\"token string\">\"현재 namespace에서 각 pod 별 생성시간 출력\"</span>\nkubectl gpt <span class=\"token string\">\"coredns deployment의 replica를 2로 증가\"</span></code></pre></div>\n<p>This project is developed by a solitary enthusiast and hasn't seen any updates since the end of May.</p>\n<h2 id=\"-kube-copilot\" style=\"position:relative;\"><a href=\"#-kube-copilot\" aria-label=\" kube copilot permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✨ kube-copilot</h2>\n<p><a href=\"https://github.com/feiskyer/kube-copilot\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes Copilot</a> powered by OpenAI.</p>\n<p>Features:</p>\n<ul>\n<li>Automate Kubernetes cluster operations using ChatGPT (GPT-4 or GPT-3.5).</li>\n<li>Diagnose and analyze the potential issues for Kubernetes workloads.</li>\n<li>Generate the Kubernetes manifests based on the provided prompt instructions.</li>\n<li>Utilize native kubectl and trivy commands for Kubernetes cluster access and security vulnerability scanning.</li>\n<li>Access the web and perform Google searches without leaving the terminal.</li>\n</ul>\n<p><strong>Install:</strong></p>\n<p><em>Run in Kubernetes:</em></p>\n<ul>\n<li>Option 1: Web UI with Helm (recommended)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Option 1: OpenAI</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">OPENAI_API_KEY</span><span class=\"token operator\">=</span><span class=\"token string\">\"&lt;replace-this>\"</span>\nhelm <span class=\"token function\">install</span> kube-copilot kube-copilot <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--repo</span> https://feisky.xyz/kube-copilot <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">openai.apiModel</span><span class=\"token operator\">=</span>gpt-4 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">openai.apiKey</span><span class=\"token operator\">=</span><span class=\"token variable\">$OPENAI_API_KEY</span>\n\n<span class=\"token comment\"># Option 2: Azure OpenAI Service</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">OPENAI_API_KEY</span><span class=\"token operator\">=</span><span class=\"token string\">\"&lt;replace-this>\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">OPENAI_API_BASE</span><span class=\"token operator\">=</span><span class=\"token string\">\"&lt;replace-this>\"</span>\nhelm <span class=\"token function\">install</span> kube-copilot kube-copilot <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--repo</span> https://feisky.xyz/kube-copilot <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">openai.apiModel</span><span class=\"token operator\">=</span>gpt-4 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">openai.apiKey</span><span class=\"token operator\">=</span><span class=\"token variable\">$OPENAI_API_KEY</span> <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">openai.apiBase</span><span class=\"token operator\">=</span><span class=\"token variable\">$OPENAI_API_BASE</span>\n<span class=\"token comment\"># Forwarding requests to the service</span>\nkubectl port-forward service/kube-copilot <span class=\"token number\">8080</span>:80\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Visit http://127.0.0.1:8080 to use the copilot\"</span></code></pre></div>\n<p><em>Option 2: CLI with kubectl</em></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl run <span class=\"token parameter variable\">-it</span> <span class=\"token parameter variable\">--rm</span> copilot <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--env</span><span class=\"token operator\">=</span><span class=\"token string\">\"OPENAI_API_KEY=<span class=\"token variable\">$OPENAI_API_KEY</span>\"</span> <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--restart</span><span class=\"token operator\">=</span>Never <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>ghcr.io/feiskyer/kube-copilot <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--execute</span> <span class=\"token parameter variable\">--verbose</span> <span class=\"token string\">'What Pods are using max memory in the cluster'</span></code></pre></div>\n<p><strong>Local Install:</strong></p>\n<p>Install the copilot with pip command below:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pip install kube<span class=\"token operator\">-</span>copilot</code></pre></div>\n<p><strong>Setup:</strong></p>\n<ul>\n<li>Ensure <a href=\"https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/\" target=\"_blank\" rel=\"noopener noreferrer\">kubectl</a> is installed on the local machine and the kubeconfig file is configured for Kubernetes cluster access.</li>\n<li>Install <a href=\"https://github.com/aquasecurity/trivy\" target=\"_blank\" rel=\"noopener noreferrer\">trivy</a> to assess container image security issues (for the audit command).</li>\n<li>Set the <a href=\"https://platform.openai.com/account/api-keys\" target=\"_blank\" rel=\"noopener noreferrer\">OpenAI API key</a> as the <code class=\"language-text\">OPENAI_API_KEY</code> environment variable to enable ChatGPT functionality.</li>\n<li>For <a href=\"https://learn.microsoft.com/en-us/azure/cognitive-services/openai/quickstart?tabs=command-line&#x26;pivots=rest-api#retrieve-key-and-endpoint\" target=\"_blank\" rel=\"noopener noreferrer\">Azure OpenAI service</a>, also set <code class=\"language-text\">OPENAI_API_TYPE=azure</code> and <code class=\"language-text\">OPENAI_API_BASE=https://&lt;replace-this>.openai.azure.com/</code>.</li>\n<li>Google search is disabled by default. To enable it, set <code class=\"language-text\">GOOGLE_API_KEY</code> and <code class=\"language-text\">GOOGLE_CSE_ID</code> (obtain <a href=\"https://cloud.google.com/docs/authentication/api-keys?visit_id=638154888929258210-4085587461\" target=\"_blank\" rel=\"noopener noreferrer\">from</a> here and <a href=\"http://www.google.com/cse/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>).</li>\n</ul>\n<p><strong>How to use web UI:</strong>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.47058823529413%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3KoUf//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAgMf/aAAgBAQAGPwIq/wD/xAAYEAADAQEAAAAAAAAAAAAAAAAAARARIf/aAAgBAQABPyHpjhGT/9oADAMBAAIAAwAAABATz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAAMAAgIDAAAAAAAAAAAAAAABESFRMUFhkaH/2gAIAQEAAT8QULmN9w8v0hPCuXsSuFb+EP/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"web ui\" title=\"\" src=\"/static/b3f908d5baf0517b38e212dab9ef885b/7bf67/web-ui.jpg\" srcset=\"/static/b3f908d5baf0517b38e212dab9ef885b/651be/web-ui.jpg 170w,\n/static/b3f908d5baf0517b38e212dab9ef885b/d30a3/web-ui.jpg 340w,\n/static/b3f908d5baf0517b38e212dab9ef885b/7bf67/web-ui.jpg 680w,\n/static/b3f908d5baf0517b38e212dab9ef885b/2ec65/web-ui.jpg 979w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>How to use CLI:</strong></p>\n<p>Running directly in the terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Usage: kube-copilot <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> COMMAND <span class=\"token punctuation\">[</span>ARGS<span class=\"token punctuation\">]</span><span class=\"token punctuation\">..</span>.\nKubernetes Copilot powered by OpenAI\nOptions:\n  <span class=\"token parameter variable\">--version</span>  Show the version and exit.\n  <span class=\"token parameter variable\">--help</span>     Show this message and exit.\nCommands:\n  analyze   analyze issues <span class=\"token keyword\">for</span> a given resource\n  audit     audit security issues <span class=\"token keyword\">for</span> a Pod\n  diagnose  diagnose problems <span class=\"token keyword\">for</span> a Pod\n  execute   execute operations based on prompt instructions\n  generate  generate Kubernetes manifests</code></pre></div>\n<p><strong>Audit Security Issues for Pod:</strong></p>\n<p><code class=\"language-text\">kube-copilot audit POD [NAMESPACE]</code> will audit security issues for a Pod:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Usage: kube-copilot audit <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> POD <span class=\"token punctuation\">[</span>NAMESPACE<span class=\"token punctuation\">]</span>\n audit security issues <span class=\"token keyword\">for</span> a Pod\nOptions:\n  <span class=\"token parameter variable\">--verbose</span>      Enable verbose information of copilot execution steps\n  <span class=\"token parameter variable\">--model</span> MODEL  OpenAI model to use <span class=\"token keyword\">for</span> copilot execution, default is gpt-4\n  <span class=\"token parameter variable\">--help</span>         Show this message and exit.</code></pre></div>\n<p><strong>Diagnose Problems for Pod:</strong></p>\n<p><code class=\"language-text\">kube-copilot diagnose POD [NAMESPACE]</code> will diagnose problems for a Pod:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Usage: kube-copilot diagnose <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> POD <span class=\"token punctuation\">[</span>NAMESPACE<span class=\"token punctuation\">]</span>\n diagnose problems <span class=\"token keyword\">for</span> a Pod\nOptions:\n  <span class=\"token parameter variable\">--verbose</span>      Enable verbose information of copilot execution steps\n  <span class=\"token parameter variable\">--model</span> MODEL  OpenAI model to use <span class=\"token keyword\">for</span> copilot execution, default is gpt-4\n  <span class=\"token parameter variable\">--help</span>         Show this message and exit.</code></pre></div>\n<p><strong>Analyze Potential Issues for k8s Object:</strong></p>\n<p><code class=\"language-text\">kube-copilot analyze RESOURCE NAME [NAMESPACE]</code> will analyze potential issues for the given resource object:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Usage: kube-copilot analyze <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> RESOURCE NAME <span class=\"token punctuation\">[</span>NAMESPACE<span class=\"token punctuation\">]</span>\n  analyze issues <span class=\"token keyword\">for</span> a given resource\nOptions:\n  <span class=\"token parameter variable\">--verbose</span>     Enable verbose information of copilot execution steps\n  <span class=\"token parameter variable\">--model</span> TEXT  OpenAI model to use <span class=\"token keyword\">for</span> copilot execution, default is gpt-4\n  <span class=\"token parameter variable\">--help</span>        Show this message and exit.</code></pre></div>\n<p><strong>Execute Operations Based on Prompt Instructions:</strong></p>\n<p><code class=\"language-text\">kube-copilot execute INSTRUCTIONS</code> will execute operations based on prompt instructions. It could also be used to ask any questions.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Usage: kube-copilot execute <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> INSTRUCTIONS\nexecute operations based on prompt instructions\nOptions:\n  <span class=\"token parameter variable\">--verbose</span>      Enable verbose information of copilot execution steps\n  <span class=\"token parameter variable\">--model</span> MODEL  OpenAI model to use <span class=\"token keyword\">for</span> copilot execution, default is gpt-4\n  <span class=\"token parameter variable\">--help</span>         Show this message and exit.</code></pre></div>\n<p><strong>Generate Kubernetes Manifests:</strong></p>\n<p>Use the <code class=\"language-text\">kube-copilot generate</code> command to create Kubernetes manifests based on the provided prompt instructions.\nAfter generating the manifests, you will be prompted to confirm whether you want to apply them.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Usage: kube-copilot generate <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> INSTRUCTIONS\ngenerate Kubernetes manifests\nOptions:\n  <span class=\"token parameter variable\">--verbose</span>     Enable verbose information of copilot execution steps\n  <span class=\"token parameter variable\">--model</span> TEXT  OpenAI model to use <span class=\"token keyword\">for</span> copilot execution, default is gpt-4\n  <span class=\"token parameter variable\">--help</span>        Show this message and exit.</code></pre></div>\n<h2 id=\"--holmes-gpt\" style=\"position:relative;\"><a href=\"#--holmes-gpt\" aria-label=\"  holmes gpt permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✨  holmes GPT</h2>\n<p>A <a href=\"https://github.com/robusta-dev/holmesgpt\" target=\"_blank\" rel=\"noopener noreferrer\">ChatGPT</a> bot for Kubernetes issues. Ask the AI how to solve your Prometheus alerts, get pithy responses.\nNo more solving alerts alone in the darkness - the internet has your back.</p>\n<p><img src=\"/f7715b954eeb7ce18d1b19db73b935a6/HolmesGPT.gif\" alt=\"HolmesGPT\" loading=\"lazy\">\n          </p>\n<h3 id=\"what-can-holmesgpt-do\" style=\"position:relative;\"><a href=\"#what-can-holmesgpt-do\" aria-label=\"what can holmesgpt do permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>What Can HolmesGPT Do?</h3>\n<ul>\n<li><strong>Investigate Incidents (AIOps)</strong> from PagerDuty/OpsGenie/Prometheus/Jira/more</li>\n<li><strong>Bidirectional Integrations</strong> see investigation results inside your existing ticketing/incident management system</li>\n<li><strong>Automated Triage:</strong> Use HolmesGPT as a first responder. Flag critical alerts and prioritize them for your team to look at</li>\n<li><strong>Alert Enrichment:</strong> Automatically add context to alerts - like logs and microservice health info - to find root causes faster</li>\n<li><strong>Identify Cloud Problems</strong> by asking HolmesGPT questions about unhealthy infrastructure</li>\n<li><strong>Runbook Automation in Plain English:</strong> Speed up your response to known issues by investigating according to runbooks you provide</li>\n</ul>\n<h3 id=\"see-it-in-action\" style=\"position:relative;\"><a href=\"#see-it-in-action\" aria-label=\"see it in action permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>See it in Action</h3>\n<p><img src=\"/f7715b954eeb7ce18d1b19db73b935a6/holmesgptdemo.gif\" alt=\"AI Alert Analysis\" loading=\"lazy\">\n          </p>\n<p><strong>Examples</strong></p>\n<ul>\n<li>Kubernetes Troubleshooting</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">holmes ask <span class=\"token string\">\"what pods are unhealthy in my cluster and why?\"</span></code></pre></div>\n<ul>\n<li>Prometheus Alert RCA (root cause analysis)</li>\n</ul>\n<p>Investigate Prometheus alerts right from Slack with the official <a href=\"https://docs.robusta.dev/holmes_chart_dependency/configuration/ai-analysis.html\" target=\"_blank\" rel=\"noopener noreferrer\">Robusta integration</a>.</p>\n<p><img src=\"https://github.com/robusta-dev/holmesgpt/assets/494087/fd2451b0-b951-4798-af62-f69affac831e\" alt=\"342708962-e0c9ccde-299e-41d7-84e3-c201277a9ccb (1)\" loading=\"lazy\">\n          </p>\n<p>Or run HolmesGPT from the cli:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl port-forward alertmanager-robusta-kube-prometheus-st-alertmanager-0 <span class=\"token number\">9093</span>:9093 <span class=\"token operator\">&amp;</span>\nholmes investigate alertmanager --alertmanager-url http://localhost:9093</code></pre></div>\n<p>Note - if on Mac OS and using the Docker image, you will need to use <code class=\"language-text\">http://docker.for.mac.localhost:9093</code> instead of <code class=\"language-text\">http://localhost:9093</code></p>\n<h3 id=\"key-features\" style=\"position:relative;\"><a href=\"#key-features\" aria-label=\"key features permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Key Features</h3>\n<ul>\n<li><strong>Connects to Existing Observability Data:</strong> Find correlations you didn’t know about. No need to gather new data or add instrumentation.</li>\n<li><strong>Compliance Friendly:</strong> Can be run on-premise with your own LLM (or in the cloud with OpenAI/Azure/AWS)</li>\n<li><strong>Transparent Results:</strong> See a log of the AI’s actions and what data it gathered to understand how it reached conclusions</li>\n<li><strong>Extensible Data Sources:</strong> Connect the AI to custom data by providing your own tool definitions</li>\n<li><strong>Runbook Automation:</strong> Optionally provide runbooks in plain English and the AI will follow them automatically</li>\n<li><strong>Integrates with Existing Workflows:</strong> Connect Slack and Jira to get results inside your existing tools</li>\n</ul>\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n<p><em><strong>📚Resources:📚</strong></em></p>\n<p><a href=\"https://k8sgpt.ai/\" target=\"_blank\" rel=\"noopener noreferrer\">k8sgpt website</a></p>\n<p><a href=\"https://docs.k8sgpt.ai/\" target=\"_blank\" rel=\"noopener noreferrer\">k8sgpt documentation</a></p>\n<p><a href=\"https://k8sgpt.slack.com/join/shared_invite/zt-1rwe5fpzq-VNtJK8DmYbbm~iWL1H34nw?ref=anaisurl.com#/shared-invite/email\" target=\"_blank\" rel=\"noopener noreferrer\">k8sgpt Slack workspace</a></p>\n<p><a href=\"https://github.com/k8sgpt-ai\" target=\"_blank\" rel=\"noopener noreferrer\">k8sgpt GitHub Organisation</a></p>\n<p><a href=\"https://anaisurl.com/k8sgpt-full-tutorial/\" target=\"_blank\" rel=\"noopener noreferrer\">https://anaisurl.com/k8sgpt-full-tutorial/</a></p>\n<p><a href=\"https://github.com/sozercan/kubectl-ai\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/sozercan/kubectl-ai</a></p>\n<p><a href=\"https://collabnix.com/the-rise-of-kubernetes-and-ai-kubectl-openai-plugin/\" target=\"_blank\" rel=\"noopener noreferrer\">https://collabnix.com/the-rise-of-kubernetes-and-ai-kubectl-openai-plugin/</a></p>\n<p><a href=\"https://medium.com/@thiagoalves/introducing-kopylot-a-kubernetes-ai-assistant-264cff0e7846\" target=\"_blank\" rel=\"noopener noreferrer\">https://medium.com/@thiagoalves/introducing-kopylot-a-kubernetes-ai-assistant-264cff0e7846</a></p>\n<p><a href=\"https://github.com/knight42/kopilot\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/knight42/kopilot</a></p>\n<p><a href=\"https://github.com/devinjeon/kubectl-gpt\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/devinjeon/kubectl-gpt</a></p>\n<p><a href=\"https://github.com/robusta-dev/holmesgpt\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/robusta-dev/holmesgpt</a></p>\n<p><strong>📅 Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/data-on-kubernetes/","title":"Managing Data on Kubernetes","date":"2024-09-27 20:06:00"},"excerpt":"From databases to Big data: how k8s handles stateful workloads 📗\nThis is a blog series about Data on Kubernetes DoK 🔥 I have been inspired…","html":"<blockquote>\n<p><strong>From databases to Big data: how k8s handles stateful workloads 📗</strong>\nThis is a blog series about Data on Kubernetes DoK 🔥</p>\n</blockquote>\n<p>I have been inspired by the work done by <a href=\"https://dok.community/\" target=\"_blank\" rel=\"noopener noreferrer\">Data On Kubernetes community DOKC</a>.</p>\n<p><strong>👉 Few weeks ago, I have posted on reddit to ask on some feedback on <a href=\"https://www.reddit.com/r/kubernetes/comments/1dp062w/are_you_running_stateful_data_workloads_or/?sort=old\" target=\"_blank\" rel=\"noopener noreferrer\">running stateful data workloads or running databases on Kubernetes</a> and I got a lot of interesting answers.</strong></p>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📚 Introduction</h2>\n<p>Kubernetes, the popular container management system, was initially designed for stateless applications. But guess what? It's not just for simple apps anymore! k8s has become a great data orchestrator.</p>\n<p>Organizations now recognize data as a valuable asset, and Kubernetes provides an ideal framework for managing data workloads. It handles everything from processing massive datasets to running machine learning pipelines.</p>\n<p>Key features include seamless deployment of stateful applications using StatefulSets and Persistent Volumes, data pipelines as code with tools like Airflow, and service discovery for databases like PostgreSQL, Elasticsearch, and Cassandra.</p>\n<br>\n<br>\n<div style=\"width:100%;height:0;padding-bottom:72%;position:relative;\"><iframe src=\"https://giphy.com/embed/xT9C25UNTwfZuk85WP\" width=\"100%\" height=\"100%\" style=\"position:absolute\" frameborder=\"0\" class=\"giphy-embed\" allowfullscreen></iframe></div>\n<h2 id=\"stateless-vs-stateful-workloads-in-a-containerized-ecosystem\" style=\"position:relative;\"><a href=\"#stateless-vs-stateful-workloads-in-a-containerized-ecosystem\" aria-label=\"stateless vs stateful workloads in a containerized ecosystem permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Stateless vs. Stateful workloads in a containerized ecosystem</h2>\n<p>When it comes to deploying applications in a containerized environment, understanding the distinction between stateless and stateful workloads is crucial.</p>\n<p>Cloud native apps and specifically containers, often associated with the \"cattle vs. pets\" analogy.</p>\n<h3 id=\"stateless-applications-and-containers\" style=\"position:relative;\"><a href=\"#stateless-applications-and-containers\" aria-label=\"stateless applications and containers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Stateless Applications and Containers</h3>\n<ul>\n<li><strong>Cattle mindset</strong>: Stateless apps, like cattle, are designed to be disposable and replaceable. They don't carry any emotional attachment; if one fails, you spin up another without hesitation.</li>\n<li><strong>Container alignment</strong>: Containers, with their lightweight and immutable nature, align perfectly with stateless workloads. Each container instance is identical, and orchestration platforms like Kubernetes can easily scale them horizontally.</li>\n<li><strong>Microservices harmony</strong>: Stateless microservices, encapsulated within containers, thrive in this environment. They handle individual requests, perform computations, and communicate with other services via APIs.</li>\n</ul>\n<p>Initially made for stateless applications, Kubernetes excels at managing containerized microservices. Features like auto-scaling, rolling updates, and service discovery simplify the deployment and maintenance of stateless components.</p>\n<h3 id=\"stateful-applications-and-containers\" style=\"position:relative;\"><a href=\"#stateful-applications-and-containers\" aria-label=\"stateful applications and containers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Stateful Applications and Containers</h3>\n<ul>\n<li><strong>Pets nurturing</strong>: Stateful applications, akin to pets, have unique identities and require special care. Think of your beloved pet dog; it's not interchangeable like cattle.</li>\n<li><strong>Container challenges</strong>: Containers, while great, face challenges when hosting stateful workloads. Data persistence, ordering, and identity become big concerns.</li>\n<li><strong>Managing complexity</strong>: Handling databases, caching systems, and file servers within containers demands thoughtful design. Persistent storage, data consistency, and failover strategies must be carefully orchestrated.</li>\n<li><strong>Kubernetes adaptation</strong>: Kubernetes evolved to accommodate stateful applications. StatefulSets provide stable network identities, and Persistent Volumes (PVs) ensure data survives container restarts.</li>\n<li><strong>Pet-Like attention</strong>: However, treating stateful containers like cattle is a recipe for disaster. Instead, they need the nurturing attention reserved for pets.</li>\n</ul>\n<h2 id=\"considerations-and-challenges-of-managing-stateful-workloads-in-kubernetes\" style=\"position:relative;\"><a href=\"#considerations-and-challenges-of-managing-stateful-workloads-in-kubernetes\" aria-label=\"considerations and challenges of managing stateful workloads in kubernetes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Considerations and challenges of managing Stateful workloads in Kubernetes</h2>\n<p>When managing stateful workloads in Kubernetes, a lot of challenges arise, especially when compared to stateless applications. Let's delve into some of these considerations:</p>\n<h3 id=\"persistent-data-management\" style=\"position:relative;\"><a href=\"#persistent-data-management\" aria-label=\"persistent data management permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Persistent Data Management</h3>\n<ul>\n<li>Stateful applications, such as databases or DevOps systems, rely on persistent storage for data persistence.</li>\n<li>Kubernetes provides solutions like Persistent Volumes (PVs) and StatefulSets, but ensuring fault tolerance requires applications to checkpoint their in-memory state.</li>\n<li>Ensuring reliable data persistence is really important for stateful workloads.</li>\n</ul>\n<h3 id=\"scaling-and-updating-challenges\" style=\"position:relative;\"><a href=\"#scaling-and-updating-challenges\" aria-label=\"scaling and updating challenges permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Scaling and Updating Challenges</h3>\n<ul>\n<li>Scaling or updating stateful applications is complex.</li>\n<li>Autoscalers need to participate in state management to handle scaling activities effectively.</li>\n</ul>\n<h3 id=\"reliability-durability-dichotomy\" style=\"position:relative;\"><a href=\"#reliability-durability-dichotomy\" aria-label=\"reliability durability dichotomy permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Reliability-Durability Dichotomy</h3>\n<ul>\n<li>Kubernetes maintains the durability of stateful applications by ensuring access to Persistent Volumes during disruptions.</li>\n<li>However, achieving high-nines availability and consistent performance remains a challenge.</li>\n<li>Traditional failover and recovery strategies may not fully address the sensitivity of stateful applications to disruptions.</li>\n</ul>\n<h2 id=\"databases-on-k8s-success-stories\" style=\"position:relative;\"><a href=\"#databases-on-k8s-success-stories\" aria-label=\"databases on k8s success stories permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Databases on k8s; success stories</h2>\n<p>To see if running DBs on k8s is a good idea or not let us explore some success stories of running stateful workloads and databases in k8s.</p>\n<h3 id=\"️-yellowbrick-data\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-yellowbrick-data\" aria-label=\"️ yellowbrick data permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✔️ Yellowbrick Data</h3>\n<p>Yellowbrick, an MPP (Massively Parallel Processing) database, stands out as a success story on Kubernetes. Last year, they presented a VLDB (Very Large Databases) paper that shed light on their architecture. What sets Yellowbrick apart is its approach to separating compute and storage components. By doing so, <a href=\"https://yellowbrick.com/blog/cloud/dbas-face-up-to-kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">Yellowbrick thrives in a Kubernetes environment</a>, demonstrating that stateful workloads can indeed succeed in this dynamic platform.</p>\n<h3 id=\"️-ibm-db2-warehouse-and-ibm-netezza\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-ibm-db2-warehouse-and-ibm-netezza\" aria-label=\"️ ibm db2 warehouse and ibm netezza permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✔️ IBM DB2 Warehouse and IBM Netezza</h3>\n<p>IBM's offerings, including DB2 Warehouse and Netezza, are robust MPP databases. <a href=\"https://www.ibm.com/docs/en/db2-warehouse?topic=warehouse-redeploying-using-kubernetes\" target=\"_blank\" rel=\"noopener noreferrer\">Their adoption of Kubernetes showcases the feasibility</a> of running large-scale workloads. The key to their success lies in Kubernetes operators. But what exactly are these operators?</p>\n<h3 id=\"kubernetes-operators\" style=\"position:relative;\"><a href=\"#kubernetes-operators\" aria-label=\"kubernetes operators permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Kubernetes Operators</h3>\n<p>Operators are programmable extensions. They perform operations that Kubernetes cannot handle natively. Think of them as intelligent, dynamic managers that extend the functionality of the Kubernetes API. Their real impact lies in managing stateful workloads.</p>\n<h2 id=\"benefits-of-running-databases-on-kubernetes\" style=\"position:relative;\"><a href=\"#benefits-of-running-databases-on-kubernetes\" aria-label=\"benefits of running databases on kubernetes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Benefits of Running Databases on Kubernetes</h2>\n<ul>\n<li><strong>Cost Efficiency</strong>: <a href=\"https://thenewstack.io/stateful-workloads-on-kubernetes-are-a-thing-but-there-is-a-twist/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes leverages cost-effective cloud resources, resulting in significant savings compared to public DBaaS solutions</a>.</li>\n<li><strong>Scalability</strong>: Kubernetes enables easy scaling of database resources based on demand.</li>\n<li><strong>Automation</strong>: Operators handle tasks like backups, scaling, and tuning, streamlining database management.</li>\n</ul>\n<h2 id=\"kubernetes-for-data-science-and-machine-learning\" style=\"position:relative;\"><a href=\"#kubernetes-for-data-science-and-machine-learning\" aria-label=\"kubernetes for data science and machine learning permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Kubernetes for data science and Machine Learning</h2>\n<p><a href=\"https://www.xenonstack.com/blog/generative-ai-platform\" target=\"_blank\" rel=\"noopener noreferrer\">source</a></p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 35.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWElEQVR42m2R3U7bQBCFefC+Ag9QiasipF5WqDeV4AYVFVVA0iYS+QGcmOD4J5vYa8f2rr37dQlQgshczazOfJpzdk83lqaBpoXWGE46GQc/BOFSAQatayptSfM1rS5xUqw1PFWljduzbNceG8HzkJcN+99WfDrKOO1KOl7B9+uMabIiFDkyS4n9KbGQ6LZxekVR6o/AN6jl16Di6GxNmkq+/hR8Pu7T9X9zl1Qk3pjx6SG9ySPJas39xKc39EkLhTH2PfANbDfWy6rED+cskzn+LGA4E8zDBVfTCVfejCCRdLt/ufgzIhAFSpvdwLquCR78zYWj2wnX/TGdge8yLQiihN7NPf3RlCzPiUTGQ7REG/vR8muQOhoSn3/BuUCsMsKFy22Z07glpTW1yy7wYmQsXc/mMjm6pE6z3cA2j9CLwf83u/2JL71KFVqq56HVrL1HxK3ANop/9Y8VNN/y1esAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Machine Learning on Kubernetes\" title=\"\" src=\"/static/407d34d7bbeaa8c4400a25e3414ea22d/c5bb3/ml-ai-k8s.png\" srcset=\"/static/407d34d7bbeaa8c4400a25e3414ea22d/04472/ml-ai-k8s.png 170w,\n/static/407d34d7bbeaa8c4400a25e3414ea22d/9f933/ml-ai-k8s.png 340w,\n/static/407d34d7bbeaa8c4400a25e3414ea22d/c5bb3/ml-ai-k8s.png 680w,\n/static/407d34d7bbeaa8c4400a25e3414ea22d/159fb/ml-ai-k8s.png 1019w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<div class=\"image-title\"><a href=\"https://www.xenonstack.com/blog/generative-ai-platform\">Machine Learning on Kubernetes</a></div>\n<p>Kubernetes different capabilities address the demands of ML workloads, providing an orchestration framework that transcends mere container management.</p>\n<h3 id=\"️-simplified-infrastructure-and-clear-configuration\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-simplified-infrastructure-and-clear-configuration\" aria-label=\"️ simplified infrastructure and clear configuration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⭐️ Simplified infrastructure and clear configuration</h3>\n<ul>\n<li>Kubernetes simplifies the underlying infrastructure complexities: Data scientists can focus on their models, algorithms, and insights without worrying about hardware details or network intricacies.</li>\n<li>Declarative configurations allow you to express your application's desired state: Kubernetes automatically configures the environment to match that state, consolidating workload management and ensuring consistency across deployments.</li>\n</ul>\n<h3 id=\"️-scalability-and-efficient-resource-usage\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-scalability-and-efficient-resource-usage\" aria-label=\"️ scalability and efficient resource usage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⭐️ Scalability and efficient resource usage</h3>\n<ul>\n<li>Scalability is at the heart of Kubernetes: Whether you're handling a single data science workload or orchestrating a complex ML pipeline, Kubernetes adapts ideally. It scales resources up or down based on demand.</li>\n<li>Managing large datasets, memory-intensive computations, and storage requirements becomes easy: Kubernetes ensures that your applications have the necessary resources, optimizing performance and responsiveness.</li>\n</ul>\n<h3 id=\"️-more-than-container-orchestration\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-more-than-container-orchestration\" aria-label=\"️ more than container orchestration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⭐️ More Than Container Orchestration</h3>\n<ul>\n<li>Kubernetes excels in container orchestration: It manages container lifecycles, dependencies, and services. But it doesn't stop there - it also handles networking, load balancing, and service discovery.</li>\n<li>With Kubernetes, you can define intricate workflows, ensuring smooth data pipelines: It takes care of service discovery, DNS resolution, and load balancing while maintaining high availability.</li>\n</ul>\n<h2 id=\"️-advantages-for-machine-learning\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-advantages-for-machine-learning\" aria-label=\"️ advantages for machine learning permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⭐️ Advantages for Machine Learning</h2>\n<h3 id=\"gpu-support\" style=\"position:relative;\"><a href=\"#gpu-support\" aria-label=\"gpu support permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>GPU Support</h3>\n<p>Machine learning relies on computational power. Kubernetes embraces GPUs, accelerating model training and inference. Whether fine-tuning neural networks or running large-scale simulations, GPUs are a game-changer.</p>\n<h3 id=\"tool-integration\" style=\"position:relative;\"><a href=\"#tool-integration\" aria-label=\"tool integration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Tool Integration</h3>\n<p>Kubernetes ideally integrates with popular ML tools like Spark, TensorFlow, Jupyter Notebooks, and Kubeflow. You can build, test, and deploy models within the same orchestrated environment.</p>\n<h3 id=\"automated-workflows\" style=\"position:relative;\"><a href=\"#automated-workflows\" aria-label=\"automated workflows permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Automated Workflows</h3>\n<p>Managing ML workflows involves data pre-processing, model training, and deployment. Kubernetes streamlines these tasks. Imagine automating data transformations, hyperparameter tuning, and model versioning — all orchestrated through Kubernetes.</p>\n<h2 id=\"️-scalable-models-and-improved-accuracy\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-scalable-models-and-improved-accuracy\" aria-label=\"️ scalable models and improved accuracy permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⭐️ Scalable Models and Improved Accuracy</h2>\n<p>Kubernetes scales well for machine learning models. Whether training deep learning models on massive datasets or deploying ensemble models, Kubernetes adapts. It ensures models scale horizontally to meet performance demands.</p>\n<p>By efficiently processing extensive datasets, Kubernetes contributes to model accuracy. Whether predicting customer churn, analyzing medical images, or recommending personalized content, Kubernetes provides the computational power.</p>\n<h2 id=\"-closing-thoughts\" style=\"position:relative;\"><a href=\"#-closing-thoughts\" aria-label=\" closing thoughts permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🔚 Closing thoughts</h2>\n<p>Kubernetes provides great solutions for managing stateful workloads, including databases and big data applications. Its features, such as scalability, fault tolerance, and efficient resource management, make it an ideal platform for handling data-intensive tasks.</p>\n<p>Stay tuned for next blogs in this series 🎉</p>\n<br>\n<br>\n<blockquote>\n<p>💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  <em><strong>Until next time 🎉</strong></em></p>\n</blockquote>\n<p>🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>♻️ LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>♻️ X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ✌🏻</strong></p>\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n<p><strong>📻🧡 References:</strong></p>\n<ul>\n<li><a href=\"https://dok.community/blog/the-future-of-data-on-kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">The future of Data on Kubernetes - Data on Kubernetes Community</a></li>\n<li><a href=\"https://dok.community/blog/the-future-of-data-on-kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">Are you running stateful data workloads or running databases on Kubernetes? : r/kubernetes (reddit.com)</a></li>\n<li><a href=\"http://www.youtube.com/watch?v=99uSJXkKpeI\" target=\"_blank\" rel=\"noopener noreferrer\">www.youtube.com/watch?v=99uSJXkKpeI</a></li>\n</ul>\n<p><strong>📅 Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}