{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/kubernetes-security/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Essential Guidelines and Checklists for Kubernetes Security</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö Introduction</h2>\n<p>The Kubernetes platform has become increasingly popular for managing containerized applications, making it a critical component of many organizations' infrastructure. With the increasing adoption of Kubernetes, the importance of ensuring its security cannot be overstated. Kubernetes security measures refer to a comprehensive set of guidelines and criteria aimed at ensuring the security of a Kubernetes deployment. It also covers various aspects of security such as network security, access control, image signing, and more.</p>\n<h3 id=\"-goals--objectives\" style=\"position:relative;\"><a href=\"#-goals--objectives\" aria-label=\" goals  objectives permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üéØ Goals &#x26; Objectives</h3>\n<p>The purpose of this checklist is to provide a systematic approach to securing a Kubernetes cluster and to ensure that all necessary steps are taken to protect the cluster from potential threats. In a nutshell, it provides a starting point for organizations to evaluate the security of their Kubernetes deployment and make any necessary changes to ensure its safety.</p>\n<div style=\"width:100%;height:0;padding-bottom:75%;position:relative;\"><iframe src=\"https://giphy.com/embed/077i6AULCXc0FKTj9s\" width=\"100%\" height=\"100%\" style=\"position:absolute\" frameborder=\"0\" class=\"giphy-embed\" allowfullscreen></iframe></div>\n<h2 id=\"-security-checklist\" style=\"position:relative;\"><a href=\"#-security-checklist\" aria-label=\" security checklist permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîí Security Checklist</h2>\n<p>The following are some of the items that may be included in a Kubernetes security checklist:</p>\n<h3 id=\"-authentication\" style=\"position:relative;\"><a href=\"#-authentication\" aria-label=\" authentication permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîë Authentication</h3>\n<ul>\n<li>\n<p><strong>Use an Identity Provider (IdP)</strong>: Using an identity provider such as <a href=\"https://openid.net/connect/\" target=\"_blank\" rel=\"noopener noreferrer\">OIDC</a> is recommended for authentication to the Kubernetes API, as it provides a centralized and secure way to manage user identities.</p>\n</li>\n<li>\n<p><strong>Avoid Service Account Tokens</strong>: Service account tokens are less secure and should not be used for authentication. Instead, using an IdP helps ensure that the authentication process is robust and follows industry standards for security.</p>\n</li>\n<li>\n<p><strong>Centralized Certificate Management</strong>: Using a centralized certificate management service is a best practice for managing certificates within a Kubernetes cluster. It provides a centralized and secure way to manage and distribute certificates, ensuring that all components within the cluster use the correct and up-to-date certificates. This helps to ensure the security and trustworthiness of communication within the cluster.</p>\n</li>\n<li>\n<p><strong>Personalized User Accounts</strong>: It is important to have personalized user accounts in a Kubernetes cluster. This helps to ensure accountability and traceability of actions within the cluster. Naming the service accounts in a way that reflects their purpose and access rights is also a best practice, as it makes it easier to understand the intended use of each account and to manage permissions effectively.</p>\n</li>\n</ul>\n<h3 id=\"Ô∏è-authorization\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-authorization\" aria-label=\"Ô∏è authorization permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ°Ô∏è Authorization</h3>\n<ul>\n<li>\n<p><strong>Implement Role-Based Access Control (RBAC)</strong>: Implementing <a href=\"https://kubernetes.io/docs/reference/access-authn-authz/rbac/\" target=\"_blank\" rel=\"noopener noreferrer\">RBAC</a> for the Kubernetes cluster helps simplify the management of user permissions and reduces the risk of misconfigured permissions, making the cluster more secure and easier to manage. Rights should be assigned within the namespace based on the principle of least privilege and separation of duties. Tools like <a href=\"https://github.com/alcideio/rbac-tool\" target=\"_blank\" rel=\"noopener noreferrer\">RBAC-tool</a> can assist in this process.</p>\n</li>\n<li>\n<p><strong>Unique Service Accounts</strong>: Ensure all services have a unique service account with configured RBAC rights. This practice helps to maintain clear boundaries and accountability for each service within the cluster.</p>\n</li>\n<li>\n<p><strong>Formal Approval Process</strong>: Enforce a formal approval process for granting access to a production environment in a Kubernetes cluster. This ensures that only authorized users have access to sensitive production data and systems, reducing the risk of security breaches or unauthorized changes.</p>\n</li>\n<li>\n<p><strong>Prohibit User Impersonation</strong>: Prohibit <a href=\"https://kubernetes.io/docs/reference/access-authn-authz/authentication/#user-impersonation\" target=\"_blank\" rel=\"noopener noreferrer\">user impersonation</a> in a Kubernetes cluster. User impersonation can lead to security and accountability issues, so it is crucial to restrict this capability.</p>\n</li>\n<li>\n<p><strong>Privileged Access Management</strong>: Cluster administrators and maintainers should use privileged access management systems, such as <a href=\"https://goteleport.com/docs/kubernetes-access/introduction/\" target=\"_blank\" rel=\"noopener noreferrer\">Teleport</a> or <a href=\"https://www.hashicorp.com/blog/gating-access-to-kubernetes-with-hashicorp-boundary\" target=\"_blank\" rel=\"noopener noreferrer\">Boundary</a>, when interacting with the cluster API and infrastructure services. These systems provide a secure and auditable way to access the cluster, helping to ensure that sensitive data and systems are not compromised.</p>\n</li>\n<li>\n<p><strong>Namespace Segmentation</strong>: Dividing information systems into separate namespaces is a best practice in Kubernetes. This helps to enforce security boundaries between different systems, reducing the risk of unauthorized access or changes. It also makes it easier to manage and control access to each system.</p>\n</li>\n<li>\n<p><strong>Regular RBAC Audits</strong>: Regularly audit the role-based access control (RBAC) rights within a Kubernetes cluster. Tools like <a href=\"https://github.com/cyberark/KubiScan\" target=\"_blank\" rel=\"noopener noreferrer\">Kubiscan</a> or <a href=\"https://github.com/appvia/krane\" target=\"_blank\" rel=\"noopener noreferrer\">Krane</a> can be used to automate this process, helping to ensure that RBAC rights are up-to-date and comply with security policies.</p>\n</li>\n</ul>\n<h3 id=\"-secrets\" style=\"position:relative;\"><a href=\"#-secrets\" aria-label=\" secrets permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîê Secrets</h3>\n<ul>\n<li>\n<p><strong>Secure Secret Storage</strong>: Store secrets in a secure manner within a Kubernetes cluster. This can be done by using third-party secret management systems such as <a href=\"https://developer.hashicorp.com/vault/docs/platform/k8s\" target=\"_blank\" rel=\"noopener noreferrer\">Hashicorp Vault</a> or <a href=\"https://www.conjur.org/blog/securing-secrets-in-kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">Conjur</a>, or by storing secrets in etcd in encrypted form. This helps to protect sensitive information, such as passwords, API keys, and other secrets, from unauthorized access or change.</p>\n</li>\n<li>\n<p><strong>Secure Mechanisms for Adding Secrets</strong>: Use secure mechanisms for adding secrets to containers in a Kubernetes cluster. This can be done by using the <code class=\"language-text\">volumeMount</code> mechanism or the <code class=\"language-text\">secretKeyRef</code> mechanism.</p>\n</li>\n<li>\n<p><strong>Sealed Secrets</strong>: Use tools like the <a href=\"https://github.com/bitnami-labs/sealed-secrets\" target=\"_blank\" rel=\"noopener noreferrer\">sealed-secrets</a> tool to hide secrets in source code, which can help encrypt secrets and securely store them. This helps to ensure that secrets are not exposed in the source code or version control systems, reducing the risk of unauthorized access or changes.</p>\n</li>\n</ul>\n<h3 id=\"-cluster-configuration-security\" style=\"position:relative;\"><a href=\"#-cluster-configuration-security\" aria-label=\" cluster configuration security permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîß Cluster Configuration Security</h3>\n<ul>\n<li>\n<p><strong>Mutual TLS Encryption</strong>: Use mutual TLS encryption between all cluster components to ensure secure communication.</p>\n</li>\n<li>\n<p><strong>Service Mesh Deployment</strong>: Deploy a service mesh to reduce the risk of security incidents and improve the reliability and performance of your applications. Consider using an established service mesh solution, such as <a href=\"https://istio.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Istio</a> or <a href=\"https://linkerd.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Linkerd</a>, to ensure that your service mesh is well-supported and reliable.</p>\n</li>\n<li>\n<p><strong>Policy Engine</strong>: Use a policy engine to enforce security and compliance policies within a Kubernetes cluster. A policy engine allows you to define, enforce, and manage policies for your cluster. There are several policy engines to choose from, including <a href=\"https://www.openpolicyagent.org/docs/latest/kubernetes-introduction/\" target=\"_blank\" rel=\"noopener noreferrer\">OPA</a>, <a href=\"https://kyverno.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Kyverno</a>, <a href=\"https://www.jspolicy.com/\" target=\"_blank\" rel=\"noopener noreferrer\">jsPolicy</a>, and <a href=\"https://www.kubewarden.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubewarden</a>.</p>\n</li>\n<li>\n<p><strong>CIS Benchmark Compliance</strong>: Complying with the <a href=\"https://www.cisecurity.org/benchmark/kubernetes\" target=\"_blank\" rel=\"noopener noreferrer\">CIS (Center for Internet Security) Benchmark for Kubernetes</a> is a best practice for securing a Kubernetes cluster.</p>\n</li>\n<li>\n<p><strong>Latest Versions</strong>: It is recommended to use only the latest versions of cluster components. Refer to the <a href=\"https://www.container-security.site/general_information/container_cve_list.html\" target=\"_blank\" rel=\"noopener noreferrer\">CVE list</a> for known vulnerabilities.</p>\n</li>\n<li>\n<p><strong>High Isolation Runtimes</strong>: For services with increased security requirements, use a low-level runtime with a high degree of isolation, such as <a href=\"https://gvisor.dev/docs/user_guide/quick_start/kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">gVisor</a> or <a href=\"https://github.com/kata-containers/documentation/blob/master/how-to/run-kata-with-k8s.md\" target=\"_blank\" rel=\"noopener noreferrer\">Kata-runtime</a>.</p>\n</li>\n<li>\n<p><strong>Regular Auditing</strong>: Regular auditing of the cluster configuration is critical for maintaining the security and stability of a Kubernetes cluster. Tools like <a href=\"https://github.com/aquasecurity/kube-bench\" target=\"_blank\" rel=\"noopener noreferrer\">Kube-bench</a>, <a href=\"https://github.com/aquasecurity/kube-hunter\" target=\"_blank\" rel=\"noopener noreferrer\">Kube-hunter</a>, and <a href=\"https://www.kubestriker.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubestriker</a> can be used to audit the configuration regularly.</p>\n</li>\n</ul>\n<h3 id=\"-audit-and-logging\" style=\"position:relative;\"><a href=\"#-audit-and-logging\" aria-label=\" audit and logging permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìä Audit and Logging</h3>\n<ul>\n<li>\n<p><strong>Audit Logging</strong>: Enable audit logging cluster-wide to track all activities.</p>\n</li>\n<li>\n<p><strong>Access Rights Logging</strong>: Log all cases of changing access rights in the cluster.</p>\n</li>\n<li>\n<p><strong>Secrets Operations Logging</strong>: Log all operations with secrets, including creation, deletion, access, and modification. Tools such as <a href=\"https://www.syslog-ng.com/products/open-source-log-management/\" target=\"_blank\" rel=\"noopener noreferrer\">syslog</a>, <a href=\"https://docs.fluentd.org/v/0.12/articles/kubernetes-fluentd\" target=\"_blank\" rel=\"noopener noreferrer\">Fluentd</a>, or the <a href=\"https://logz.io/blog/deploying-the-elk-stack-on-kubernetes-with-helm/\" target=\"_blank\" rel=\"noopener noreferrer\">ELK Stack</a> can be used to aggregate and analyze logs.</p>\n</li>\n<li>\n<p><strong>External Audit Logging</strong>: The audit logging system should be located outside the Kubernetes cluster.</p>\n</li>\n<li>\n<p><strong>Observability and Visibility</strong>: Building observability and visibility processes in the infrastructure and services can help understand what is happening and identify issues in real-time. Tools like <a href=\"https://luntry.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Luntry</a>, <a href=\"https://www.datadoghq.com/\" target=\"_blank\" rel=\"noopener noreferrer\">DataDog</a>, or <a href=\"https://www.weave.works/oss/scope/\" target=\"_blank\" rel=\"noopener noreferrer\">WeaveScope</a> can be used.</p>\n</li>\n<li>\n<p><strong>Security Monitoring Tools</strong>: Use third-party security monitoring tools on all cluster nodes, such as <a href=\"https://falco.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Falco</a>, <a href=\"https://sysdig.com/\" target=\"_blank\" rel=\"noopener noreferrer\">SysDig</a>, <a href=\"https://www.aquasec.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Aqua Enterprise</a>, <a href=\"https://neuvector.com/\" target=\"_blank\" rel=\"noopener noreferrer\">NeuVector</a>, or <a href=\"https://www.paloaltonetworks.com/prisma/cloud\" target=\"_blank\" rel=\"noopener noreferrer\">Prisma Cloud Compute</a>.</p>\n</li>\n</ul>\n<h3 id=\"Ô∏è-secure-os-configuration\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-secure-os-configuration\" aria-label=\"Ô∏è secure os configuration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üñ•Ô∏è Secure OS Configuration</h3>\n<ul>\n<li>\n<p><strong>Privileged Access Management</strong>: Host administrators and maintainers should interact with cluster nodes through privileged access management systems (PAM) to ensure security and integrity.</p>\n</li>\n<li>\n<p><strong>OS and Software Configuration</strong>: Configure the operating system (OS) and software following established baselines and standards to ensure security, stability, and compatibility. Refer to <a href=\"https://www.cisecurity.org/cis-benchmarks/\" target=\"_blank\" rel=\"noopener noreferrer\">CIS</a> and <a href=\"https://ncp.nist.gov/repository\" target=\"_blank\" rel=\"noopener noreferrer\">NIST</a> guidelines.</p>\n</li>\n<li>\n<p><strong>Security Weakness Checks</strong>: Frequently check packages and setups for security weaknesses using tools such as <a href=\"https://static.open-scap.org/\" target=\"_blank\" rel=\"noopener noreferrer\">OpenSCAP</a> profiles or <a href=\"https://cisofy.com/lynis/\" target=\"_blank\" rel=\"noopener noreferrer\">Lynis</a>.</p>\n</li>\n<li>\n<p><strong>Kernel Updates</strong>: Keep the OS kernel version updated regularly. Tools like <a href=\"https://github.com/evdenis/cvehound\" target=\"_blank\" rel=\"noopener noreferrer\">CVEhound</a> can be helpful.</p>\n</li>\n</ul>\n<h3 id=\"-network-security\" style=\"position:relative;\"><a href=\"#-network-security\" aria-label=\" network security permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåê Network Security</h3>\n<ul>\n<li>\n<p><strong>Network Policies</strong>: All namespaces should have NetworkPolicy. Communication between namespaces should be controlled through NetworkPolicy and follow the principle of least privilege. Tools like <a href=\"https://github.com/inspektor-gadget/inspektor-gadget\" target=\"_blank\" rel=\"noopener noreferrer\">Inspektor Gadget</a> can assist.</p>\n</li>\n<li>\n<p><strong>Authentication and Authorization</strong>: Ensure that only authorized users and services can access resources by implementing authentication and authorization for all application microservices. <a href=\"https://developer.hashicorp.com/consul/docs/architecture\" target=\"_blank\" rel=\"noopener noreferrer\">Consul</a> can help fulfill this practice.</p>\n</li>\n<li>\n<p><strong>Interface Security</strong>: Keep the interfaces of cluster components and infrastructure tools inaccessible from the Internet.</p>\n</li>\n</ul>\n<h3 id=\"Ô∏è-secure-configuration-of-workloads\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-secure-configuration-of-workloads\" aria-label=\"Ô∏è secure configuration of workloads permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Secure Configuration of Workloads</h3>\n<ul>\n<li><strong>Avoid Running Pods as Root</strong>: Do not run pods under the <a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\" target=\"_blank\" rel=\"noopener noreferrer\">root account</a> (UID 0). Set the <code class=\"language-text\">runAsUser</code> parameter for all applications. <a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod\" target=\"_blank\" rel=\"noopener noreferrer\">Learn more</a>.</li>\n<li><strong>Disallow Privilege Escalation</strong>: Set <code class=\"language-text\">allowPrivilegeEscalation</code> to <code class=\"language-text\">false</code>. <a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\" target=\"_blank\" rel=\"noopener noreferrer\">More info</a>.</li>\n<li><strong>Avoid Privileged Pods</strong>: Do not run <a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\" target=\"_blank\" rel=\"noopener noreferrer\">privileged pods</a> (<code class=\"language-text\">privileged: true</code>).</li>\n<li><strong>Read-Only Filesystem</strong>: It is a best practice to set <code class=\"language-text\">readonlyRootFilesystem</code> to <code class=\"language-text\">true</code>. <a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\" target=\"_blank\" rel=\"noopener noreferrer\">Details here</a>.</li>\n<li><strong>Avoid Host PID and IPC</strong>: It is not recommended to use <code class=\"language-text\">hostPID</code> and <code class=\"language-text\">hostIPC</code>.</li>\n<li><strong>Avoid Host Network</strong>: Using <code class=\"language-text\">hostNetwork</code> is generally a bad idea.</li>\n<li><strong>Restrict Unsafe Syscalls</strong>: Do not use unsafe system calls (sysctl) such as <code class=\"language-text\">kernel.shm*</code>, <code class=\"language-text\">kernel.msg*</code>, <code class=\"language-text\">kernel.sem</code>, <code class=\"language-text\">fs.mqueue.*</code>. <a href=\"https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/\" target=\"_blank\" rel=\"noopener noreferrer\">Reference</a>.</li>\n<li><strong>Avoid HostPath</strong>: Do not use <a href=\"https://kubernetes.io/docs/concepts/security/pod-security-policy/#volumes-and-file-systems\" target=\"_blank\" rel=\"noopener noreferrer\">hostPath</a>.</li>\n<li><strong>Set Resource Limits</strong>: Use <a href=\"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/\" target=\"_blank\" rel=\"noopener noreferrer\">CPU/RAM limits</a>. The values should be the minimum required for the containerized application to work.</li>\n<li><strong>Minimal Capabilities</strong>: Capabilities should be set according to the principle of least privileges. Drop 'ALL', then enumerate all necessary capabilities for the application to work. Prohibited capabilities include:\n<ul>\n<li><code class=\"language-text\">CAP_FSETID</code></li>\n<li><code class=\"language-text\">CAP_SETUID</code></li>\n<li><code class=\"language-text\">CAP_SETGID</code></li>\n<li><code class=\"language-text\">CAP_SYS_CHROOT</code></li>\n<li><code class=\"language-text\">CAP_SYS_PTRACE</code></li>\n<li><code class=\"language-text\">CAP_CHOWN</code></li>\n<li><code class=\"language-text\">CAP_NET_RAW</code></li>\n<li><code class=\"language-text\">CAP_NET_ADMIN</code></li>\n<li><code class=\"language-text\">CAP_NET_BIND_SERVICE</code></li>\n</ul>\n</li>\n<li><strong>Security Profiles</strong>: The application should have a seccomp, AppArmor, or SELinux profile according to the principles of least privileges. Tools include <a href=\"https://github.com/containers/udica\" target=\"_blank\" rel=\"noopener noreferrer\">Udica</a>, <a href=\"https://github.com/containers/oci-seccomp-bpf-hook\" target=\"_blank\" rel=\"noopener noreferrer\">Oci-seccomp-bpf-hook</a>, <a href=\"https://github.com/xfernando/go2seccomp\" target=\"_blank\" rel=\"noopener noreferrer\">Go2seccomp</a>, and <a href=\"https://github.com/kubernetes-sigs/security-profiles-operator\" target=\"_blank\" rel=\"noopener noreferrer\">Security Profiles Operator</a>.</li>\n<li><strong>Regular Audits</strong>: Workload configuration should be audited regularly using tools like <a href=\"https://checkmarx.com/product/opensource/kics-open-source-infrastructure-as-code-project/\" target=\"_blank\" rel=\"noopener noreferrer\">Kics</a>, <a href=\"https://github.com/Shopify/kubeaudit\" target=\"_blank\" rel=\"noopener noreferrer\">Kubeaudit</a>, <a href=\"https://github.com/kubescape/kubescape\" target=\"_blank\" rel=\"noopener noreferrer\">Kubescape</a>, <a href=\"https://github.com/open-policy-agent/conftest\" target=\"_blank\" rel=\"noopener noreferrer\">Conftest</a>, <a href=\"https://github.com/controlplaneio/kubesec\" target=\"_blank\" rel=\"noopener noreferrer\">Kubesec</a>, and <a href=\"https://github.com/bridgecrewio/checkov\" target=\"_blank\" rel=\"noopener noreferrer\">Checkov</a>.</li>\n</ul>\n<h3 id=\"Ô∏è-secure-image-build\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-secure-image-build\" aria-label=\"Ô∏è secure image build permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Secure Image Build</h3>\n<ul>\n<li><strong>Avoid Sudo in RUN Command</strong>: Do not use the <code class=\"language-text\">RUN</code> command with <code class=\"language-text\">sudo</code>.</li>\n<li><strong>Use COPY Instead of ADD</strong>: Use <code class=\"language-text\">COPY</code> instead of <code class=\"language-text\">ADD</code> instruction.</li>\n<li><strong>Avoid Automatic Package Updates</strong>: Avoid automatic package updates via <code class=\"language-text\">apt-get upgrade</code>, <code class=\"language-text\">yum update</code>, <code class=\"language-text\">apt-get dist-upgrade</code>.</li>\n<li><strong>Specify Package Versions</strong>: Explicitly indicate the versions of the installed packages. Use SBOM building tools like <a href=\"https://github.com/anchore/syft\" target=\"_blank\" rel=\"noopener noreferrer\">Syft</a> to determine the list of packages.</li>\n<li><strong>Do Not Store Sensitive Information</strong>: Do not store sensitive information (passwords, tokens, certificates) in the Dockerfile.</li>\n<li><strong>Minimal Packages</strong>: The composition of the packages in the container image should be minimal enough to work.</li>\n<li><strong>Minimal Port Range</strong>: The port range forwarded into the container should be minimal enough to work.</li>\n<li><strong>Avoid wget, curl, and netcat</strong>: It is not recommended to install <code class=\"language-text\">wget</code>, <code class=\"language-text\">curl</code>, and <code class=\"language-text\">netcat</code> inside the production application image and container.</li>\n<li><strong>Use .dockerignore</strong>: Use <code class=\"language-text\">.dockerignore</code> to prevent putting sensitive information inside the image.</li>\n<li><strong>Minimize Layers</strong>: Use a minimum number of layers using a <a href=\"https://docs.docker.com/build/building/multi-stage/\" target=\"_blank\" rel=\"noopener noreferrer\">multi-stage build</a>.</li>\n<li><strong>Use WORKDIR</strong>: It is recommended to use <code class=\"language-text\">WORKDIR</code> as an absolute path. Avoid using <code class=\"language-text\">cd</code> instead of <code class=\"language-text\">WORKDIR</code>.</li>\n<li><strong>Avoid Recursive Copying</strong>: Beware of recursive copying using <code class=\"language-text\">COPY . ..</code>.</li>\n<li><strong>Avoid Latest Tag</strong>: It is not recommended to use the <code class=\"language-text\">latest</code> tag.</li>\n<li><strong>Do Not Run Remote Control Tools</strong>: Do not run remote control tools in a container.</li>\n<li><strong>Image Signature</strong>: Based on the results of scanning Docker images, an image signature should be generated and verified before deployment. Tools include <a href=\"https://medium.com/sse-blog/verify-container-image-signatures-in-kubernetes-using-notary-or-cosign-or-both-c25d9e79ec45\" target=\"_blank\" rel=\"noopener noreferrer\">Notary</a> and <a href=\"https://medium.com/sse-blog/verify-container-image-signatures-in-kubernetes-using-notary-or-cosign-or-both-c25d9e79ec45\" target=\"_blank\" rel=\"noopener noreferrer\">Cosign</a>.</li>\n<li><strong>Automated Scanners</strong>: Dockerfile should be checked during development by automated scanners like <a href=\"https://checkmarx.com/product/opensource/kics-open-source-infrastructure-as-code-project/\" target=\"_blank\" rel=\"noopener noreferrer\">Kics</a>, <a href=\"https://github.com/open-policy-agent/conftest\" target=\"_blank\" rel=\"noopener noreferrer\">Conftest</a>, <a href=\"https://github.com/krol3/container-security-checklist\" target=\"_blank\" rel=\"noopener noreferrer\">Container-security-checklist</a>, and <a href=\"https://github.com/hadolint/hadolint\" target=\"_blank\" rel=\"noopener noreferrer\">Hadolint</a>.</li>\n<li><strong>Image Scanning</strong>: All images should be checked in the application lifecycle by automated scanners like <a href=\"https://github.com/aquasecurity/trivy\" target=\"_blank\" rel=\"noopener noreferrer\">Trivy</a>, <a href=\"https://github.com/quay/clair\" target=\"_blank\" rel=\"noopener noreferrer\">Clair</a>, and <a href=\"https://github.com/anchore/grype\" target=\"_blank\" rel=\"noopener noreferrer\">Grype</a>.</li>\n<li><strong>Secure CI/CD</strong>: Build secure CI and CD as part of the supply chain process. Refer to <a href=\"https://github.com/slsa-framework/slsa\" target=\"_blank\" rel=\"noopener noreferrer\">SLSA</a>.</li>\n</ul>\n<h3 id=\"-conclusion-\" style=\"position:relative;\"><a href=\"#-conclusion-\" aria-label=\" conclusion  permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåü Conclusion üåü</h3>\n<p>Follow the best practices compiled in these lists and you'll have taken the most important steps to successfully hardening your Kubernetes environments and protecting your critical business applications.</p>\n<p><strong>Resources:</strong></p>\n<ul>\n<li><a href=\"https://spacelift.io/blog/kubernetes-security\" target=\"_blank\" rel=\"noopener noreferrer\">Spacelift Blog on Kubernetes Security</a></li>\n<li><a href=\"https://docs.docker.com/engine/security/\" target=\"_blank\" rel=\"noopener noreferrer\">Docker Security Documentation</a></li>\n<li><a href=\"https://blog.aquasec.com/docker-security-best-practices\" target=\"_blank\" rel=\"noopener noreferrer\">AquaSec Docker Security Best Practices</a></li>\n<li><a href=\"https://www.aquasec.com/cloud-native-academy/kubernetes-in-production/kubernetes-security-best-practices-10-steps-to-securing-k8s/\" target=\"_blank\" rel=\"noopener noreferrer\">AquaSec Kubernetes Security Best Practices</a></li>\n<li><a href=\"https://kubernetes.io/docs/tasks/administer-cluster/securing-a-cluster/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes Security Documentation</a></li>\n<li><a href=\"https://cheatsheetseries.owasp.org/cheatsheets/Kubernetes_Security_Cheat_Sheet.html\" target=\"_blank\" rel=\"noopener noreferrer\">OWASP Kubernetes Security Cheat Sheet</a></li>\n<li><a href=\"https://youtu.be/oBf5lrmquYI\" target=\"_blank\" rel=\"noopener noreferrer\">YouTube: Kubernetes Security</a></li>\n</ul>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":8,"rawMarkdownBody":"\n> **Essential Guidelines and Checklists for Kubernetes Security**\n\n## üìö Introduction\n\nThe Kubernetes platform has become increasingly popular for managing containerized applications, making it a critical component of many organizations' infrastructure. With the increasing adoption of Kubernetes, the importance of ensuring its security cannot be overstated. Kubernetes security measures refer to a comprehensive set of guidelines and criteria aimed at ensuring the security of a Kubernetes deployment. It also covers various aspects of security such as network security, access control, image signing, and more.\n\n### üéØ Goals & Objectives\n\nThe purpose of this checklist is to provide a systematic approach to securing a Kubernetes cluster and to ensure that all necessary steps are taken to protect the cluster from potential threats. In a nutshell, it provides a starting point for organizations to evaluate the security of their Kubernetes deployment and make any necessary changes to ensure its safety.\n\nhttps://giphy.com/gifs/computer-mograph-hack-077i6AULCXc0FKTj9s\n\n## üîí Security Checklist\n\nThe following are some of the items that may be included in a Kubernetes security checklist:\n\n### üîë Authentication\n\n- **Use an Identity Provider (IdP)**: Using an identity provider such as [OIDC](https://openid.net/connect/) is recommended for authentication to the Kubernetes API, as it provides a centralized and secure way to manage user identities.\n  \n- **Avoid Service Account Tokens**: Service account tokens are less secure and should not be used for authentication. Instead, using an IdP helps ensure that the authentication process is robust and follows industry standards for security.\n\n- **Centralized Certificate Management**: Using a centralized certificate management service is a best practice for managing certificates within a Kubernetes cluster. It provides a centralized and secure way to manage and distribute certificates, ensuring that all components within the cluster use the correct and up-to-date certificates. This helps to ensure the security and trustworthiness of communication within the cluster.\n\n- **Personalized User Accounts**: It is important to have personalized user accounts in a Kubernetes cluster. This helps to ensure accountability and traceability of actions within the cluster. Naming the service accounts in a way that reflects their purpose and access rights is also a best practice, as it makes it easier to understand the intended use of each account and to manage permissions effectively.\n\n### üõ°Ô∏è Authorization\n\n- **Implement Role-Based Access Control (RBAC)**: Implementing [RBAC](https://kubernetes.io/docs/reference/access-authn-authz/rbac/) for the Kubernetes cluster helps simplify the management of user permissions and reduces the risk of misconfigured permissions, making the cluster more secure and easier to manage. Rights should be assigned within the namespace based on the principle of least privilege and separation of duties. Tools like [RBAC-tool](https://github.com/alcideio/rbac-tool) can assist in this process.\n\n- **Unique Service Accounts**: Ensure all services have a unique service account with configured RBAC rights. This practice helps to maintain clear boundaries and accountability for each service within the cluster.\n\n- **Formal Approval Process**: Enforce a formal approval process for granting access to a production environment in a Kubernetes cluster. This ensures that only authorized users have access to sensitive production data and systems, reducing the risk of security breaches or unauthorized changes.\n\n- **Prohibit User Impersonation**: Prohibit [user impersonation](https://kubernetes.io/docs/reference/access-authn-authz/authentication/#user-impersonation) in a Kubernetes cluster. User impersonation can lead to security and accountability issues, so it is crucial to restrict this capability.\n\n- **Privileged Access Management**: Cluster administrators and maintainers should use privileged access management systems, such as [Teleport](https://goteleport.com/docs/kubernetes-access/introduction/) or [Boundary](https://www.hashicorp.com/blog/gating-access-to-kubernetes-with-hashicorp-boundary), when interacting with the cluster API and infrastructure services. These systems provide a secure and auditable way to access the cluster, helping to ensure that sensitive data and systems are not compromised.\n\n- **Namespace Segmentation**: Dividing information systems into separate namespaces is a best practice in Kubernetes. This helps to enforce security boundaries between different systems, reducing the risk of unauthorized access or changes. It also makes it easier to manage and control access to each system.\n\n- **Regular RBAC Audits**: Regularly audit the role-based access control (RBAC) rights within a Kubernetes cluster. Tools like [Kubiscan](https://github.com/cyberark/KubiScan) or [Krane](https://github.com/appvia/krane) can be used to automate this process, helping to ensure that RBAC rights are up-to-date and comply with security policies.\n\n### üîê Secrets\n\n- **Secure Secret Storage**: Store secrets in a secure manner within a Kubernetes cluster. This can be done by using third-party secret management systems such as [Hashicorp Vault](https://developer.hashicorp.com/vault/docs/platform/k8s) or [Conjur](https://www.conjur.org/blog/securing-secrets-in-kubernetes/), or by storing secrets in etcd in encrypted form. This helps to protect sensitive information, such as passwords, API keys, and other secrets, from unauthorized access or change.\n\n- **Secure Mechanisms for Adding Secrets**: Use secure mechanisms for adding secrets to containers in a Kubernetes cluster. This can be done by using the `volumeMount` mechanism or the `secretKeyRef` mechanism.\n\n- **Sealed Secrets**: Use tools like the [sealed-secrets](https://github.com/bitnami-labs/sealed-secrets) tool to hide secrets in source code, which can help encrypt secrets and securely store them. This helps to ensure that secrets are not exposed in the source code or version control systems, reducing the risk of unauthorized access or changes.\n\n### üîß Cluster Configuration Security\n\n- **Mutual TLS Encryption**: Use mutual TLS encryption between all cluster components to ensure secure communication.\n\n- **Service Mesh Deployment**: Deploy a service mesh to reduce the risk of security incidents and improve the reliability and performance of your applications. Consider using an established service mesh solution, such as [Istio](https://istio.io/) or [Linkerd](https://linkerd.io/), to ensure that your service mesh is well-supported and reliable.\n\n- **Policy Engine**: Use a policy engine to enforce security and compliance policies within a Kubernetes cluster. A policy engine allows you to define, enforce, and manage policies for your cluster. There are several policy engines to choose from, including [OPA](https://www.openpolicyagent.org/docs/latest/kubernetes-introduction/), [Kyverno](https://kyverno.io/), [jsPolicy](https://www.jspolicy.com/), and [Kubewarden](https://www.kubewarden.io/).\n\n- **CIS Benchmark Compliance**: Complying with the [CIS (Center for Internet Security) Benchmark for Kubernetes](https://www.cisecurity.org/benchmark/kubernetes) is a best practice for securing a Kubernetes cluster.\n\n- **Latest Versions**: It is recommended to use only the latest versions of cluster components. Refer to the [CVE list](https://www.container-security.site/general_information/container_cve_list.html) for known vulnerabilities.\n\n- **High Isolation Runtimes**: For services with increased security requirements, use a low-level runtime with a high degree of isolation, such as [gVisor](https://gvisor.dev/docs/user_guide/quick_start/kubernetes/) or [Kata-runtime](https://github.com/kata-containers/documentation/blob/master/how-to/run-kata-with-k8s.md).\n\n- **Regular Auditing**: Regular auditing of the cluster configuration is critical for maintaining the security and stability of a Kubernetes cluster. Tools like [Kube-bench](https://github.com/aquasecurity/kube-bench), [Kube-hunter](https://github.com/aquasecurity/kube-hunter), and [Kubestriker](https://www.kubestriker.io/) can be used to audit the configuration regularly.\n\n### üìä Audit and Logging\n\n- **Audit Logging**: Enable audit logging cluster-wide to track all activities.\n\n- **Access Rights Logging**: Log all cases of changing access rights in the cluster.\n\n- **Secrets Operations Logging**: Log all operations with secrets, including creation, deletion, access, and modification. Tools such as [syslog](https://www.syslog-ng.com/products/open-source-log-management/), [Fluentd](https://docs.fluentd.org/v/0.12/articles/kubernetes-fluentd), or the [ELK Stack](https://logz.io/blog/deploying-the-elk-stack-on-kubernetes-with-helm/) can be used to aggregate and analyze logs.\n\n- **External Audit Logging**: The audit logging system should be located outside the Kubernetes cluster.\n\n- **Observability and Visibility**: Building observability and visibility processes in the infrastructure and services can help understand what is happening and identify issues in real-time. Tools like [Luntry](https://luntry.com/), [DataDog](https://www.datadoghq.com/), or [WeaveScope](https://www.weave.works/oss/scope/) can be used.\n\n- **Security Monitoring Tools**: Use third-party security monitoring tools on all cluster nodes, such as [Falco](https://falco.org/), [SysDig](https://sysdig.com/), [Aqua Enterprise](https://www.aquasec.com/), [NeuVector](https://neuvector.com/), or [Prisma Cloud Compute](https://www.paloaltonetworks.com/prisma/cloud).\n\n### üñ•Ô∏è Secure OS Configuration\n\n- **Privileged Access Management**: Host administrators and maintainers should interact with cluster nodes through privileged access management systems (PAM) to ensure security and integrity.\n\n- **OS and Software Configuration**: Configure the operating system (OS) and software following established baselines and standards to ensure security, stability, and compatibility. Refer to [CIS](https://www.cisecurity.org/cis-benchmarks/) and [NIST](https://ncp.nist.gov/repository) guidelines.\n\n- **Security Weakness Checks**: Frequently check packages and setups for security weaknesses using tools such as [OpenSCAP](https://static.open-scap.org/) profiles or [Lynis](https://cisofy.com/lynis/).\n\n- **Kernel Updates**: Keep the OS kernel version updated regularly. Tools like [CVEhound](https://github.com/evdenis/cvehound) can be helpful.\n\n### üåê Network Security\n\n- **Network Policies**: All namespaces should have NetworkPolicy. Communication between namespaces should be controlled through NetworkPolicy and follow the principle of least privilege. Tools like [Inspektor Gadget](https://github.com/inspektor-gadget/inspektor-gadget) can assist.\n\n- **Authentication and Authorization**: Ensure that only authorized users and services can access resources by implementing authentication and authorization for all application microservices. [Consul](https://developer.hashicorp.com/consul/docs/architecture) can help fulfill this practice.\n\n- **Interface Security**: Keep the interfaces of cluster components and infrastructure tools inaccessible from the Internet.\n\n### üõ†Ô∏è Secure Configuration of Workloads\n\n- **Avoid Running Pods as Root**: Do not run pods under the [root account](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/) (UID 0). Set the `runAsUser` parameter for all applications. [Learn more](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod).\n- **Disallow Privilege Escalation**: Set `allowPrivilegeEscalation` to `false`. [More info](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/).\n- **Avoid Privileged Pods**: Do not run [privileged pods](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/) (`privileged: true`).\n- **Read-Only Filesystem**: It is a best practice to set `readonlyRootFilesystem` to `true`. [Details here](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/).\n- **Avoid Host PID and IPC**: It is not recommended to use `hostPID` and `hostIPC`.\n- **Avoid Host Network**: Using `hostNetwork` is generally a bad idea.\n- **Restrict Unsafe Syscalls**: Do not use unsafe system calls (sysctl) such as `kernel.shm*`, `kernel.msg*`, `kernel.sem`, `fs.mqueue.*`. [Reference](https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/).\n- **Avoid HostPath**: Do not use [hostPath](https://kubernetes.io/docs/concepts/security/pod-security-policy/#volumes-and-file-systems).\n- **Set Resource Limits**: Use [CPU/RAM limits](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/). The values should be the minimum required for the containerized application to work.\n- **Minimal Capabilities**: Capabilities should be set according to the principle of least privileges. Drop 'ALL', then enumerate all necessary capabilities for the application to work. Prohibited capabilities include:\n    - `CAP_FSETID`\n    - `CAP_SETUID`\n    - `CAP_SETGID`\n    - `CAP_SYS_CHROOT`\n    - `CAP_SYS_PTRACE`\n    - `CAP_CHOWN`\n    - `CAP_NET_RAW`\n    - `CAP_NET_ADMIN`\n    - `CAP_NET_BIND_SERVICE`\n- **Security Profiles**: The application should have a seccomp, AppArmor, or SELinux profile according to the principles of least privileges. Tools include [Udica](https://github.com/containers/udica), [Oci-seccomp-bpf-hook](https://github.com/containers/oci-seccomp-bpf-hook), [Go2seccomp](https://github.com/xfernando/go2seccomp), and [Security Profiles Operator](https://github.com/kubernetes-sigs/security-profiles-operator).\n- **Regular Audits**: Workload configuration should be audited regularly using tools like [Kics](https://checkmarx.com/product/opensource/kics-open-source-infrastructure-as-code-project/), [Kubeaudit](https://github.com/Shopify/kubeaudit), [Kubescape](https://github.com/kubescape/kubescape), [Conftest](https://github.com/open-policy-agent/conftest), [Kubesec](https://github.com/controlplaneio/kubesec), and [Checkov](https://github.com/bridgecrewio/checkov).\n\n### üõ†Ô∏è Secure Image Build\n\n- **Avoid Sudo in RUN Command**: Do not use the `RUN` command with `sudo`.\n- **Use COPY Instead of ADD**: Use `COPY` instead of `ADD` instruction.\n- **Avoid Automatic Package Updates**: Avoid automatic package updates via `apt-get upgrade`, `yum update`, `apt-get dist-upgrade`.\n- **Specify Package Versions**: Explicitly indicate the versions of the installed packages. Use SBOM building tools like [Syft](https://github.com/anchore/syft) to determine the list of packages.\n- **Do Not Store Sensitive Information**: Do not store sensitive information (passwords, tokens, certificates) in the Dockerfile.\n- **Minimal Packages**: The composition of the packages in the container image should be minimal enough to work.\n- **Minimal Port Range**: The port range forwarded into the container should be minimal enough to work.\n- **Avoid wget, curl, and netcat**: It is not recommended to install `wget`, `curl`, and `netcat` inside the production application image and container.\n- **Use .dockerignore**: Use `.dockerignore` to prevent putting sensitive information inside the image.\n- **Minimize Layers**: Use a minimum number of layers using a [multi-stage build](https://docs.docker.com/build/building/multi-stage/).\n- **Use WORKDIR**: It is recommended to use `WORKDIR` as an absolute path. Avoid using `cd` instead of `WORKDIR`.\n- **Avoid Recursive Copying**: Beware of recursive copying using `COPY . ..`.\n- **Avoid Latest Tag**: It is not recommended to use the `latest` tag.\n- **Do Not Run Remote Control Tools**: Do not run remote control tools in a container.\n- **Image Signature**: Based on the results of scanning Docker images, an image signature should be generated and verified before deployment. Tools include [Notary](https://medium.com/sse-blog/verify-container-image-signatures-in-kubernetes-using-notary-or-cosign-or-both-c25d9e79ec45) and [Cosign](https://medium.com/sse-blog/verify-container-image-signatures-in-kubernetes-using-notary-or-cosign-or-both-c25d9e79ec45).\n- **Automated Scanners**: Dockerfile should be checked during development by automated scanners like [Kics](https://checkmarx.com/product/opensource/kics-open-source-infrastructure-as-code-project/), [Conftest](https://github.com/open-policy-agent/conftest), [Container-security-checklist](https://github.com/krol3/container-security-checklist), and [Hadolint](https://github.com/hadolint/hadolint).\n- **Image Scanning**: All images should be checked in the application lifecycle by automated scanners like [Trivy](https://github.com/aquasecurity/trivy), [Clair](https://github.com/quay/clair), and [Grype](https://github.com/anchore/grype).\n- **Secure CI/CD**: Build secure CI and CD as part of the supply chain process. Refer to [SLSA](https://github.com/slsa-framework/slsa).\n\n### üåü Conclusion üåü\n\nFollow the best practices compiled in these lists and you'll have taken the most important steps to successfully hardening your Kubernetes environments and protecting your critical business applications.\n\n**Resources:**\n\n- [Spacelift Blog on Kubernetes Security](https://spacelift.io/blog/kubernetes-security)\n- [Docker Security Documentation](https://docs.docker.com/engine/security/)\n- [AquaSec Docker Security Best Practices](https://blog.aquasec.com/docker-security-best-practices)\n- [AquaSec Kubernetes Security Best Practices](https://www.aquasec.com/cloud-native-academy/kubernetes-in-production/kubernetes-security-best-practices-10-steps-to-securing-k8s/)\n- [Kubernetes Security Documentation](https://kubernetes.io/docs/tasks/administer-cluster/securing-a-cluster/)\n- [OWASP Kubernetes Security Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Kubernetes_Security_Cheat_Sheet.html)\n- [YouTube: Kubernetes Security](https://youtu.be/oBf5lrmquYI)\n\n<br>\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  _**Until next time üéâ**_\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":1873},"frontmatter":{"id":"c803becb6654cac191108931","path":"/blog/kubernetes-security/","humanDate":"Oct 18, 2024","fullDate":"2024-10-18","title":"Kubernetes: Security assessment guidelines and necessary checklist","keywords":["Kubernetes","Security assessment","Best practices","Open source","CNCF"],"excerpt":"Learn about essential security assessment guidelines and checklists for Kubernetes, ensuring your clusters are secure and compliant with best practices.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLUlEQVR42oWRXUiTcRTG35nO6ELDjYooIshlXZQpIqO0KaPsQ9TSBuVsxdKVQUlFtUg0JahUtES7MIgsCy8ixSADlVqWHxRdJJlEmF6oi/mxD+md23697tUguvCBwzn8L37/5zxHYEGBQOC/mpd3bo6pGWdwvtfUjrDNSPiu04Rp81m2/TihWwyEbDUQnnBSei9AYAn5JfDUtBOvVyTLXI6wZj9KTQ7C2n3oLjagq36LWmshPOYwSt0ZGSiKIi6XE4/bjcfjCc6zUl+UU5on7A42JZoQIlNQa7JJyLnB+T47BROwsWWS6MInKNMuyMCR0VFed3TxxtaN7X0vA4NDEsD+d+3f0ofdfV8IXZlMiEpPhqWevLI21LdG2NDkQtXsJuLqO5QHL8nAVttncqz15JY0YL75kD3n7mIqeyRn65fylHpV7TMiYoySOwOHStoo7Zil8IWbzY0ukmrsZNYNs+pUrQx8/OoD8aZy0oqqST1bSZLlNkes9/H5/EGoKB3mZUcv0amXidIcJdfawoP2Mfq/w/MeyCvu4URVFyl3OmXgmGOGnoEffPz2k/6vw/QPDjM0Oh48SDBDlwfR56WiphHFit0kppWxQ3+NTCm3+PQKdprqOFDaiiLj+hJXDsjll9Ye/zUZdGopqkQQYglT7UURpkVYrkUVb0alv0JkdokMnA/f5/f/U4vuWGiiOIfdMY1jeoZ0YzGRmizWxR5jfZyR1XG5RCXn87TzE38AoHcb89rerAcAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/710deebefa1b1168a6f3b1abd0144947/af621/k8s-sec-cover.png","srcSet":"/static/710deebefa1b1168a6f3b1abd0144947/2a360/k8s-sec-cover.png 750w,\n/static/710deebefa1b1168a6f3b1abd0144947/af621/k8s-sec-cover.png 800w","sizes":"100vw"},"sources":[{"srcSet":"/static/710deebefa1b1168a6f3b1abd0144947/be179/k8s-sec-cover.webp 750w,\n/static/710deebefa1b1168a6f3b1abd0144947/3c045/k8s-sec-cover.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.46625}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/instance-security-imdsv1-vs-v2/","title":"AWS Security: A Comparative Analysis of Instance Metadata Service v1 vs. IMDS v2, Kubernetes Pods, and Docker Container","date":"2024-10-18 19:36:00"},"excerpt":"Securing Your AWS Environment üìå Introduction In this blog post, we will dive into the security aspects of AWS, specifically focusing on the‚Ä¶","html":"<blockquote>\n<p><strong>Securing Your AWS Environment</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìå Introduction</h2>\n<p>In this blog post, we will dive into the security aspects of AWS, specifically focusing on the Instance Metadata Service (IMDS) v1 and v2, as well as the security considerations for running applications within Kubernetes Pods and Docker containers.</p>\n<div style=\"width:100%;height:0;padding-bottom:56%;position:relative;\"><iframe src=\"https://giphy.com/embed/JykvbWfXtAHSM\" width=\"100%\" height=\"100%\" style=\"position:absolute\" frameborder=\"0\" class=\"giphy-embed\" allowfullscreen></iframe></div>\n<h2 id=\"-understanding-aws-instance-metadata-service-imds\" style=\"position:relative;\"><a href=\"#-understanding-aws-instance-metadata-service-imds\" aria-label=\" understanding aws instance metadata service imds permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîç Understanding AWS Instance Metadata Service (IMDS)</h2>\n<p>Instance metadata (IMDS), also known as the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\" target=\"_blank\" rel=\"noopener noreferrer\">Instance Metadata Service</a>, contains important information about an EC2 instance within the Amazon Web Services (AWS) environment. This data includes details such as the Amazon Machine Image (AMI) used to launch the instance, its IP address, hostname, and other essential parameters. Additionally, users have the option to include User Data in the Instance Metadata, enabling them to store custom parameters that can be retrieved from within the instance.</p>\n<p>Throughout its development, AWS implemented different access models for IMDS. Initially, a request/response access model allowed access to IMDS by making a simple HTTP request from the host. However, to enhance security, a session-oriented system was later introduced, requiring a token for access. This update led to the introduction of IMDSv2, marked by the implementation of a token-based authentication mechanism.</p>\n<p>To strengthen security and defend against potential vulnerabilities like open <a href=\"https://aws.amazon.com/blogs/security/defense-in-depth-open-firewalls-reverse-proxies-ssrf-vulnerabilities-ec2-instance-metadata-service/\" target=\"_blank\" rel=\"noopener noreferrer\">firewalls, reverse proxies, and Server-Side Request Forgery (SSRF)</a>, AWS made significant enhancements to the EC2 Instance Metadata Service. These improvements are aimed at bolstering defense-in-depth strategies, providing a more robust and secure environment for EC2 instances.</p>\n<p>For more details, refer to the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Documentation on IMDS</a>.</p>\n<h3 id=\"-an-example-of-working-with-imdsv1\" style=\"position:relative;\"><a href=\"#-an-example-of-working-with-imdsv1\" aria-label=\" an example of working with imdsv1 permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåê An Example of Working with IMDSv1</h3>\n<p>For example, let's start an EC2 instance and add some value to User Data:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 616px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 122.3529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVR42u1U0Y6EIAzc///OWxEEQQQKinKDug+XrK73eMlNGgSboUNLeXgfns+GsbblnLVcWJrzco28oZTyIIqMczBnIOf5E0CLMTrvK9mHgLCci7ZljTQDTdhhmnPd6NwgboscozZGdJILwUUH4VobSLuITETOuV02Sak6WckYBSCVCdP64eBb5EDUis6YwXvvQsBhRkxouj453Ou6PlJK4Kc0YY15giMv6yulpzgih/BsGqQM4hlSJ/veT2DDfWZ7zio5xiSVQs7XUqBki1lVnRnqECg653cyZm4cnbUj0j5EHKbcRK0zygPZsK+GCTPmOzjqTFFrjTL1fR2ttWXXf4l5zzYuyc//twQjYQe5/B7/5L9GRmMs29V4c49Kgevt7UTvVjL6GC2iVK96QOMxwViX1dRg7dZpJy8JyHgI6EDEe4JP2C0ERLjoqm+Iy4NjBJtKRAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"IMDS Example\" title=\"\" src=\"/static/c702021c6a3b6714ad765c45b32fab61/40040/imds.png\" srcset=\"/static/c702021c6a3b6714ad765c45b32fab61/04472/imds.png 170w,\n/static/c702021c6a3b6714ad765c45b32fab61/9f933/imds.png 340w,\n/static/c702021c6a3b6714ad765c45b32fab61/40040/imds.png 616w\" sizes=\"(max-width: 616px) 100vw, 616px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Now, try curling the address <code class=\"language-text\">169.254.169.254</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> http://169.254.169.254/latest/user-data\nsomedata: somevalue</code></pre></div>\n<p>Or get the metadata of the instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> http://169.254.169.254/latest/meta-data\nami-id\nami-launch-index\nami-manifest-path\nblock-device-mapping/\nevents/\n<span class=\"token function\">hostname</span>\nidentity-credentials/\ninstance-action\ninstance-id\ninstance-life-cycle\ninstance-type\nlocal-hostname\nlocal-ipv4\nmac\nmetrics/\nnetwork/\nplacement/\nprofile\npublic-hostname\npublic-ipv4\npublic-keys/\nreservation-id\nsecurity-groups\nservices/</code></pre></div>\n<h3 id=\"-accessing-imds-from-a-docker-container\" style=\"position:relative;\"><a href=\"#-accessing-imds-from-a-docker-container\" aria-label=\" accessing imds from a docker container permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üê≥ Accessing IMDS from a Docker Container</h3>\n<p>Run the same request from a Docker container:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ip-172-31-30-97:/<span class=\"token comment\"># docker run -ti alpine/curl curl http://169.254.169.254/latest/meta-data/</span>\nUnable to <span class=\"token function\">find</span> image <span class=\"token string\">'alpine/curl:latest'</span> locally\nlatest: Pulling from alpine/curl\n59bf1c3509f3: Pull complete\nda353f38084f: Pull complete\n05df90dbd213: Pull complete\nDigest: sha256:81372de8c566f2d731bde924bed45230018e6d7c21d051c15e283eb8e06dfa2d\nStatus: Downloaded newer image <span class=\"token keyword\">for</span> alpine/curl:latest\nami-id\nami-launch-index\nami-manifest-path\nblock-device-mapping/\nevents/\n<span class=\"token function\">hostname</span></code></pre></div>\n<h3 id=\"Ô∏è-accessing-imds-from-a-kubernetes-pod\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-accessing-imds-from-a-kubernetes-pod\" aria-label=\"Ô∏è accessing imds from a kubernetes pod permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚ò∏Ô∏è Accessing IMDS from a Kubernetes Pod</h3>\n<p>In the case of Kubernetes, any Pod can also get this data. To check, let's create a pod:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Pod\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> test<span class=\"token punctuation\">-</span>imds\n    <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> default\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> test<span class=\"token punctuation\">-</span>imds\n        <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> alpine/curl<span class=\"token punctuation\">:</span>latest\n        <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> sleep\n            <span class=\"token punctuation\">-</span> <span class=\"token string\">\"3600\"</span>\n        <span class=\"token key atrule\">imagePullPolicy</span><span class=\"token punctuation\">:</span> IfNotPresent\n    <span class=\"token key atrule\">restartPolicy</span><span class=\"token punctuation\">:</span> Always</code></pre></div>\n<p>Apply it now:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ kubectl apply <span class=\"token parameter variable\">-f</span> pod-imds.yaml</code></pre></div>\n<p>And run the same request with curl from this Pod:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ kubectl <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-ti</span> test-imds -- <span class=\"token function\">curl</span> http://169.254.169.254/latest/meta-data/\nami-id\nami-launch-index\nami-manifest-path\nautoscaling/\nblock-device-mapping/\nevents/\n<span class=\"token function\">hostname</span>\niam/\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>For more information, refer to the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Documentation on IMDS</a>.</p>\n<h2 id=\"-imds-security-credentials-the-issue\" style=\"position:relative;\"><a href=\"#-imds-security-credentials-the-issue\" aria-label=\" imds security credentials the issue permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîí IMDS Security Credentials: The Issue</h2>\n<p>Among other data, IMDS can return the Access/Secret keys and token used to access the Instance IAM Role.</p>\n<h3 id=\"-lets-get-security-credentials\" style=\"position:relative;\"><a href=\"#-lets-get-security-credentials\" aria-label=\" lets get security credentials permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîë Let's Get Security Credentials</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> http://169.254.169.254/latest/meta-data/identity-credentials/ec2/security-credentials/ec2-instance\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Code\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Success\"</span>,\n    <span class=\"token string\">\"LastUpdated\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-12-12T12:48:33Z\"</span>,\n    <span class=\"token string\">\"Type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"AWS-HMAC\"</span>,\n    <span class=\"token string\">\"AccessKeyId\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"******BND\"</span>,\n    <span class=\"token string\">\"SecretAccessKey\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"******8Bx\"</span>,\n    <span class=\"token string\">\"Token\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"******GaQ=\"</span>,\n    <span class=\"token string\">\"Expiration\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-12-12T18:51:13Z\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>By utilizing the Access and Secret keys, we gain full permission to perform actions that are allowed for the instance. For instance, if the IAM role associated with the instance possesses AdminAccess permissions, we can inherit these extensive rights.</p>\n<h3 id=\"-verify-and-attach-a-new-role\" style=\"position:relative;\"><a href=\"#-verify-and-attach-a-new-role\" aria-label=\" verify and attach a new role permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Verify and Attach a New Role</h3>\n<p>To verify this, let's proceed by attaching a new role that grants access to S3 buckets to the instance.</p>\n<h4 id=\"-check-the-role-in-the-metadata\" style=\"position:relative;\"><a href=\"#-check-the-role-in-the-metadata\" aria-label=\" check the role in the metadata permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìã Check the Role in the Metadata</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ip-172-31-30-97:/<span class=\"token comment\"># curl http://169.254.169.254/latest/meta-data/iam/info</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Code\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Success\"</span>,\n    <span class=\"token string\">\"LastUpdated\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-12-12T13:34:51Z\"</span>,\n    <span class=\"token string\">\"InstanceProfileArn\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"arn:aws:iam::********:instance-profile/IMDSTestS3ReadOnlyAccess\"</span>,\n    <span class=\"token string\">\"InstanceProfileId\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"AIPAXPNJUS3H7XEB7UT24\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"-get-the-keys-and-token\" style=\"position:relative;\"><a href=\"#-get-the-keys-and-token\" aria-label=\" get the keys and token permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîê Get the Keys and Token</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">root@ip-172-31-30-97:/<span class=\"token comment\"># curl http://169.254.169.254/latest/meta-data/iam/security-credentials/IMDSTestS3ReadOnlyAccess</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Code\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Success\"</span>,\n    <span class=\"token string\">\"LastUpdated\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-12-12T13:35:16Z\"</span>,\n    <span class=\"token string\">\"Type\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"AWS-HMAC\"</span>,\n    <span class=\"token string\">\"AccessKeyId\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"*******PJ\"</span>,\n    <span class=\"token string\">\"SecretAccessKey\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"*******2n\"</span>,\n    <span class=\"token string\">\"Token\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"*******4a\"</span>,\n    <span class=\"token string\">\"Expiration\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-12-12T20:09:51Z\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Add them to our working machine in <code class=\"language-text\">~/.aws/credentials</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">testimds</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">aws_access_key_id</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">*******PJ</span>\n<span class=\"token key attr-name\">aws_secret_access_key</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">*******2n</span>\n<span class=\"token key attr-name\">aws_session_token</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">*******4a</span></code></pre></div>\n<p>And create a profile in the <code class=\"language-text\">~/.aws/config</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">profile testimds</span><span class=\"token punctuation\">]</span></span>\n<span class=\"token key attr-name\">region</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">eu-west-1</span>\n<span class=\"token key attr-name\">output</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">json</span></code></pre></div>\n<h4 id=\"-check-the-access-now\" style=\"position:relative;\"><a href=\"#-check-the-access-now\" aria-label=\" check the access now permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚úÖ Check the Access Now</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws <span class=\"token parameter variable\">--profile</span> testimds s3 <span class=\"token function\">ls</span>\n<span class=\"token number\">2023</span>-12-12 <span class=\"token number\">14</span>:20:01 imdsbucket-test</code></pre></div>\n<p>Access permissions to IMDS can lead to potential security risks. To mitigate these risks, there are two primary options: completely disabling IMDS or transitioning to IMDS version 2.</p>\n<h3 id=\"-disabling-imds\" style=\"position:relative;\"><a href=\"#-disabling-imds\" aria-label=\" disabling imds permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üö´ Disabling IMDS</h3>\n<p>Disabling IMDS can be achieved for EC2 instances using the AWS CLI:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws <span class=\"token parameter variable\">--profile</span> prod ec2 modify-instance-metadata-options --instance-id i-1d4c0e351255ba2b4 --http-endpoint disabled\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"InstanceId\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"i-1d4c0e351255ba2b4\"</span>,\n    <span class=\"token string\">\"InstanceMetadataOptions\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"State\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"pending\"</span>,\n        <span class=\"token string\">\"HttpTokens\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"optional\"</span>,\n        <span class=\"token string\">\"HttpPutResponseHopLimit\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"HttpEndpoint\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"disabled\"</span>,\n        <span class=\"token string\">\"HttpProtocolIpv6\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"disabled\"</span>,\n        <span class=\"token string\">\"InstanceMetadataTags\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"disabled\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"Ô∏è-modifying-instance-metadata-options-via-aws-console\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-modifying-instance-metadata-options-via-aws-console\" aria-label=\"Ô∏è modifying instance metadata options via aws console permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Modifying Instance Metadata Options via AWS Console</h2>\n<p>You can also modify the instance metadata options through the AWS Console:</p>\n<ol>\n<li>Navigate to <strong>EC2</strong>.</li>\n<li>Go to <strong>Instance Settings</strong>.</li>\n<li>Select <strong>Modify instance metadata options</strong>.</li>\n</ol>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 510px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 98.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACB0lEQVR42o2U/Y7aMBDE8/5P0z8q9REqVafeSW0RulIohRBIQnL4OwkJ/dkmCJW7o9ZiTOKZnR2vSbTWQqmDlFLpgxCuaU5hDMOQF0Wappss83E94pMsS6qq3ld1Ue7LfZUXpRCy7bqmbZu2kVdDyFdGMl8sZvPfyz+r+WI5ff6ZlyX5ie0u18Y2ZyIftmmYob5IS4wxq3W6TjeE1ia+JpTWSpuqfnk5CKa65lsyIxAOwD1g6FBbFKW1DrLTOHhurAWCCjSDZMWe4/HY9/0Z3HUdxNB23XEYen5GCgRoY+C9OMIMTUSeZbMJQ3d5sd3u1ptsuVojnnfOOTKHxNKnlkpIRRqSAzyDqQ3TR7eLLNvBxWaKh6XwmSn8wAcJLHjgXDMaZi1ldD56FliF/mM/UANrHObk4wzdtSkefHp7ANbWwm6dI4xz/4KHcdyCUQDAZ3b+K64vO+9kRqhvWmPoFmZWGIQMwhgLdVKWe3zGi1swm7AHl2KrMGMYqzhLpXyH4Sp13YLxz4XG5DiJ2Hz9KBtX3zWs7RTczqqgnAyhBOMfWnunZhSFlhaIvDTW/x4V/HVo7njPRLiYtIwJNd7PTFfhk2847rcPf1voIl/UOzVjCzBua+j8nEPyXa6UVkpJiYEQvQ0ehlWaTqbT59kv/iRm88W3H5OHx6fPj98fJrMPHz99+fr0F5dPgrnKkjGcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Modify Instance Metadata Options\" title=\"\" src=\"/static/5e46b45e92c1014defc134c093a1fdf5/0abdd/metadata.png\" srcset=\"/static/5e46b45e92c1014defc134c093a1fdf5/04472/metadata.png 170w,\n/static/5e46b45e92c1014defc134c093a1fdf5/9f933/metadata.png 340w,\n/static/5e46b45e92c1014defc134c093a1fdf5/0abdd/metadata.png 510w\" sizes=\"(max-width: 510px) 100vw, 510px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Now, when requesting metadata, you will encounter a <code class=\"language-text\">403 - Forbidden</code> error:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@ip-172-31-30-97:/<span class=\"token comment\"># curl http://169.254.169.254/latest/meta-data/iam/info</span>\n<span class=\"token operator\">&lt;</span>?xml <span class=\"token assign-left variable\">version</span><span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> <span class=\"token assign-left variable\">encoding</span><span class=\"token operator\">=</span><span class=\"token string\">\"iso-8859-1\"</span>?<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>DOCTYPE html PUBLIC <span class=\"token string\">\"-//W3C//DTD XHTML 1.0 Transitional//EN\"</span>\n<span class=\"token string\">\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>html <span class=\"token assign-left variable\">xmlns</span><span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/1999/xhtml\"</span> xml:lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span> <span class=\"token assign-left variable\">lang</span><span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span><span class=\"token number\">403</span> - Forbidden<span class=\"token operator\">&lt;</span>/title<span class=\"token operator\">></span></code></pre></div>\n<h2 id=\"-transitioning-to-imdsv2\" style=\"position:relative;\"><a href=\"#-transitioning-to-imdsv2\" aria-label=\" transitioning to imdsv2 permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Transitioning to IMDSv2</h2>\n<p>To enhance security, consider transitioning from IMDSv1 to IMDSv2. By disabling IMDSv1 and exclusively utilizing IMDSv2, you can ensure improved protection through the mandatory use of tokens. To achieve this, add the <code class=\"language-text\">--http-tokens</code> parameter when accessing the IMDS:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ aws <span class=\"token parameter variable\">--profile</span> internal ec2 modify-instance-metadata-options --instance-id i-1d4c0e351255ba2b4 --http-endpoint enabled --http-tokens required\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"InstanceId\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"i-1d4c0e351255ba2b4\"</span>,\n    <span class=\"token string\">\"InstanceMetadataOptions\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"State\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"pending\"</span>,\n        <span class=\"token string\">\"HttpTokens\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"required\"</span>,\n        <span class=\"token string\">\"HttpPutResponseHopLimit\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n        <span class=\"token string\">\"HttpEndpoint\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"enabled\"</span>,\n        <span class=\"token string\">\"HttpProtocolIpv6\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"disabled\"</span>,\n        <span class=\"token string\">\"InstanceMetadataTags\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"disabled\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now, you will encounter a <code class=\"language-text\">401 - Unauthorized</code> error:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@ip-172-31-30-97:/<span class=\"token comment\"># curl http://169.254.169.254/latest/meta-data/iam/info</span>\n<span class=\"token operator\">&lt;</span>?xml <span class=\"token assign-left variable\">version</span><span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> <span class=\"token assign-left variable\">encoding</span><span class=\"token operator\">=</span><span class=\"token string\">\"iso-8859-1\"</span>?<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>DOCTYPE html PUBLIC <span class=\"token string\">\"-//W3C//DTD XHTML 1.0 Transitional//EN\"</span>\n<span class=\"token string\">\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>html <span class=\"token assign-left variable\">xmlns</span><span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/1999/xhtml\"</span> xml:lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span> <span class=\"token assign-left variable\">lang</span><span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span><span class=\"token number\">401</span> - Unauthorized<span class=\"token operator\">&lt;</span>/title<span class=\"token operator\">></span></code></pre></div>\n<p>By introducing the token, all functionalities will continue to operate smoothly. Now, let's proceed to obtain the token:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token assign-left variable\">TOKEN</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-X</span> PUT <span class=\"token string\">\"http://169.254.169.254/latest/api/token\"</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"X-aws-ec2-metadata-token-ttl-seconds: 21600\"</span><span class=\"token variable\">)</span></span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$TOKEN</span>\"</span></code></pre></div>\n<p>Subsequently, execute the curl command once more, this time including the <code class=\"language-text\">X-aws-ec2-metadata-token</code> header:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@ip-172-31-30-97:/<span class=\"token comment\"># curl -H \"X-aws-ec2-metadata-token: $TOKEN\" http://169.254.169.254/latest/meta-data/iam/info</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Code\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Success\"</span>,\n    <span class=\"token string\">\"LastUpdated\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-08-06T13:34:51Z\"</span>,\n    <span class=\"token string\">\"InstanceProfileArn\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"arn:aws:iam::******799:instance-profile/IMDSTestS3ReadOnlyAccess\"</span>,\n    <span class=\"token string\">\"InstanceProfileId\"</span> <span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"XXXXXXXXXXXXXXXXXXXXXXXXXX\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"-using-terraform-modules\" style=\"position:relative;\"><a href=\"#-using-terraform-modules\" aria-label=\" using terraform modules permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üì¶ Using Terraform Modules</h2>\n<p>When employing Terraform modules to establish Node Groups, it's essential to carefully consider the provided choices. For instance, the module <a href=\"https://registry.terraform.io/modules/cloudposse/eks-node-group/aws/latest\" target=\"_blank\" rel=\"noopener noreferrer\">cloudposse/terraform-aws-eks-node-group</a> enables IMDSv2 by default. Refer to the <a href=\"https://github.com/cloudposse/terraform-aws-eks-node-group/blob/main/docs/migration-v1-v2.md#behavior-changes\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>Behavior changes</strong></a> section for further details.</p>\n<p>For more information, refer to the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Documentation on IMDS</a>.</p>\n<h2 id=\"-working-with-imdsv2-and-docker-integration\" style=\"position:relative;\"><a href=\"#-working-with-imdsv2-and-docker-integration\" aria-label=\" working with imdsv2 and docker integration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üê≥ Working with IMDSv2 and Docker Integration</h2>\n<p>When employing containers alongside IMDSv2 activation, complications might arise when attempting to obtain the token. For instance:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 21.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtUlEQVR42n2P2w6CQAxEF9gb1wWWq6IE1Pj//4cZW1GfjA8n07TTTCsWb7amNci1hktYFXIVIJUCGZHrgJSgHvcLzYQoTABndv3UKflEndltHjzm0WM5NDh1BY6VQpdL9IXEVGtMfuc6xhhLhd5JDE59YR8rh4qhyrbL1OI+d7idO6xjiZkuXgcLn0ao4ghtJlHG4SskiQTi8Dc8Ez5JHqWlV42Cs5pSou+LbLIB8V7gmpf+8QQp91nSSvfkMQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Alt text\" title=\"\" src=\"/static/eae8f4ddcf9ddba0b31a18ac08c3bd36/c5bb3/docker.png\" srcset=\"/static/eae8f4ddcf9ddba0b31a18ac08c3bd36/04472/docker.png 170w,\n/static/eae8f4ddcf9ddba0b31a18ac08c3bd36/9f933/docker.png 340w,\n/static/eae8f4ddcf9ddba0b31a18ac08c3bd36/c5bb3/docker.png 680w,\n/static/eae8f4ddcf9ddba0b31a18ac08c3bd36/5a190/docker.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>To mitigate this issue, introduce a parameter named <code class=\"language-text\">http-put-response-hop-limit</code>, assigning it a value exceeding 1. This precaution is necessary due to an additional network hop introduced by containerized calls when relaying a request from a client to IMDS. The initial hop originates from the host, while the subsequent one emerges from a container residing on the same host.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws <span class=\"token parameter variable\">--profile</span> internal ec2 modify-instance-metadata-options --http-endpoint enabled --http-tokens required --http-put-response-hop-limit <span class=\"token number\">2</span> --instance-id i-1c3c0e351255ba1c3\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"InstanceId\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"i-1c3c0e351255ba1c3\"</span>,\n    <span class=\"token string\">\"InstanceMetadataOptions\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"State\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"pending\"</span>,\n        <span class=\"token string\">\"HttpTokens\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"required\"</span>,\n        <span class=\"token string\">\"HttpPutResponseHopLimit\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>,\n        <span class=\"token string\">\"HttpEndpoint\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"enabled\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And run again:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVR42o2SW4+CMBCFp1CQqwWsFEVRl/WyPpjs//9rkrPTortqYrIPX6YlM2dOh6FdFV4r7SP1feShj0R6SAOBnEl8QuwxHDO+u/ON6IWESaUA6Ty5bhqN7UJjt5yj1QrrWYididCoAPNcYsHRTAMnqiaeo4ieycPRAK11dD11UxzaHJe+wLKMuFiiZhZFgIaxcZb60Jk/fuMGtumKsXk2X7GoEzQqHayzz3WNfWecw7ZiZ9mY2JYBlizS6YmjZscVixsluYHERPCTxTgWJ9gUk6Ge+phlNomx50Q6QVswCgfOiRXLbrN182XSG/dvZAoaOkNoSoF2LlArnklCqDJCEXNMx8KQXfy68f4EXqFW03A5Er7PhP1G4Lgl9GuBc0/4+iC+C5hCcEPihowmLGf2j74RXM1p2Hdc3I+cWGSzEOhXhMOGYMrxiXn4zFuHKpaDfVbJTCOCiu1eCZ4Vn6Pn4vsOvhNzgqn0hseFjR+G/B+BR+xi/wB/st/4Aks5eAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Alt text\" title=\"\" src=\"/static/8dfbb46836edf17adef133e5d7a3733e/c5bb3/docker2.png\" srcset=\"/static/8dfbb46836edf17adef133e5d7a3733e/04472/docker2.png 170w,\n/static/8dfbb46836edf17adef133e5d7a3733e/9f933/docker2.png 340w,\n/static/8dfbb46836edf17adef133e5d7a3733e/c5bb3/docker2.png 680w,\n/static/8dfbb46836edf17adef133e5d7a3733e/5a190/docker2.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-recommendations\" style=\"position:relative;\"><a href=\"#-recommendations\" aria-label=\" recommendations permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîê Recommendations</h2>\n<p>Below are other key steps and measures to enhance security and optimize the usage of AWS EKS cluster:</p>\n<h3 id=\"-update-the-aws-node-daemonset-to-utilize-irsa\" style=\"position:relative;\"><a href=\"#-update-the-aws-node-daemonset-to-utilize-irsa\" aria-label=\" update the aws node daemonset to utilize irsa permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìà Update the aws-node Daemonset to Utilize IRSA</h3>\n<p>Currently, the aws-node daemonset employs an EC2 instance-assigned role for IP assignment to pods. This role includes various AWS managed policies, e.g., <code class=\"language-text\">AmazonEKS_CNI_Policy</code> and <code class=\"language-text\">EC2ContainerRegistryReadOnly</code>, posing a security risk. To mitigate this, consider updating the aws-node daemonset to use IRSA, following the script in the repository for this guide, to update the aws-node daemonset to use IRSA.</p>\n<h3 id=\"-limit-access-to-the-worker-nodes-instance-profile\" style=\"position:relative;\"><a href=\"#-limit-access-to-the-worker-nodes-instance-profile\" aria-label=\" limit access to the worker nodes instance profile permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîí Limit Access to the Worker Node's Instance Profile</h3>\n<p>When you use IRSA, it updates the credential chain of the pod to use the IRSA token. However, the pod can still inherit the rights of the instance profile assigned to the worker node. When using IRSA, it is strongly recommended that you block access to instance metadata to minimize the blast radius of a breach.</p>\n<p>You can block access to instance metadata by requiring the instance to use IMDSv2 only and updating the hop count to 1 as in the example below. You can also include these settings in the node group's launch template. Do not disable instance metadata as this will prevent components like the node termination handler and other things that rely on instance metadata from working properly.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 modify-instance-metadata-options --instance-id <span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span> --http-tokens required --http-put-response-hop-limit <span class=\"token number\">1</span></code></pre></div>\n<p>If you are using Terraform to create launch templates for use with Managed Node Groups, add the metadata block to configure the hop count as seen in this code snippet:</p>\n<div class=\"gatsby-highlight\" data-language=\"hcl\"><pre class=\"language-hcl\"><code class=\"language-hcl\"><span class=\"token keyword\">resource <span class=\"token type variable\">\"aws_launch_template\"</span></span> <span class=\"token string\">\"foo\"</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"foo\"</span>\n  ...\n  <span class=\"token keyword\">metadata_options</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">http_endpoint</span>               <span class=\"token punctuation\">=</span> <span class=\"token string\">\"enabled\"</span>\n    <span class=\"token property\">http_tokens</span>                 <span class=\"token punctuation\">=</span> <span class=\"token string\">\"required\"</span>\n    <span class=\"token property\">http_put_response_hop_limit</span> <span class=\"token punctuation\">=</span> <span class=\"token number\">1</span>\n    <span class=\"token property\">instance_metadata_tags</span>      <span class=\"token punctuation\">=</span> <span class=\"token string\">\"enabled\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You can also block a pod's access to EC2 metadata by manipulating iptables on the node. For further information about this method, see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html\" target=\"_blank\" rel=\"noopener noreferrer\">Limiting access to the instance metadata service</a>.</p>\n<h3 id=\"-update-the-aws-sdk-version\" style=\"position:relative;\"><a href=\"#-update-the-aws-sdk-version\" aria-label=\" update the aws sdk version permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Update the AWS SDK Version</h3>\n<p>If you have an application that is using an older version of the AWS SDK that doesn't support IRSA, you should update the SDK version.</p>\n<h3 id=\"-scope-the-iam-role-trust-policy-for-irsa-to-the-service-account-name\" style=\"position:relative;\"><a href=\"#-scope-the-iam-role-trust-policy-for-irsa-to-the-service-account-name\" aria-label=\" scope the iam role trust policy for irsa to the service account name permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîê Scope the IAM Role Trust Policy for IRSA to the Service Account Name</h3>\n<p>The trust policy can be scoped to a Namespace or a specific service account within a Namespace. When using IRSA, it's best to make the role trust policy as explicit as possible by including the service account name. This will effectively prevent other Pods within the same Namespace from assuming the role. The CLI <code class=\"language-text\">eksctl</code> will do this automatically when you use it to create service accounts/IAM roles. See <a href=\"https://eksctl.io/usage/iamserviceaccounts/\" target=\"_blank\" rel=\"noopener noreferrer\">eksctl documentation</a> for further information.</p>\n<h3 id=\"Ô∏è-use-imdsv2-and-increase-the-hop-limit-on-ec2-instances-to-2\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-use-imdsv2-and-increase-the-hop-limit-on-ec2-instances-to-2\" aria-label=\"Ô∏è use imdsv2 and increase the hop limit on ec2 instances to 2 permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ°Ô∏è Use IMDSv2 and Increase the Hop Limit on EC2 Instances to 2</h3>\n<p>IMDSv2 requires you to use a PUT request to get a session token. The initial PUT request has to include a TTL for the session token. Newer versions of the AWS SDKs will handle this and the renewal of said token automatically. It's also important to be aware that the default hop limit on EC2 instances is intentionally set to 1 to prevent IP forwarding. As a consequence, Pods that request a session token that are run on EC2 instances may eventually time out and fallback to using the IMDSv1 data flow. EKS adds support for IMDSv2 by enabling both v1 and v2 and changing the hop limit to 2 on nodes provisioned by <code class=\"language-text\">eksctl</code> or with the official CloudFormation templates.</p>\n<p>For more information, refer to the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Documentation on IMDS</a>.</p>\n<h2 id=\"Ô∏è-conclusion\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-conclusion\" aria-label=\"Ô∏è conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚≠êÔ∏è Conclusion</h2>\n<p>In this blog post, we have conducted a comprehensive analysis of the security considerations of AWS Instance Metadata Service (IMDS) v1 and IMDS v2, as well as their interactions with Kubernetes Pods and Docker Containers. By understanding the strengths and limitations of each version, and by incorporating best practices such as using <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html\" target=\"_blank\" rel=\"noopener noreferrer\">IAM Roles for Service Accounts (IRSA)</a>, restricting access to instance profiles, and leveraging IMDSv2, you can effectively secure your AWS environment and ensure its robust security posture. Protecting your assets and data is essential, and this comparative exploration provides you with the insights you need to navigate the complexities of securing your AWS infrastructure.</p>\n<p>We hope that you have found this blog post helpful. If you have any other tips or tricks that you would like to share, please leave a comment below. üí¨</p>\n<p>üîó <strong>Useful Links:</strong></p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Instance Metadata Service</a></li>\n<li><a href=\"https://aws.amazon.com/blogs/security/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Security Blog</a></li>\n<li><a href=\"https://kubernetes.io/docs/home/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes Documentation</a></li>\n<li><a href=\"https://docs.docker.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Docker Documentation</a></li>\n</ul>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/eks-management-best-practices/","title":"Amazon EKS management: tips to save costs and enhance performance","date":"2024-10-18 12:30:00"},"excerpt":"A Step-by-Step upgrade handbook üìö Introduction Amazon Elastic Kubernetes Service (EKS) is a popular managed Kubernetes service that‚Ä¶","html":"<blockquote>\n<p><strong>A Step-by-Step upgrade handbook</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö Introduction</h2>\n<p>Amazon Elastic Kubernetes Service (EKS) is a popular managed Kubernetes service that simplifies the deployment, scaling, and management of containerized applications. However, EKS can also be expensive if not managed properly, especially when it comes to optimizing performance and cost efficiency. In this blog, we'll share ten golden tips for maximizing cost efficiency and minimizing cloud spend in EKS clusters while ensuring optimal performance by enforcing the use of cloud-native tools.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABXElEQVR42m2Ri06DQBBF+/8fZmJsbG0s1VBqKdTapoAC5bGv47BYNdEhhzvZHSZzh4lzjvOHZnfWpNlIInTKopWi6zr6vvdqneXQvRM3Gfu2IG1zkl8oq5lYa4lPmkWsmG97VumgirzsKPKMcL1muVxyOh4p64pVfWBeJgT1q+ehSlhUKY/1ntYoJkhobVHafaMNMpWiKAo2mw1BEJBlGU3TYKW+t4be/WVwOxleTqxY0StOPlJid2gym82YTqccZcK2bfEhrkakUup97lNpOBxUsq+Hd819IXZF70SzS0t+PrOOItZhyJs0rKsK/RKhVkvU80r00ec6CrEywDCIt9way7YxbC6GSAhKTWPEvvyMsqo9l4vYNQadJpjdFpPuRpIYc9iD3HFtiLf59XzlfrfHJ/qXG1R8i35d4Ew/lv/DNcYdyg7GXf5GGhYp6hSishiV77Ba+fO/tT98Ahs8Z8XrjvlGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"EKS Schema\" title=\"\" src=\"/static/8297331ffcd20625c0465325a0c20717/c5bb3/schema.png\" srcset=\"/static/8297331ffcd20625c0465325a0c20717/04472/schema.png 170w,\n/static/8297331ffcd20625c0465325a0c20717/9f933/schema.png 340w,\n/static/8297331ffcd20625c0465325a0c20717/c5bb3/schema.png 680w,\n/static/8297331ffcd20625c0465325a0c20717/b12f7/schema.png 1020w,\n/static/8297331ffcd20625c0465325a0c20717/b5a09/schema.png 1360w,\n/static/8297331ffcd20625c0465325a0c20717/c655d/schema.png 1586w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-goals--objectives\" style=\"position:relative;\"><a href=\"#-goals--objectives\" aria-label=\" goals  objectives permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üéØ Goals &#x26; Objectives</h2>\n<p>In this blog, we will discuss some of the golden tips to save costs and boost performance while managing an EKS cluster.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.235294117647065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACPUlEQVR42qVSS28SURi9M6htfKUtDFOgQ0theA3DFGqB8mypPFJoKSWYYIvRBTWGyKIuNKYxTXRhTDTRuPFn6EJ/hD/IxM3xuxf6WGpcnHx3zne/kzvfOcwRL4J5TEiaBVlbEfXfQXMLpBHI/2Y2LS4+ZN7g9dJZ0kzwPoc8uWfz8rM5mRlz0gJVd5QEc2DMExMEc/ohc9ITBXPpJMYvGWDzETA1TJwhhvlZ8DTHexKf1y4Jikt0wZ3rI3X4GVbpFKrZIS6C64E7mDNyUFdKuBlMCUGnVcS0L4lrSwnMRrO4SlWs7PyFih/e0gCd05/Qq8cIpIdo9X9gJtyCUW5i9Oothi/fYOfhENPLSbz++AUHT19gu/8EveFz2GN58SCZ/kzS6czsi4junCDV+wBFr+OGL4Ns4z0C+RG9KITZSJbEM7jFX+iKQiETFbOI28TNBNO4wn+fwFclBQsk6FiCXjlGffQdSqIDNdnF+v4nzMXa0As1dB8/Q6y8B6vSgbnVRvzuPkLFJvR8A4laF4X2A1rJBnkQhBwqcVMMTPnXkWy/Q/XoK2qDbzBqJ2Lh7tUyMrsHyLYOUekdYa3RE6Kr9XtIN+9js/uI+AEW01UwRYcc2RibwhfKlGU4rD3YzV1yMjB2bp54h069ENUgJCe5rZKzAuFxz06J4AkgE6XwJheMiTzx7DFXSOA8k9pZ7i6yyLkLEO+1xnl0UZwiWyTIlbnlBBsX57mafP81aG2Sqk8EaX//jywk3xqkePPXHy2PXGo+jm6YAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Best Practices\" title=\"\" src=\"/static/ff78967df04c981b3f96ffc551f08306/c5bb3/best-practices.png\" srcset=\"/static/ff78967df04c981b3f96ffc551f08306/04472/best-practices.png 170w,\n/static/ff78967df04c981b3f96ffc551f08306/9f933/best-practices.png 340w,\n/static/ff78967df04c981b3f96ffc551f08306/c5bb3/best-practices.png 680w,\n/static/ff78967df04c981b3f96ffc551f08306/a1792/best-practices.png 780w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"1-leverage-aws-cost-explorer\" style=\"position:relative;\"><a href=\"#1-leverage-aws-cost-explorer\" aria-label=\"1 leverage aws cost explorer permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>1. Leverage AWS Cost Explorer</h2>\n<p><a href=\"https://aws.amazon.com/aws-cost-management/aws-cost-explorer/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Cost Explorer</a> is a powerful tool that can help you analyze and optimize your AWS spending. With Cost Explorer, you can identify cost-saving opportunities, analyze your cost and usage trends, and forecast your future spending. By leveraging this tool, you can optimize your EKS spending and reduce your overall cost.</p>\n<h2 id=\"2-use-fargate\" style=\"position:relative;\"><a href=\"#2-use-fargate\" aria-label=\"2 use fargate permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>2. Use Fargate</h2>\n<p><a href=\"https://aws.amazon.com/fargate/\" target=\"_blank\" rel=\"noopener noreferrer\">Fargate</a> is a serverless compute engine for containers that allows you to run containers without having to manage the underlying EC2 instances. By using Fargate, you can reduce your operational overhead and improve the performance of your EKS cluster.</p>\n<h2 id=\"3-use-spot-instances\" style=\"position:relative;\"><a href=\"#3-use-spot-instances\" aria-label=\"3 use spot instances permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>3. Use Spot Instances</h2>\n<p><a href=\"https://aws.amazon.com/ec2/spot/\" target=\"_blank\" rel=\"noopener noreferrer\">Spot Instances</a> are spare EC2 instances that can be used at a significantly lower cost than On-Demand instances. By using Spot Instances, you can reduce your EC2 costs and improve the cost-efficiency of your EKS cluster.</p>\n<h2 id=\"4-right-size-your-ec2-instances\" style=\"position:relative;\"><a href=\"#4-right-size-your-ec2-instances\" aria-label=\"4 right size your ec2 instances permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>4. Right-size your EC2 Instances</h2>\n<p>It is essential to choose the right size for your EC2 instances to optimize the performance of your EKS cluster. By selecting the appropriate instance type, you can reduce your costs and improve the overall performance of your EKS cluster.</p>\n<h2 id=\"5-use-amazon-cloudwatch-and-grafana-for-monitoring\" style=\"position:relative;\"><a href=\"#5-use-amazon-cloudwatch-and-grafana-for-monitoring\" aria-label=\"5 use amazon cloudwatch and grafana for monitoring permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>5. Use Amazon CloudWatch and Grafana for Monitoring</h2>\n<p>Monitoring is crucial for the proper functioning of your EKS cluster. <a href=\"https://aws.amazon.com/cloudwatch/\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon CloudWatch</a>, <a href=\"https://grafana.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Grafana</a>, and <a href=\"https://prometheus.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Prometheus</a> are powerful tools that can help you monitor your EKS cluster's performance, availability, and resource utilization.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAMAAf/aAAwDAQACEAMQAAAByXS1scgst//EABsQAAIBBQAAAAAAAAAAAAAAAAABEQMEEiEy/9oACAEBAAEFAtsqpQyXlccn/8QAFhEAAwAAAAAAAAAAAAAAAAAAAhAx/9oACAEDAQE/ARi//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQIQISUf/aAAgBAQAGPwLHZV0UKxR//8QAGxAAAwEAAwEAAAAAAAAAAAAAAAERITFBUaH/2gAIAQEAAT8h6QnnAWkkr4LJqWFt2SafceH/2gAMAwEAAgADAAAAECff/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxBLQlh//8QAFxEAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPxAzV//EABsQAQADAQADAAAAAAAAAAAAAAEAESExUaHR/9oACAEBAAE/EA2KDAUhu4CgGZae4qASmb8iLVFUrOciQRobtea7FUsvJ//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Monitoring\" title=\"\" src=\"/static/afb2afc5ef59d318f714b4afbb477e27/7bf67/monitoring.jpg\" srcset=\"/static/afb2afc5ef59d318f714b4afbb477e27/651be/monitoring.jpg 170w,\n/static/afb2afc5ef59d318f714b4afbb477e27/d30a3/monitoring.jpg 340w,\n/static/afb2afc5ef59d318f714b4afbb477e27/7bf67/monitoring.jpg 680w,\n/static/afb2afc5ef59d318f714b4afbb477e27/4b190/monitoring.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"6-use-aws-identity-and-access-management-iam-and-oidc\" style=\"position:relative;\"><a href=\"#6-use-aws-identity-and-access-management-iam-and-oidc\" aria-label=\"6 use aws identity and access management iam and oidc permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>6. Use AWS Identity and Access Management (IAM) and OIDC</h2>\n<p><a href=\"https://aws.amazon.com/iam/\" target=\"_blank\" rel=\"noopener noreferrer\">IAM</a> and <a href=\"https://openid.net/connect/\" target=\"_blank\" rel=\"noopener noreferrer\">OIDC</a> are essential for securing your EKS cluster. By implementing these tools, you can control who can access the cluster and what they can do.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEUlEQVR42j2Ry2vUQBjA80959b/wIvQiHjwJIgo9qIgHKYLixVahh0L3YktPFmwtxd00m91ks9lH3ezm0WSSzWOSyeS5Sbfb3ThtofBj+PiY3/eYoToo4hBueYgBHj226kP9TAK0qDLnOu8i3sfNEaD7WtNw6wOtLqj1nsJakPNDdmJRRNbT3M4LdHWJl1dumAAY9VSb7l+wypSVp43+xVB1TDd00EyHyA4yO5nJEDP/jBs5uZyvrpddJfr5S53IqKoqCcB6V210ZFpQmqYHspwku+fsx63nh+x2tVp6KGkIMsUHUXG9qP0BL74Ndg/Ga89+86JrphkzhWPTHwNIS0BzbypufH+9/uXx2+1H8Qz5aclMTIoZgbwsN2rjvWPDh9nmzrC2L8FFKUZplBUoyrihoQBIZM3Q1tYf7J6+Xy0rL825AFN0V52V5eaB8vJzZ/9Yf/O1M1JC3cf0yDAdPA3iRk9TLZ/ISZo9fffwkPtBYjfJOB9TzECPs2I+X+wd6a8+8axImqwk3fsrqi0T8l7YtH2A02pVlcX8w9YT8uREhncyD0OAM5jkuCjQrCCng5K+6rQd1I0SIYy5MJpEKYxzLy2kqW7h2E8LDcU8GVvAMR9GhIYbHhlBK8D0UG/KloAT8hF3kHtkw1MrODHDEzNgYcjf5qm24baBd09Ls89Eta07pOi9TBBu4RG+jzso+g8MOQAksfSvtwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"OIDC\" title=\"\" src=\"/static/f3fa7c13da3ce8b9f76cc59b2dce5f95/c5bb3/oidc.png\" srcset=\"/static/f3fa7c13da3ce8b9f76cc59b2dce5f95/04472/oidc.png 170w,\n/static/f3fa7c13da3ce8b9f76cc59b2dce5f95/9f933/oidc.png 340w,\n/static/f3fa7c13da3ce8b9f76cc59b2dce5f95/c5bb3/oidc.png 680w,\n/static/f3fa7c13da3ce8b9f76cc59b2dce5f95/5a190/oidc.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"7-implement-rbac\" style=\"position:relative;\"><a href=\"#7-implement-rbac\" aria-label=\"7 implement rbac permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>7. Implement RBAC</h2>\n<p>üîí <strong>RBAC</strong> (Role-Based Access Control) is a security model that defines permissions and access levels based on roles assigned to users or groups. By using RBAC, you can ensure that only authorized users have access to the EKS resources, improving the security of your cluster.</p>\n<h2 id=\"8-implement-admission-controllers\" style=\"position:relative;\"><a href=\"#8-implement-admission-controllers\" aria-label=\"8 implement admission controllers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>8. Implement Admission Controllers</h2>\n<p>üõ°Ô∏è <strong>Admission Controllers</strong> are a set of plugins that allow you to enforce policies on Kubernetes objects during the admission process. By using Admission Controllers like <a href=\"https://www.openpolicyagent.org/\" target=\"_blank\" rel=\"noopener noreferrer\">OPA (Open Policy Agent)</a>, you can define policies that restrict the creation or modification of Kubernetes objects based on certain conditions or criteria. For example, you can use OPA to ensure that only containers with approved images are deployed in your EKS cluster, improving the security of your applications.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 303px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAF/8QAFwEAAwEAAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAAB1TQiEjs1/8QAGBABAQADAAAAAAAAAAAAAAAAAQACEyH/2gAIAQEAAQUCW2dnEYJv/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/AXGf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABFB/9oACAECAQE/AcV//8QAFxABAAMAAAAAAAAAAAAAAAAAACAx4f/aAAgBAQAGPwJiof/EABoQAQEBAAMBAAAAAAAAAAAAAAERACExcYH/2gAIAQEAAT8hi2vlymIpfjd4hU5kxAwyjv/aAAwDAQACAAMAAAAQBO//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFB/9oACAEDAQE/EGgclNv/xAAWEQEBAQAAAAAAAAAAAAAAAAABACH/2gAIAQIBAT8QdTIv/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBYZH/2gAIAQEAAT8QVWAN+EQq8NFke7Gk3wwzr5EtxaWmRvAaC4uNcHRP/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Admission Controllers\" title=\"\" src=\"/static/07e13560e4d7203542f70741d84e94d1/c8fe0/admissions.jpg\" srcset=\"/static/07e13560e4d7203542f70741d84e94d1/651be/admissions.jpg 170w,\n/static/07e13560e4d7203542f70741d84e94d1/c8fe0/admissions.jpg 303w\" sizes=\"(max-width: 303px) 100vw, 303px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"9-use-pod-disruption-budgets-pdbs\" style=\"position:relative;\"><a href=\"#9-use-pod-disruption-budgets-pdbs\" aria-label=\"9 use pod disruption budgets pdbs permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>9. Use Pod Disruption Budgets (PDBs)</h2>\n<p>üìâ <strong>Pod Disruption Budgets (PDBs)</strong> is a Kubernetes feature that allows you to define \"how many pods can be unavailable during a planned or unplanned disruption\". By using PDBs, you can ensure the availability of your applications during disruptions, while still allowing for maintenance and upgrades.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 284px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACrklEQVR42mM4dPrS3UfPbt9/8vTl63uPnj1/+RbI/fjpy/NXbx89e/n7DxD8/ffv3637j1+/+3Dz3qN3Hz4BZSFSDDUT5mU2TCjtnLnv6JmC1inZTZOdYgpzmibltUzpnLG0ddqS+PKODbuPALkp1T2RBc2JVd3ZDRMXrd/59+9fhh8/f71+9/HL12/f/vzZcezcruPnHnz48uz1uzfvP777+OnyrXsXb9x99urt89dvL928B3TUuau3T1268fHz1////zP8/fMXSN2693R1RcsGQ8stZrbL8sqPHDkFFPz3FyQFdPN/DPAXLMgAxE/ffZwY5DVTSWGNiu56FZ0SQYVK91CQ+PO3T1+8+fsPpBToyF+/fwP9CTEOofnh648Xku0+xirOczHKUreqkTScYx8+a+OsksW+6dO8Fq6fC7IK7AoguHgNGHbPIUaAND9++/lUvO3/GKn9zrptciazfAwqGxztUnyjSj23H5dcs9Xx5y+gqj9Hjp9KL62XtPCasWw9kA8KbSD16vP3jcVJV8LUp8SalfvYuNfGli+371liNnGa7tkrkmt35e7cezo0q0zMNU6yeI5E/epF67eDDPvzlwESHg+evg7ND8lZ7JA/zzq/ynvNOp3D58TnrCzpml7rm1Qo7ZvBG1ohktCiOumQTM++JRt2oGh++uxpZnVFS1/UqYsy67abTlkYsGFvW3X3fA2/TIGoWsWe3Qq1KxTrVijWLJWpW71y614Uze8+fO2alrduo9b05Xqb9y9//e7/z99/3WOy+KJqRdP72PxLWBN7hFp3is28KNO4bs2W3VDNoHD7D9L//cfXo2dPXb75ABKvv3799EgsZIpsEsiYaD11b9/Ft1ue/Fj3+Nf5F5+/fPkCDm1wVKEBeKoAxsqBu6+vfPr7HSyAmVYAvdE5zhZr9isAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Pod Disruption Budgets\" title=\"\" src=\"/static/31940829bfa0fbf1ecf9968d0e4985b6/62f93/pdb.png\" srcset=\"/static/31940829bfa0fbf1ecf9968d0e4985b6/04472/pdb.png 170w,\n/static/31940829bfa0fbf1ecf9968d0e4985b6/62f93/pdb.png 284w\" sizes=\"(max-width: 284px) 100vw, 284px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"10-implement-resource-limits\" style=\"position:relative;\"><a href=\"#10-implement-resource-limits\" aria-label=\"10 implement resource limits permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>10. Implement Resource Limits</h2>\n<p>üö¶ <strong>Resource Limits</strong> allow you to specify the maximum amount of CPU and memory that a container can consume. By using Resource Limits, you can prevent containers from consuming more resources than necessary, ensuring the optimal performance of your EKS cluster.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 301px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQ0lEQVR42kVSTWgTQRidtNWCRfSmJxH04l0QQTx48KSCF48eFC3iD0laK0VFsL1VIq0BSUGoodZumlSTFCptUlusNa3YSNtQjW7Nj2mbZP9md2dnN5t0/TaByj52H9/O2zfv7SBV1YhKCaFANEJtqJQSvUG0+rwBRdUkRcXwINTQDFiDYCrJiigrQARZ4TDmMd6WxBKWgBclWG8r4b2skh29WqOVTVFIc1s5gUMgm8uvR9jl4O+v0Y1kPLs2k01F2STwD39Wwuw3+ASIK3CpdDi9eGHWdzzae+j946ORp0hRCegLAp8XuDLGgLq5LMiyKMtlLMG+LL26UsyfnHyG/Dcdw7fQyB309h4auYsaUa2aUa0Y9ZA6VAA+JjWBwJ6r1Fwr/j0XGzgSfnIs2tM61tkUcDcxbrgjQjQJk8iC+CWFqQbZCDSR2s5832RBbFelaKcm+05M9Fz9/PrMlKeZcaFdmIbmDQsuH+f0lWeSklU1l/Lp9rh3aDU28WvJMiz/zwR6c3tfsGtvoKOFcQFpCbibwRbEYNv+ohRPEs+42BfiuMyGfzl2LdYf+jH/cN6/Q83zcS/y3zg73X/l06tLs77Lc4MXP748PeVBo05wppEF6frzkmuwvJ5RDEJyXKk3MTq0Op3ji1m+fPjdI6hnT6Cjbez+gVB3W7Dr4Hj3/tAD2xlSGbqW3VJLPKno9kkw7IHBy9jSa4sFtjXQiRinoxES3HbREMuKRqFmYhP7JCkEaoNfWKNmosBC1P/iOhx1IMb1Dzr569fSpf1FAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Resource Limits\" title=\"\" src=\"/static/5567fdb6e9a328be75f2653f9ba41401/fb933/limits.png\" srcset=\"/static/5567fdb6e9a328be75f2653f9ba41401/04472/limits.png 170w,\n/static/5567fdb6e9a328be75f2653f9ba41401/fb933/limits.png 301w\" sizes=\"(max-width: 301px) 100vw, 301px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"11-use-kubernetes-pod-autoscaling\" style=\"position:relative;\"><a href=\"#11-use-kubernetes-pod-autoscaling\" aria-label=\"11 use kubernetes pod autoscaling permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>11. Use Kubernetes Pod Autoscaling</h2>\n<p>üìà <strong>Kubernetes Pod Autoscaling</strong> allows you to automatically adjust the number of pods in your cluster based on resource utilization. By using this feature, you can optimize the performance of your EKS cluster while reducing your costs.</p>\n<h2 id=\"12-implement-scaling-hpa-and-vpa\" style=\"position:relative;\"><a href=\"#12-implement-scaling-hpa-and-vpa\" aria-label=\"12 implement scaling hpa and vpa permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>12. Implement Scaling HPA and VPA</h2>\n<p>üîÑ <strong>Horizontal Pod Autoscaling (HPA)</strong> and <strong>Vertical Pod Autoscaling (VPA)</strong> are Kubernetes features that allow you to scale your containers based on their resource utilization. By using these features, you can optimize the performance of your EKS cluster and reduce your costs.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 81.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHElEQVR42l1USU9TURTu33Hv3sSdKxcaExO3mGg0BowhpDgBGtSAMSjExIQ4LIwJCxArIkMps4AMZSxTh9dSOrx5aGnh85z72if6ktPbd+93v3vO+b77fKpuQVYNqJqBnGLidZ+M3ikVmmFC0dxgTDXyhDVNE/0zKtp78khmDA/L6z7+MawChQNFd9D4XsGHIR2O40AzHegUpwk1s4BCwcHnoAY/YZNZB7ZTgGrYLiEzz/9exnJ4HWsbW1hd38TSyio2NiOYW1jC7n5cHMhgxvLcxtY2wmsufo3wC4srSCTT4nAfgxeXVzE8GsJoaJJiHOOT0xgcCuLncBB70YRHmFd0MRck3PjEDO0Zw/TsPPoDA9iM7MK0i27J6UwOcUlCPJEkgjikVBrRuPuezSvUI1tENq8iRvNS8kDg9mMJ8T8upZCkPaJkTnMlvIberwEB5uf4+BgnJ+6YV1QBZNwhHdzX/52ymhO4EwJx8KMbhqjAVyqfoPvTF5w5ex6vurrFYrlc9ohlRaPeWaIcLv/chSu4eLUGlmV7pP8Q6lRKZCeK0NQctnb2oem0IKuCiEcuWdXdktOZPCZnFzC3GPYw4kCKTE4WolVs48CkxvOEdJBBTtaEN11//vUhk1rOEY0WDrMyDg5zYg/j/vEhv+zFJGqyJAThDXrFg1rFXy6hQ1nKiOxGESebsEjsgNM4X9UOmZxKmenkrW1SOCU2ptJZWjM8Qs4kk1MEEWNW1yPeHHN4xpZI9kSC/EZXiJvMorAgPHKvquVyn2KxGGRZ8UTjPaZpIZeXBbmvcFRGT28Al65dR8fbbjx40o7W9k60vuxCbUMztrb3hMJcViyRwmXC1dyux617D3G/pc1zhK5XVHaKJXwbHMGd+sfofPcR/qYXeNr2Bs3PO1DX0IT1zR3RJ84wGk/iRq0fd/0tuFnXiIZHz2DZNkqlEqmtuhlW1TFt+kCYNo2u4hZdeNspeqYWzSfSo9IxOAnnqAS7UBRt4HDtVRGlerVc4iJ9EBII/BimSx/G9K8FDFAFockZjIxNYDg4Qfd5THiWsf/v/wPn3IhcLVzihgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"HPA and VPA\" title=\"\" src=\"/static/120e614d6e0aa32a3a181864d28f404c/c5bb3/hpa-vpa.png\" srcset=\"/static/120e614d6e0aa32a3a181864d28f404c/04472/hpa-vpa.png 170w,\n/static/120e614d6e0aa32a3a181864d28f404c/9f933/hpa-vpa.png 340w,\n/static/120e614d6e0aa32a3a181864d28f404c/c5bb3/hpa-vpa.png 680w,\n/static/120e614d6e0aa32a3a181864d28f404c/5a190/hpa-vpa.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"13-consider-leveraging-app-mesh-or-a-service-mesh\" style=\"position:relative;\"><a href=\"#13-consider-leveraging-app-mesh-or-a-service-mesh\" aria-label=\"13 consider leveraging app mesh or a service mesh permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>13. Consider Leveraging App Mesh or a Service Mesh</h2>\n<p>üîó <strong>App Mesh</strong> is a service mesh provided by AWS that enables you to manage and monitor your microservices. By utilizing App Mesh, you can enhance the availability, security, and performance of your EKS cluster. App Mesh also provides traffic management capabilities that allow you to manage traffic routing and implement advanced traffic management strategies. It supports mutual Transport Layer Security (mTLS), which provides encryption and authentication of traffic between microservices. With mTLS, you can secure communication between your microservices and prevent unauthorized access to sensitive data. Additionally, App Mesh integrates with <a href=\"https://aws.amazon.com/certificate-manager/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Certificate Manager (ACM)</a> to simplify the process of managing and deploying certificates for mTLS.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHfyXpNyIT/AP/EABkQAAIDAQAAAAAAAAAAAAAAAAABAgMREP/aAAgBAQABBQJ0Vc0Vk8G9P//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwGRj//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwFtf//EABsQAAEEAwAAAAAAAAAAAAAAAAAQESEyAXGR/9oACAEBAAY/AqzsdkvnqSf/xAAZEAEBAQADAAAAAAAAAAAAAAABABEhUXH/2gAIAQEAAT8h5QAgc6G82tJkWrb/2gAMAwEAAgADAAAAEJPP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxDR0k//xAAWEQEBAQAAAAAAAAAAAAAAAAABIRD/2gAIAQIBAT8QWTL/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMVGRYf/aAAgBAQABPxAIFVrSlbws4paYGey5ifIy1dOV9mDO5Zggq3on/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"App Mesh\" title=\"\" src=\"/static/332520d33d2c74c27429ef4186654f89/f93b5/mesh.jpg\" srcset=\"/static/332520d33d2c74c27429ef4186654f89/651be/mesh.jpg 170w,\n/static/332520d33d2c74c27429ef4186654f89/f93b5/mesh.jpg 300w\" sizes=\"(max-width: 300px) 100vw, 300px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"14-set-up-spot-fleets\" style=\"position:relative;\"><a href=\"#14-set-up-spot-fleets\" aria-label=\"14 set up spot fleets permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>14. Set up Spot Fleets</h2>\n<p>üöÄ <strong>Spot Fleets</strong> are a feature of Amazon Web Services that allow users to launch and manage Spot Instances across multiple Availability Zones. Utilizing Spot Fleets can improve the fault tolerance and cost-efficiency of your EKS cluster by optimizing the use of available compute resources.</p>\n<h2 id=\"15-use-an-automation-tool-like-terraform-and-ack\" style=\"position:relative;\"><a href=\"#15-use-an-automation-tool-like-terraform-and-ack\" aria-label=\"15 use an automation tool like terraform and ack permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>15. Use an Automation Tool like Terraform and ACK</h2>\n<p>ü§ñ Automation tools like <a href=\"https://www.terraform.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Terraform</a> and <a href=\"https://aws.amazon.com/cloudformation/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS CloudFormation</a> can help you manage your EKS infrastructure and deployments. By using these tools, you can automate your EKS deployment process and improve the overall efficiency of your EKS cluster management. Additionally, <a href=\"https://aws.amazon.com/blogs/containers/introducing-aws-controllers-for-kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">ACK (AWS Controllers for Kubernetes)</a> can help you manage AWS resources natively within Kubernetes, making it easier to manage your EKS cluster resources.</p>\n<h2 id=\"16-use-security-tools-like-kubectl-bench-for-security-testing\" style=\"position:relative;\"><a href=\"#16-use-security-tools-like-kubectl-bench-for-security-testing\" aria-label=\"16 use security tools like kubectl bench for security testing permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>16. Use Security Tools like Kubectl-Bench for Security Testing</h2>\n<p>üîç Security is critical when managing an EKS cluster. Tools like <a href=\"https://github.com/aquasecurity/kube-bench\" target=\"_blank\" rel=\"noopener noreferrer\">kube-bench</a>, <a href=\"https://sysdig.com/opensource/falco/\" target=\"_blank\" rel=\"noopener noreferrer\">Sysdig Falco</a>, and <a href=\"https://www.aquasec.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Aqua Security</a> can help you identify potential security risks by running static analysis, dynamic analysis, DAST (Dynamic Application Security Testing), and SAST (Static Application Security Testing) on your Kubernetes manifests. Here are some popular tools for DAST and SAST on Kubernetes:</p>\n<ul>\n<li><strong>DAST (Dynamic Application Security Testing)</strong>: <a href=\"https://www.zaproxy.org/\" target=\"_blank\" rel=\"noopener noreferrer\">OWASP ZAP</a>, <a href=\"https://portswigger.net/burp\" target=\"_blank\" rel=\"noopener noreferrer\">Burp Suite</a>, <a href=\"https://www.acunetix.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Acunetix</a>, <a href=\"https://www.qualys.com/apps/web-app-scanning/\" target=\"_blank\" rel=\"noopener noreferrer\">Qualys Web Application Scanning</a>, <a href=\"https://www.tenable.com/products/nessus\" target=\"_blank\" rel=\"noopener noreferrer\">Nessus</a>, <a href=\"https://www.rapid7.com/products/appspider/\" target=\"_blank\" rel=\"noopener noreferrer\">AppSpider</a>, <a href=\"https://www.netsparker.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Netsparker</a>.</li>\n<li><strong>SAST (Static Application Security Testing)</strong>: <a href=\"https://www.sonarqube.org/\" target=\"_blank\" rel=\"noopener noreferrer\">SonarQube</a>, <a href=\"https://www.checkmarx.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Checkmarx</a>, <a href=\"https://www.microfocus.com/en-us/solutions/application-security\" target=\"_blank\" rel=\"noopener noreferrer\">Fortify</a>, <a href=\"https://www.veracode.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Veracode</a>, <a href=\"https://www.codacy.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Codacy</a>, <a href=\"https://docs.gitlab.com/ee/user/application_security/sast/\" target=\"_blank\" rel=\"noopener noreferrer\">GitLab SAST</a>, <a href=\"https://github.com/aquasecurity/trivy\" target=\"_blank\" rel=\"noopener noreferrer\">Trivy</a>.</li>\n</ul>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 367px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMB/8QAFgEBAQEAAAAAAAAAAAAAAAAABAAB/9oADAMBAAIQAxAAAAGmiCSFn//EABgQAQADAQAAAAAAAAAAAAAAAAECAxMA/9oACAEBAAEFAo2mmhELO//EABURAQEAAAAAAAAAAAAAAAAAAAAS/9oACAEDAQE/AbW//8QAFREBAQAAAAAAAAAAAAAAAAAAABL/2gAIAQIBAT8BlL//xAAZEAABBQAAAAAAAAAAAAAAAAABABARIlH/2gAIAQEABj8CMmqOt//EABkQAAIDAQAAAAAAAAAAAAAAAAABESExUf/aAAgBAQABPyFFtjKFKHLZw6uT/9oADAMBAAIAAwAAABB0P//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8QqYhtcP/EABgRAAIDAAAAAAAAAAAAAAAAAAABETFx/9oACAECAQE/ENCSLP/EABwQAQACAgMBAAAAAAAAAAAAAAEAIRFBMVFhsf/aAAgBAQABPxBNyPG46ldW1cn3qDhtLsT5P//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Security Tools\" title=\"\" src=\"/static/37fc30416b1801a32cecafe08e140f8a/fc0c2/sec.jpg\" srcset=\"/static/37fc30416b1801a32cecafe08e140f8a/651be/sec.jpg 170w,\n/static/37fc30416b1801a32cecafe08e140f8a/d30a3/sec.jpg 340w,\n/static/37fc30416b1801a32cecafe08e140f8a/fc0c2/sec.jpg 367w\" sizes=\"(max-width: 367px) 100vw, 367px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-conclusion-\" style=\"position:relative;\"><a href=\"#-conclusion-\" aria-label=\" conclusion  permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåü Conclusion üåü</h3>\n<p>By following these tips and enforcing the use of cloud-native tools, you can maximize cost efficiency and minimize cloud spending while optimizing performance in EKS clusters. With the right tools and practices in place, you can ensure that your containerized applications are running smoothly and cost-effectively.</p>\n<p><strong>Resources:</strong></p>\n<ul>\n<li><a href=\"https://www.whizlabs.com/blog/kubernetes-tips-and-tricks/\" target=\"_blank\" rel=\"noopener noreferrer\">Whizlabs: Kubernetes Tips and Tricks</a></li>\n<li><a href=\"https://www.clickittech.com/devops/eks-best-practices/\" target=\"_blank\" rel=\"noopener noreferrer\">ClickIT: EKS Best Practices</a></li>\n<li><a href=\"https://www.padok.fr/en/blog/aws-eks-cluster\" target=\"_blank\" rel=\"noopener noreferrer\">Padok: AWS EKS Cluster</a></li>\n<li><a href=\"https://itnext.io/dive-deep-into-resource-requests-and-limits-in-kubernetes-3e99030697ec\" target=\"_blank\" rel=\"noopener noreferrer\">ITNEXT: Dive Deep into Resource Requests and Limits in Kubernetes</a></li>\n<li><a href=\"https://livewyer.io/glossary/the-illustrated-kubernetes-glossary/\" target=\"_blank\" rel=\"noopener noreferrer\">LiveWyer: The Illustrated Kubernetes Glossary</a></li>\n<li><a href=\"https://aws.amazon.com/blogs/containers/saving-money-pod-at-time-with-eks-fargate-and-aws-compute-savings-plans/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Blog: Saving Money Pod at a Time with EKS Fargate and AWS Compute Savings Plans</a></li>\n</ul>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}