{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/kubewatch-kubernetes-observability-monitoring/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Real-Time Observability 🌟</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🗯 Introduction</h2>\n<p>Kubernetes is a popular container orchestration platform that automates many of the tasks involved in deploying, managing, and scaling containerized applications. However, Kubernetes can be complex, and it can be difficult to keep track of all the changes that are happening in your cluster.</p>\n<p>This is where Kubewatch comes in. Kubewatch is a Kubernetes watcher that publishes notifications to available collaboration hubs/notification channels. It watches the cluster for resource changes and notifies you through webhooks.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB78mRLmC//8QAFxAAAwEAAAAAAAAAAAAAAAAAAAIQEv/aAAgBAQABBQITUa//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAICL/2gAIAQEABj8CKX//xAAbEAACAwADAAAAAAAAAAAAAAABEQAQMSFhkf/aAAgBAQABPyE5xDJoqxF2fa//2gAMAwEAAgADAAAAECzP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFxEBAAMAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPxAcqP/EABwQAQACAwADAAAAAAAAAAAAAAERIQAQQVFx0f/aAAgBAQABPxCY+orOLDWjJtPSmF44+f3X/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"kubewatch\" title=\"\" src=\"/static/3e42d1aed4c50a386b35e455743aaf8c/c08c5/kubewatch.jpg\" srcset=\"/static/3e42d1aed4c50a386b35e455743aaf8c/651be/kubewatch.jpg 170w,\n/static/3e42d1aed4c50a386b35e455743aaf8c/d30a3/kubewatch.jpg 340w,\n/static/3e42d1aed4c50a386b35e455743aaf8c/c08c5/kubewatch.jpg 640w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-what-is-kubewatch\" style=\"position:relative;\"><a href=\"#-what-is-kubewatch\" aria-label=\" what is kubewatch permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>👀 What is Kubewatch?</h2>\n<p><a href=\"https://github.com/robusta-dev/kubewatch\" target=\"_blank\" rel=\"noopener noreferrer\">Kubewatch</a> is a Kubernetes watcher that sends notifications to various channels like Slack, Hipchat, and others. It can monitor a wide range of <a href=\"https://www.datadoghq.com/blog/monitor-kubernetes-events/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes events</a>, including pod lifecycle events, deployment status changes, service updates, and more.</p>\n<p>With Kubewatch, you can get real-time notifications when changes occur in your Kubernetes environment, so you can take action immediately.</p>\n<h3 id=\"how-does-kubewatch-work\" style=\"position:relative;\"><a href=\"#how-does-kubewatch-work\" aria-label=\"how does kubewatch work permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How does Kubewatch work?</h3>\n<p>To understand how Kubewatch works, let's first look at the concept of Kubernetes events. Kubernetes events are objects that help you know what's happening inside your resources (pods, nodes, clusters, and so on). These objects are usually generated in response to changes happening within these resources. By collecting and analyzing these events, you can sneak a peek into the performance and health of your Kubernetes cluster.</p>\n<p>Kubewatch is an open-source events watcher for Kubernetes. You can configure it to watch your Kubernetes clusters for events, collect them, and stream relevant notifications to external services such as Slack. With Kubewatch, you can set up a Slack bot that sends a message in your team channel whenever one of your resources goes down.</p>\n<p>Internally, a kubewatch container is created whenever you run the tool, alongside the kubectl sidecar for communicating with the API server.</p>\n<h3 id=\"-key-features\" style=\"position:relative;\"><a href=\"#-key-features\" aria-label=\" key features permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🧩 Key Features</h3>\n<ul>\n<li><strong>Simplicity</strong>: Completely open-source with a large community of developers.</li>\n<li><strong>Integration</strong>: Works with various notification channels like Slack, Hipchat, Mattermost, Flock, Webhook, and SMTP.</li>\n<li><strong>Event Monitoring</strong>: Monitors events like pod, deployment, configmap creation, and deletion.</li>\n</ul>\n<h3 id=\"installation\" style=\"position:relative;\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation</h3>\n<p>In this blog, we will use Helm to install Kubewatch and use Slack as the notification medium.</p>\n<h4 id=\"configuring-slack\" style=\"position:relative;\"><a href=\"#configuring-slack\" aria-label=\"configuring slack permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Configuring Slack</h4>\n<ol>\n<li>Go to your Slack workspace, and you have the option to create a new channel, or you can use an existing channel. For this demo, I am going to use an existing channel <code class=\"language-text\">slacktest</code> (but creating a new channel is pretty easy, you need to click on Create a new channel).</li>\n<li>Once you have a Slack channel, the next step is to get a Slack token to integrate with Kubewatch. To create a Slack token, go to <a href=\"https://api.slack.com/apps/new\" target=\"_blank\" rel=\"noopener noreferrer\">Slack API</a> and create a new app. Give your App Name, for example: <code class=\"language-text\">kubewatch</code>, and select your Development Slack Workspace.</li>\n<li>Define your token scope. In this case, we are using <code class=\"language-text\">chat:write</code> as scope which gives permission to post messages in approved channels &#x26; conversations.</li>\n</ol>\n<h4 id=\"setup\" style=\"position:relative;\"><a href=\"#setup\" aria-label=\"setup permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Setup</h4>\n<p>To use Kubewatch, you first need to install it on your Kubernetes cluster. There are a few ways to do this, but the simplest method is to use Helm. Here's how you can install Kubewatch with Helm:</p>\n<ol>\n<li><strong>Install Helm</strong> on your machine if you haven't already done so.</li>\n<li><strong>Add the Kubewatch repository to Helm</strong>:\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm repo <span class=\"token function\">add</span> robusta https://robusta-charts.storage.googleapis.com</code></pre></div>\n</li>\n<li><strong>Update your Helm repository</strong>:\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm repo update</code></pre></div>\nUpdate Complete. ⎈Happy Helming!⎈</li>\n<li><strong>Install Kubewatch</strong>:\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm <span class=\"token function\">install</span> kubewatch robusta/kubewatch</code></pre></div>\n</li>\n</ol>\n<p>As we know all Helm charts come with a default set of values but in this case, we want to modify these values according to our requirement.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm show values robusta/kubewatch <span class=\"token operator\">></span> ~/kubewatch.yaml</code></pre></div>\n<p>Now, please open this file and make modifications to a few parameters. Let's begin with Slack by adding the channel where notifications should be sent and inserting the token that we generated during the Slack section:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">slack</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token comment\"># Slack channel to notify</span>\n  <span class=\"token key atrule\">channel</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"slacktest\"</span>\n  <span class=\"token comment\"># Slack bots token. Create using: https://my.slack.com/services/new/bot</span>\n  <span class=\"token comment\"># and invite the bot to your channel using: /join @botname</span>\n  <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"xoxb-XXXXXXX\"</span></code></pre></div>\n<p>In the next step, we need to define what we want to monitor. In this case, we want to monitor only the events from the default namespace (<code class=\"language-text\">namespaceToWatch: \"default\"</code>) and the resources to watch (deployment, services, pod). If you wish to monitor any other resources, simply change the corresponding parameter to true. For example, you can change <code class=\"language-text\">replicaset: false</code> to <code class=\"language-text\">replicaset: true</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">namespaceToWatch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"default\"</span>\n<span class=\"token key atrule\">resourcesToWatch</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">deployment</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">replicationcontroller</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">replicaset</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">daemonset</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">pod</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">job</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">node</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">clusterrole</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">clusterrolebinding</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">serviceaccount</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">persistentvolume</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">secret</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">configmap</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">ingress</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">coreevent</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">event</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>One crucial parameter to configure is <code class=\"language-text\">rbac</code>, which should be set to 'true.' If left at its default value of 'false,' the service account created by this Helm chart won't have the necessary permissions to list Kubernetes resources, such as pods, deployments, services, and more.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">rbac</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">create</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>With all the configuration in place, it is time to deploy the Helm chart with our customized values:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm upgrade kubewatch robusta/kubewatch <span class=\"token parameter variable\">--values</span> ~/kubewatch.yaml</code></pre></div>\n<p><strong>Please be patient while the chart is being deployed</strong></p>\n<h3 id=\"testing\" style=\"position:relative;\"><a href=\"#testing\" aria-label=\"testing permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Testing</h3>\n<p>Try to create any pod in the default namespace:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl run nginx2 <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>nginx</code></pre></div>\n<p>Pod created:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">pod/nginx2 created</code></pre></div>\n<p>If you go to the Slack channel, you will see a notification like this:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 24.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlUlEQVR42pXQwQrCMAwG4L7/6ykKHgRlxekQVttkbdPuX1b1vgVCDgkfScx4OeB4PsF2HYgIkhJSzq2WUlBr3ZWGI+FhLT6jw8SMHBhB4RQIVQTzPG/KNUTnTZGI4X7F0L/ATOBpQvI/TIf2gEmv+oI3BW3fNowxImutUjZjfzDrqxrobIe3fSJ4D1pR51G0uXvDQFgAKciH+R5MbYMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"notif\" title=\"\" src=\"/static/5c734b90388019c42641a58e037ea21d/c5bb3/notif1.png\" srcset=\"/static/5c734b90388019c42641a58e037ea21d/04472/notif1.png 170w,\n/static/5c734b90388019c42641a58e037ea21d/9f933/notif1.png 340w,\n/static/5c734b90388019c42641a58e037ea21d/c5bb3/notif1.png 680w,\n/static/5c734b90388019c42641a58e037ea21d/b12f7/notif1.png 1020w,\n/static/5c734b90388019c42641a58e037ea21d/b5a09/notif1.png 1360w,\n/static/5c734b90388019c42641a58e037ea21d/29007/notif1.png 1600w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"wrapping-up\" style=\"position:relative;\"><a href=\"#wrapping-up\" aria-label=\"wrapping up permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Wrapping Up</h3>\n<p>In conclusion, Kubewatch is a potent tool that delivers notifications for all events within your Kubernetes cluster. However, it's important to configure it thoughtfully, as an excessive number of notifications in a busy cluster can result in notification fatigue, potentially causing you to overlook critical alerts.</p>\n<blockquote>\n<p><strong>If you found this article helpful, please don't forget to hit the Follow 👉 and Clap 👏 buttons to help me write more articles like this.</strong></p>\n</blockquote>\n<p><strong>Thank You 🖤</strong></p>\n<br>\n<p><strong><em>Until next time, つづく 🎉</em></strong></p>\n<blockquote>\n<p>💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  <strong><em>Until next time 🎉</em></strong></p>\n</blockquote>\n<p>🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>♻️ LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>♻️ X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ✌🏻</strong></p>\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n<p><strong>📅 Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":4,"rawMarkdownBody":"\n> **Real-Time Observability 🌟**\n\n## 🗯 Introduction\n\nKubernetes is a popular container orchestration platform that automates many of the tasks involved in deploying, managing, and scaling containerized applications. However, Kubernetes can be complex, and it can be difficult to keep track of all the changes that are happening in your cluster.\n\nThis is where Kubewatch comes in. Kubewatch is a Kubernetes watcher that publishes notifications to available collaboration hubs/notification channels. It watches the cluster for resource changes and notifies you through webhooks.\n\n![kubewatch](./kubewatch.jpg)\n\n## 👀 What is Kubewatch?\n\n[Kubewatch](https://github.com/robusta-dev/kubewatch) is a Kubernetes watcher that sends notifications to various channels like Slack, Hipchat, and others. It can monitor a wide range of [Kubernetes events](https://www.datadoghq.com/blog/monitor-kubernetes-events/), including pod lifecycle events, deployment status changes, service updates, and more.\n\nWith Kubewatch, you can get real-time notifications when changes occur in your Kubernetes environment, so you can take action immediately.\n\n### How does Kubewatch work?\n\nTo understand how Kubewatch works, let's first look at the concept of Kubernetes events. Kubernetes events are objects that help you know what's happening inside your resources (pods, nodes, clusters, and so on). These objects are usually generated in response to changes happening within these resources. By collecting and analyzing these events, you can sneak a peek into the performance and health of your Kubernetes cluster.\n\nKubewatch is an open-source events watcher for Kubernetes. You can configure it to watch your Kubernetes clusters for events, collect them, and stream relevant notifications to external services such as Slack. With Kubewatch, you can set up a Slack bot that sends a message in your team channel whenever one of your resources goes down.\n\nInternally, a kubewatch container is created whenever you run the tool, alongside the kubectl sidecar for communicating with the API server.\n\n### 🧩 Key Features\n\n- **Simplicity**: Completely open-source with a large community of developers.\n- **Integration**: Works with various notification channels like Slack, Hipchat, Mattermost, Flock, Webhook, and SMTP.\n- **Event Monitoring**: Monitors events like pod, deployment, configmap creation, and deletion.\n\n### Installation\n\nIn this blog, we will use Helm to install Kubewatch and use Slack as the notification medium.\n\n#### Configuring Slack\n\n1. Go to your Slack workspace, and you have the option to create a new channel, or you can use an existing channel. For this demo, I am going to use an existing channel `slacktest` (but creating a new channel is pretty easy, you need to click on Create a new channel).\n2. Once you have a Slack channel, the next step is to get a Slack token to integrate with Kubewatch. To create a Slack token, go to [Slack API](https://api.slack.com/apps/new) and create a new app. Give your App Name, for example: `kubewatch`, and select your Development Slack Workspace.\n3. Define your token scope. In this case, we are using `chat:write` as scope which gives permission to post messages in approved channels & conversations.\n\n#### Setup\n\nTo use Kubewatch, you first need to install it on your Kubernetes cluster. There are a few ways to do this, but the simplest method is to use Helm. Here's how you can install Kubewatch with Helm:\n\n1. **Install Helm** on your machine if you haven't already done so.\n2. **Add the Kubewatch repository to Helm**:\n    ```sh\n    helm repo add robusta https://robusta-charts.storage.googleapis.com\n    ```\n3. **Update your Helm repository**:\n    ```sh\n    helm repo update\n    ```\n    Update Complete. ⎈Happy Helming!⎈\n4. **Install Kubewatch**:\n    ```sh\n    helm install kubewatch robusta/kubewatch\n    ```\n\nAs we know all Helm charts come with a default set of values but in this case, we want to modify these values according to our requirement.\n\n```sh\nhelm show values robusta/kubewatch > ~/kubewatch.yaml\n```\n\nNow, please open this file and make modifications to a few parameters. Let's begin with Slack by adding the channel where notifications should be sent and inserting the token that we generated during the Slack section:\n\n```yaml\nslack:\n  enabled: true\n  # Slack channel to notify\n  channel: \"slacktest\"\n  # Slack bots token. Create using: https://my.slack.com/services/new/bot\n  # and invite the bot to your channel using: /join @botname\n  token: \"xoxb-XXXXXXX\"\n```\n\nIn the next step, we need to define what we want to monitor. In this case, we want to monitor only the events from the default namespace (`namespaceToWatch: \"default\"`) and the resources to watch (deployment, services, pod). If you wish to monitor any other resources, simply change the corresponding parameter to true. For example, you can change `replicaset: false` to `replicaset: true`.\n\n```yaml\nnamespaceToWatch: \"default\"\nresourcesToWatch:\n  deployment: false\n  replicationcontroller: false\n  replicaset: false\n  daemonset: false\n  services: true\n  pod: true\n  job: false\n  node: false\n  clusterrole: true\n  clusterrolebinding: true\n  serviceaccount: true\n  persistentvolume: false\n  namespace: false\n  secret: false\n  configmap: false\n  ingress: false\n  coreevent: false\n  event: true\n```\n\nOne crucial parameter to configure is `rbac`, which should be set to 'true.' If left at its default value of 'false,' the service account created by this Helm chart won't have the necessary permissions to list Kubernetes resources, such as pods, deployments, services, and more.\n\n```yaml\nrbac:\n  create: true\n```\n\nWith all the configuration in place, it is time to deploy the Helm chart with our customized values:\n\n```sh\nhelm upgrade kubewatch robusta/kubewatch --values ~/kubewatch.yaml\n```\n\n**Please be patient while the chart is being deployed**\n\n### Testing\n\nTry to create any pod in the default namespace:\n\n```sh\nkubectl run nginx2 --image=nginx\n```\n\nPod created:\n\n```sh\npod/nginx2 created\n```\n\nIf you go to the Slack channel, you will see a notification like this:\n\n![notif](./notif1.png)\n\n### Wrapping Up\n\nIn conclusion, Kubewatch is a potent tool that delivers notifications for all events within your Kubernetes cluster. However, it's important to configure it thoughtfully, as an excessive number of notifications in a busy cluster can result in notification fatigue, potentially causing you to overlook critical alerts.\n\n> **If you found this article helpful, please don't forget to hit the Follow 👉 and Clap 👏 buttons to help me write more articles like this.**\n\n**Thank You 🖤**\n\n<br>\n\n**_Until next time, つづく 🎉_**\n\n> 💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  **_Until next time 🎉_**\n\n🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**♻️ LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**♻️ X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ✌🏻**\n\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n\n**📅 Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":883},"frontmatter":{"id":"7175cbb1c966a220782539c6","path":"/blog/kubewatch-kubernetes-observability-monitoring/","humanDate":"Oct 24, 2024","fullDate":"2024-10-24","title":"Kubewatch: A Kubernetes Watcher for Observability and Monitoring","keywords":["Kubernetes","Observability","Monitoring","Kubewatch"],"excerpt":"Discover how Kubewatch enhances Kubernetes observability and monitoring with real-time insights and alerts.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAC/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAATJBNaiSv//EABsQAAIBBQAAAAAAAAAAAAAAAAABEQISEyIx/9oACAEBAAEFAuGXWpqbnDGf/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAECETH/2gAIAQMBAT8Bq60VrOH/xAAZEQADAAMAAAAAAAAAAAAAAAAAARECMVH/2gAIAQIBAT8BeN2R9P/EABoQAAICAwAAAAAAAAAAAAAAAAERABACQYH/2gAIAQEABj8CRExY1Tc5X//EABkQAQADAQEAAAAAAAAAAAAAAAEAESFBYf/aAAgBAQABPyH1NslMjVlx9yDpKzswMLZ//9oADAMBAAIAAwAAABDfz//EABcRAQEBAQAAAAAAAAAAAAAAAAERAEH/2gAIAQMBAT8Qol7hCi7/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAECAQE/EEQJYx//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhUbHw/9oACAEBAAE/EBb4iIQaHfmuyaEQ0ZmVCnTxyQBALrPzkxQvj3Nfd//Z"},"images":{"fallback":{"src":"/static/4aa6580166c8a844b601e7b706c0a869/1e21a/kubewatch-cover.jpg","srcSet":"/static/4aa6580166c8a844b601e7b706c0a869/37bba/kubewatch-cover.jpg 750w,\n/static/4aa6580166c8a844b601e7b706c0a869/1e21a/kubewatch-cover.jpg 800w","sizes":"100vw"},"sources":[{"srcSet":"/static/4aa6580166c8a844b601e7b706c0a869/a66aa/kubewatch-cover.webp 750w,\n/static/4aa6580166c8a844b601e7b706c0a869/b2a35/kubewatch-cover.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/goodbye-ingress-gateway-api-cilium/","title":"Saying Goodbye to Ingress: Embracing the Future of Kubernetes Traffic Management with Gateway API and Cilium","date":"2024-10-24 14:34:00"},"excerpt":"Transitioning from ingress to Gateway API and Cilium for modern traffic management ☸️ Introduction In the dynamic world of Kubernetes…"},"nextThought":{"frontmatter":{"path":"/blog/docker-layers-efficient-image-management/","title":"Docker Layers: The Secret to Efficient Image Management","date":"2024-10-24 12:06:00"},"excerpt":"Your Way to Individual Docker Layers🐳🔥 📔 Introduction Container registries have revolutionized the way developers manage and distribute…"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}