{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/kubernetes-gateway-api-part1/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Improving connectivity and security in k8s clusters üï∏</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìï Introduction</h2>\n<p>The core ideas for this Gateway API were initially <a href=\"https://youtu.be/Ne9UJL6irXY?si=jVRaFZpbjI1osfHq\" target=\"_blank\" rel=\"noopener noreferrer\">proposed by Bowei Du (Software Engineer, Google)</a> at KubeCon San Diego as \"Ingress v2\", the next generation of the Ingress API for Kubernetes.</p>\n<p>This proposal came as the shortcomings of the original Ingress API were becoming apparent.</p>\n<p>The <a href=\"https://gateway-api.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Gateway API</a> is changing how traffic is managed in Kubernetes, giving more control and flexibility.</p>\n<p>The <a href=\"https://gateway-api.sigs.k8s.io/mesh/gamma/\" target=\"_blank\" rel=\"noopener noreferrer\">GAMMA</a> initiative highlights the collaboration to use Gateway API for Service Mesh, showing the industry's dedication to improving networking in Kubernetes.</p>\n<p>The <a href=\"https://www.gateway-api-controller.eks.aws.dev/dev/concepts/concepts/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Gateway API Controller</a> is key in connecting Kubernetes clusters with VPC Lattice, making it easier to manage networking resources.</p>\n<p>Keep following as we explore the impact of Gateway API and AWS VPC Lattice on Kubernetes networking, leading to a more efficient and secure infrastructure.</p>\n<p>This series of posts will look at how these technologies work together and show how combining the AWS Gateway API Controller with VPC Lattice enhances the efficiency and security of networking in AWS EKS clusters, thereby smoothing networking and improving connectivity in Kubernetes setups.</p>\n<h2 id=\"-ingress-limitations--the-gateway-api\" style=\"position:relative;\"><a href=\"#-ingress-limitations--the-gateway-api\" aria-label=\" ingress limitations  the gateway api permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöß Ingress Limitations &#x26; the Gateway API</h2>\n<p>As per documentation: Ingress is frozen. New features are being added to the Gateway API.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB5klEQVR42mVTiW7bMAzN/3/UChTDsAxDN6BY0WZJVye+L10+ktjyG8kcmxMDD4+H/CSK1KI/TtDtBNufUFmPbj9CNx62HQkehlA7LzlFcc6VhvLdCEXx7jDh8i2UNgijFFGcQmmL0QPeTxhGkE1MPtszUOw4nPPjJOuvglEU4eHhE5bLrwiCDwkOw0CLPMZxJB4xke3Hfz7nJD553H6Ltm2htUbTNFBKCaqqQlEUKMtS7Lqukef5NXZhY4yIzwT5hyAIEIYhttstkjRFHMdIkkQQUgXsc363253tCLuz3/f9XLBpHJ2qgrUGmk5n6LRGK3RtI7ai07HvOE+s6orW1cKH/f6+ZNt7rCOF1TbH712BTVThPa7xJ1EIMoNtboXZ/yBO9EGQMsxAkzHOBYsG+Pwc4/FphccfG3x5DrB8CfHtNcbTOsfP91KY/e+rFOviiE05CN4yErWDCF36vOi6Ti7XWCuN0TRG1jqKWWJ7tg0c5ZzktTSOm8INvSvZOYs8y65I0wQZMYO7WXB3zx3O8xNYLKPmsfidYNMf0XW9zNo0TTP4WcyffO/PM+rvRkYEf4UGL69vsptzVJZzUiozQ65DSu7Q0NNk/P8yeLN5yftB7onv71aMcdrIoaUqbOdJ0M8Eb0/4F3su5qseAgbEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Freeze Ingress\" title=\"\" src=\"/static/2d17ef3d49128f0db4eab8031b607c70/c5bb3/freeze-ingress.png\" srcset=\"/static/2d17ef3d49128f0db4eab8031b607c70/04472/freeze-ingress.png 170w,\n/static/2d17ef3d49128f0db4eab8031b607c70/9f933/freeze-ingress.png 340w,\n/static/2d17ef3d49128f0db4eab8031b607c70/c5bb3/freeze-ingress.png 680w,\n/static/2d17ef3d49128f0db4eab8031b607c70/b12f7/freeze-ingress.png 1020w,\n/static/2d17ef3d49128f0db4eab8031b607c70/b5a09/freeze-ingress.png 1360w,\n/static/2d17ef3d49128f0db4eab8031b607c70/169e3/freeze-ingress.png 1682w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<div class=\"image-title\"><a href=\"https://kubernetes.io/docs/concepts/services-networking/ingress/\">Source Documentation</a></div>\n<p>Traditional Kubernetes Ingress, while functional, often falls short in complex environments due to limitations such as restricted traffic routing, limited extensibility, minimal role-based access control, constrained protocol support, and inconsistent implementations.</p>\n<p>On the other hand, Custom Resource Definitions (CRDs) offer extensive flexibility but lack a standardized approach, leading to a landscape emphasizing flexibility over uniformity.</p>\n<p>Although IngressClass decouples the ingress gateway from the back-end implementation, it still has significant limitations.</p>\n<p>Ingress is too simple for most real-world use and it only supports HTTP protocol routing. It only supports host and path matching, and there is no standard configuration for advanced routing features, which can only be achieved through annotation, such as URL redirection using Nginx Ingress Controller, which requires configuration of <code class=\"language-text\">nginx.ingress.kubernetes.io/rewrite-target</code> annotation, which is no longer adaptable to the needs of a programmable proxy.</p>\n<p>The situation where services in different namespaces must be bound to the same gateway often arises in practical situations where the ingress gateway cannot be shared across multiple namespaces.</p>\n<p>No delineation of responsibilities for creating and managing ingress gateways, resulting in developers having to not only configure gateway routes but also create and manage gateways themselves.</p>\n<p>To tackle these challenges, the Kubernetes SIG-NETWORK group initiated the development of the Gateway API in 2019. The Kubernetes Gateway API serves as a unified and adaptable solution that seamlessly integrates with native Kubernetes resources, addresses advanced use cases, adopts a role-centric approach, and emphasizes portability.</p>\n<p>The core concept is to move away from a one-size-fits-all model and capitalize on the benefits of more comprehensive frameworks. The Gateway API represents a significant advancement beyond traditional Ingress; it presents a more capable, extensible, and secure solution for managing traffic in Kubernetes environments.</p>\n<h3 id=\"-gateway-api-vs-ingress\" style=\"position:relative;\"><a href=\"#-gateway-api-vs-ingress\" aria-label=\" gateway api vs ingress permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Gateway API vs. Ingress</h3>\n<p>The Kubernetes Gateway API is a specification overseen by the <a href=\"https://github.com/kubernetes-sigs/gateway-api\" target=\"_blank\" rel=\"noopener noreferrer\">SIG-NETWORK community</a>, aimed at modeling service networking within Kubernetes. This API is crafted to enhance Kubernetes service networking through adaptable and role-oriented interfaces. As a standardized specification, projects, and organizations supporting the Gateway API must comply with its guidelines.</p>\n<table>\n<thead>\n<tr>\n<th><strong>Feature</strong></th>\n<th><strong>Ingress</strong></th>\n<th><strong>Gateway API</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Traffic Routing</strong></td>\n<td>Basic HTTP routing and advanced routing features are not natively supported.</td>\n<td>Header-based matching, traffic weighting, typed routes, and different backend types.</td>\n</tr>\n<tr>\n<td><strong>Extensibility</strong></td>\n<td>Achieved with custom annotations through a vendor-specific approach.</td>\n<td>Allows users to define their own custom resources.</td>\n</tr>\n<tr>\n<td><strong>Standardization</strong></td>\n<td>Individual implementations with inconsistencies across different Ingress controllers.</td>\n<td>Universal specification that is supported across various implementations.</td>\n</tr>\n<tr>\n<td><strong>Role-Based Access Control</strong></td>\n<td>Does not natively let different teams manage different configuration sections.</td>\n<td>Allows individual teams to manage their traffic while cluster operators set the policies.</td>\n</tr>\n<tr>\n<td><strong>Protocol Support</strong></td>\n<td>To expose non-HTTP services to the internet, different Kubernetes resources are needed.</td>\n<td>Extensive protocol support.</td>\n</tr>\n<tr>\n<td><strong>Security</strong></td>\n<td>Basic support for TLS termination.</td>\n<td>Generally facilitates enhanced security controls which the cluster operators define.</td>\n</tr>\n</tbody>\n</table>\n<p>For more details, you can refer to the <a href=\"https://gateway-api.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">official Gateway API documentation</a>.</p>\n<h2 id=\"-gateway-api-concepts-and-features\" style=\"position:relative;\"><a href=\"#-gateway-api-concepts-and-features\" aria-label=\" gateway api concepts and features permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåê Gateway API Concepts and Features</h2>\n<p>The Gateway API embodies four fundamental concepts: <strong>role-oriented approach</strong>, <strong>portability</strong>, <strong>expressiveness</strong>, and <strong>extensibility</strong>. These principles establish a versatile framework for Kubernetes service networking, empowering teams with enhanced control, advanced routing capabilities, flexible configurations, and standardized traffic management within Kubernetes clusters. When managing network traffic in Kubernetes, the Gateway API promises a comprehensive set of features that add value in the context of modern infrastructures.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 87.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR42oVU2W7bQAz0/39L+9LjJS1QFEVQ9EJTpEFsx3btWLdl3dIe0u6UXNuJc7glQEm70g45Q1IjWAs2WfmQxQ2MyrAzi4PxJ520UL2F1Ls7rweDJzaye8DJzw+YfnuNIhrD0FZVVajrGm3bIIw3mAUKE3/A1O9x7fVYpwNqYR+FJkC+aK2wXK0wny/geWsYM2AYds7PnVC43WjyAatYYxkP8LYDWnkCkK1pGuRFCSHlExpMwpi9NEqBWfGexTOUdwd2r/5c/oA3/oImD+6R9lZ1FtvaIKs18mYgf0bAx4C/LsY4//QZYRBCUqZ5njst0zTFbZjDzywuFkzdIC0NjD0BeLC15+N6MkfddG6909DAko4FZbUpSbu4RbhVlKF1lO2/ALXWBKLR99qBPTZ+zwH6vidXpykf01ZVgK8f3+Dd2Xu37roWigrB1LuuQVkLxIXBbUKdQRVPiHpambuijXYVs3eASRTi6vcVxtMZZUEt03UOrChLKCngRxmCvMc0GPB9prBKeiTFAD3Yp5Sdjus1FvM5FSZwUa01ToaD8XRwQ0vaajqNRlDQI/ajLImQbVOny8GEshCaDxlUjaAGNm59LA1rKUQHQZIMpLkQwu2Nzs/e4tXLF0g3GzcV6TZDlElEucFN0Dvn/uO+O57dmgahJTlWNGFhGDlZuNVG49kCl1fXyLKcIvVuWgJqiyi3NLcSE0850bcVA943CU8Wu+/7SJIEJWnsAKMwRBzHLuWDSWLf0kWSUEIq0kzTH+ah1kyPAQ5txM8sx4OitG3rXmglKXrt2oUPtA3/dWrXh1x1vp+y0XHEoigQRREmk4kbO/595XnhAi2XS+e8z1T/C8jpsg5ZRn1GLcMHGYgzYgDWiaXhfd47BfgXq5d0Fg4XmVEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Gateway Schema\" title=\"\" src=\"/static/1d5defe45ad2ab92f234f1e9df7409df/c5bb3/gw-schema.png\" srcset=\"/static/1d5defe45ad2ab92f234f1e9df7409df/04472/gw-schema.png 170w,\n/static/1d5defe45ad2ab92f234f1e9df7409df/9f933/gw-schema.png 340w,\n/static/1d5defe45ad2ab92f234f1e9df7409df/c5bb3/gw-schema.png 680w,\n/static/1d5defe45ad2ab92f234f1e9df7409df/5a190/gw-schema.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"Ô∏è-classes\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-classes\" aria-label=\"Ô∏è classes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üè∑Ô∏è Classes</h3>\n<p><strong>GatewayClasses</strong> serve to formalize distinct load balancing implementations, simplifying users' comprehension of the diverse capabilities available through the Kubernetes resource model. By categorizing load balancing options, GatewayClasses offer users clarity and specificity regarding the features each option provides.</p>\n<h3 id=\"-gateways\" style=\"position:relative;\"><a href=\"#-gateways\" aria-label=\" gateways permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåâ Gateways</h3>\n<p>The Gateway API supports <strong>Shared Gateways</strong> and <strong>cross-Namespace functionality</strong>, enabling the sharing of load balancers and Virtual IPs (VIPs) by allowing independent Route resources to connect to the same Gateway. This feature facilitates secure infrastructure sharing among teams operating across different namespaces without necessitating direct coordination. It promotes efficiency and collaboration within Kubernetes environments.</p>\n<h3 id=\"Ô∏è-routes\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-routes\" aria-label=\"Ô∏è routes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ§Ô∏è Routes</h3>\n<p>Unlike Ingress, which is confined to HTTP routing, the Gateway API broadens its scope by introducing <strong>Typed Routes</strong> and diverse backend support. This expanded flexibility enables the API to accommodate various protocols like HTTP and gRPC, along with a variety of backend targets, enhancing its versatility in managing network traffic effectively.</p>\n<h3 id=\"-gamma-initiative-extending-the-gateway-api-for-service-mesh-management\" style=\"position:relative;\"><a href=\"#-gamma-initiative-extending-the-gateway-api-for-service-mesh-management\" aria-label=\" gamma initiative extending the gateway api for service mesh management permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üß© GAMMA Initiative: Extending the Gateway API for Service Mesh Management</h3>\n<p>The <strong>GAMMA Initiative</strong> is a special project within the Gateway API group. It started in 2022 to make the Gateway API better for how services communicate within a cluster.</p>\n<p>Originally, the Gateway API was mainly for managing traffic from outside to inside a cluster (like a front door). But as more people wanted to use it for communication between services inside the cluster (like talking between rooms), the GAMMA Initiative was created.</p>\n<p>GAMMA's main goal is to make it easier to set up and manage how services talk to each other in a cluster. They want to do this without changing the Gateway API too much and keeping its main way of working.</p>\n<p>They also want all projects using the Gateway API for service communication to do it in a similar way, no matter what technology they use. It's interesting that around the same time, another project called <a href=\"https://www.envoyproxy.io/docs/envoy/latest/start/sandboxes/envoy-gateway\" target=\"_blank\" rel=\"noopener noreferrer\">Envoy Gateway</a> started too.</p>\n<p>This shows that many are interested in making the Gateway API work better for both inside-cluster communication (east-west) and outside-cluster traffic (north-south).</p>\n<p>This means that in the future, the Gateway API could be used not just for letting traffic in from outside but also for helping services talk to each other within Kubernetes clusters.</p>\n<p>The work of the GAMMA initiative will be captured in Gateway Enhancement Proposals that extend or refine the Gateway API specification to cover mesh and mesh-adjacent use cases. To date, these have been relatively small changes (albeit sometimes with relatively large impacts!) and we expect that to continue. Governance of the Gateway API specification remains solely with the maintainers of the Gateway API subproject.</p>\n<p>The ideal final outcome of the GAMMA initiative is that service mesh use cases become a first-party concern of Gateway API, at which point there will be no further need for a separate initiative.</p>\n<h3 id=\"-summary\" style=\"position:relative;\"><a href=\"#-summary\" aria-label=\" summary permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìú Summary</h3>\n<p>The Gateway API is like a newer version of the Kubernetes Ingress API. It provides a clearer set of rules for Kubernetes gateway providers compared to the older Ingress API.</p>\n<p>This upgrade enhances the features of the ingress gateway, making it easier to use and manage gateways by different groups. Additionally, the GAMMA initiative is working on combining the Ingress Gateway with the Gateway API for service mesh applications.</p>\n<p>There are plans to expand the Gateway API's capabilities to include east-west gateways through policy attachments.</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":5,"rawMarkdownBody":"\n> **Improving connectivity and security in k8s clusters üï∏**\n\n## üìï Introduction\n\nThe core ideas for this Gateway API were initially [proposed by Bowei Du (Software Engineer, Google)](https://youtu.be/Ne9UJL6irXY?si=jVRaFZpbjI1osfHq) at KubeCon San Diego as \"Ingress v2\", the next generation of the Ingress API for Kubernetes.\n\nThis proposal came as the shortcomings of the original Ingress API were becoming apparent.\n\nThe [Gateway API](https://gateway-api.sigs.k8s.io/) is changing how traffic is managed in Kubernetes, giving more control and flexibility.\n\nThe [GAMMA](https://gateway-api.sigs.k8s.io/mesh/gamma/) initiative highlights the collaboration to use Gateway API for Service Mesh, showing the industry's dedication to improving networking in Kubernetes.\n\nThe [AWS Gateway API Controller](https://www.gateway-api-controller.eks.aws.dev/dev/concepts/concepts/) is key in connecting Kubernetes clusters with VPC Lattice, making it easier to manage networking resources.\n\nKeep following as we explore the impact of Gateway API and AWS VPC Lattice on Kubernetes networking, leading to a more efficient and secure infrastructure.\n\nThis series of posts will look at how these technologies work together and show how combining the AWS Gateway API Controller with VPC Lattice enhances the efficiency and security of networking in AWS EKS clusters, thereby smoothing networking and improving connectivity in Kubernetes setups.\n\n## üöß Ingress Limitations & the Gateway API\n\nAs per documentation: Ingress is frozen. New features are being added to the Gateway API.\n\n![Freeze Ingress](freeze-ingress.png \"Freeze Ingress\")\n\n<div class=\"image-title\"><a href=\"https://kubernetes.io/docs/concepts/services-networking/ingress/\">Source Documentation</a></div>\n\nTraditional Kubernetes Ingress, while functional, often falls short in complex environments due to limitations such as restricted traffic routing, limited extensibility, minimal role-based access control, constrained protocol support, and inconsistent implementations.\n\nOn the other hand, Custom Resource Definitions (CRDs) offer extensive flexibility but lack a standardized approach, leading to a landscape emphasizing flexibility over uniformity.\n\nAlthough IngressClass decouples the ingress gateway from the back-end implementation, it still has significant limitations.\n\nIngress is too simple for most real-world use and it only supports HTTP protocol routing. It only supports host and path matching, and there is no standard configuration for advanced routing features, which can only be achieved through annotation, such as URL redirection using Nginx Ingress Controller, which requires configuration of `nginx.ingress.kubernetes.io/rewrite-target` annotation, which is no longer adaptable to the needs of a programmable proxy.\n\nThe situation where services in different namespaces must be bound to the same gateway often arises in practical situations where the ingress gateway cannot be shared across multiple namespaces.\n\nNo delineation of responsibilities for creating and managing ingress gateways, resulting in developers having to not only configure gateway routes but also create and manage gateways themselves.\n\n\nTo tackle these challenges, the Kubernetes SIG-NETWORK group initiated the development of the Gateway API in 2019. The Kubernetes Gateway API serves as a unified and adaptable solution that seamlessly integrates with native Kubernetes resources, addresses advanced use cases, adopts a role-centric approach, and emphasizes portability.\n\nThe core concept is to move away from a one-size-fits-all model and capitalize on the benefits of more comprehensive frameworks. The Gateway API represents a significant advancement beyond traditional Ingress; it presents a more capable, extensible, and secure solution for managing traffic in Kubernetes environments.\n\n### üöÄ Gateway API vs. Ingress\n\nThe Kubernetes Gateway API is a specification overseen by the [SIG-NETWORK community](https://github.com/kubernetes-sigs/gateway-api), aimed at modeling service networking within Kubernetes. This API is crafted to enhance Kubernetes service networking through adaptable and role-oriented interfaces. As a standardized specification, projects, and organizations supporting the Gateway API must comply with its guidelines.\n\n| **Feature**                | **Ingress**                                                                                  | **Gateway API**                                                                                                                                                                   |\n|----------------------------|----------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Traffic Routing**        | Basic HTTP routing and advanced routing features are not natively supported.                 | Header-based matching, traffic weighting, typed routes, and different backend types.                                                                                              |\n| **Extensibility**          | Achieved with custom annotations through a vendor-specific approach.                         | Allows users to define their own custom resources.                                                                                                                                |\n| **Standardization**        | Individual implementations with inconsistencies across different Ingress controllers.        | Universal specification that is supported across various implementations.                                                                                                         |\n| **Role-Based Access Control** | Does not natively let different teams manage different configuration sections.             | Allows individual teams to manage their traffic while cluster operators set the policies.                                                                                         |\n| **Protocol Support**       | To expose non-HTTP services to the internet, different Kubernetes resources are needed.       | Extensive protocol support.                                                                                                                                                       |\n| **Security**               | Basic support for TLS termination.                                                           | Generally facilitates enhanced security controls which the cluster operators define.                                                                                              |\n\nFor more details, you can refer to the [official Gateway API documentation](https://gateway-api.sigs.k8s.io/).\n\n\n## üåê Gateway API Concepts and Features\n\nThe Gateway API embodies four fundamental concepts: **role-oriented approach**, **portability**, **expressiveness**, and **extensibility**. These principles establish a versatile framework for Kubernetes service networking, empowering teams with enhanced control, advanced routing capabilities, flexible configurations, and standardized traffic management within Kubernetes clusters. When managing network traffic in Kubernetes, the Gateway API promises a comprehensive set of features that add value in the context of modern infrastructures.\n\n![Gateway Schema](./gw-schema.png \"Gateway Schema\")\n\n### üè∑Ô∏è Classes\n\n**GatewayClasses** serve to formalize distinct load balancing implementations, simplifying users' comprehension of the diverse capabilities available through the Kubernetes resource model. By categorizing load balancing options, GatewayClasses offer users clarity and specificity regarding the features each option provides.\n\n### üåâ Gateways\n\nThe Gateway API supports **Shared Gateways** and **cross-Namespace functionality**, enabling the sharing of load balancers and Virtual IPs (VIPs) by allowing independent Route resources to connect to the same Gateway. This feature facilitates secure infrastructure sharing among teams operating across different namespaces without necessitating direct coordination. It promotes efficiency and collaboration within Kubernetes environments.\n\n### üõ§Ô∏è Routes\n\nUnlike Ingress, which is confined to HTTP routing, the Gateway API broadens its scope by introducing **Typed Routes** and diverse backend support. This expanded flexibility enables the API to accommodate various protocols like HTTP and gRPC, along with a variety of backend targets, enhancing its versatility in managing network traffic effectively.\n\n### üß© GAMMA Initiative: Extending the Gateway API for Service Mesh Management\n\nThe **GAMMA Initiative** is a special project within the Gateway API group. It started in 2022 to make the Gateway API better for how services communicate within a cluster.\n\nOriginally, the Gateway API was mainly for managing traffic from outside to inside a cluster (like a front door). But as more people wanted to use it for communication between services inside the cluster (like talking between rooms), the GAMMA Initiative was created.\n\nGAMMA's main goal is to make it easier to set up and manage how services talk to each other in a cluster. They want to do this without changing the Gateway API too much and keeping its main way of working.\n\nThey also want all projects using the Gateway API for service communication to do it in a similar way, no matter what technology they use. It's interesting that around the same time, another project called [Envoy Gateway](https://www.envoyproxy.io/docs/envoy/latest/start/sandboxes/envoy-gateway) started too.\n\nThis shows that many are interested in making the Gateway API work better for both inside-cluster communication (east-west) and outside-cluster traffic (north-south).\n\nThis means that in the future, the Gateway API could be used not just for letting traffic in from outside but also for helping services talk to each other within Kubernetes clusters.\n\nThe work of the GAMMA initiative will be captured in Gateway Enhancement Proposals that extend or refine the Gateway API specification to cover mesh and mesh-adjacent use cases. To date, these have been relatively small changes (albeit sometimes with relatively large impacts!) and we expect that to continue. Governance of the Gateway API specification remains solely with the maintainers of the Gateway API subproject.\n\nThe ideal final outcome of the GAMMA initiative is that service mesh use cases become a first-party concern of Gateway API, at which point there will be no further need for a separate initiative.\n\n### üìú Summary\n\nThe Gateway API is like a newer version of the Kubernetes Ingress API. It provides a clearer set of rules for Kubernetes gateway providers compared to the older Ingress API.\n\nThis upgrade enhances the features of the ingress gateway, making it easier to use and manage gateways by different groups. Additionally, the GAMMA initiative is working on combining the Ingress Gateway with the Gateway API for service mesh applications.\n\nThere are plans to expand the Gateway API's capabilities to include east-west gateways through policy attachments.\n\n<br>\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  _**Until next time üéâ**_\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":1358},"frontmatter":{"id":"e5fa0303169163135f88e2da","path":"/blog/kubernetes-gateway-api-part1/","humanDate":"Oct 19, 2024","fullDate":"2024-10-19","title":"Redefining Kubernetes networking with Gateway API: Part 1","keywords":["Kubernetes","Gateway API","Kubernetes Networking","Cloud Native"],"excerpt":"Explore how the Gateway API redefines Kubernetes networking, enhancing connectivity and security in k8s clusters. This first part of the series dives into the fundamentals and benefits.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADB0lEQVR42jWS7U/bVRTH+38Y44upUzEMZMCsc5vx4Y1vjNERYyBj82EaY0wWY9REfeEbY/ZCk62zG/1RWm03oKUgxBc0xGXDPq1AgjwZaEdpC32gvz4A/ZWWj/feZif55t57zvee+z3nXJO520xvzyVGXD7cLjejIx4BL97RMe64hxm5MyrOY3hGfYxPeJn4c4zJyQkBH17vGK4/bjMs+N/9+BOnz7yGqbvzFF9+/i3UoGocsLq6ysOHcWKxDdLpNJlMhlwuK/xrbCZipLcT5PI5tra2SCQ2qdUMpDncI3R1ncV0qsvM5Uufkcvsks1m8Hg8WCwWLNct+Hw+NE1TcDqdXLt2ncFBO3Z7E+7bbjLbO+hGjZuuYV59822h8OSLXOjrZ2dnWyjJUSqVhLqYSjAwMKAuytVqtTI+Po7D4cBms7G+vq64qVSKarWKTXNw+uwbQmGnmf6+i+i6TrlcVmXu7++zsrLC1NSUwvT0tOjZJAsLC/j9fhYXF1Wy3d1d8vk8jUYdzWanvbUTU1trO329F1haWiIcDhMIBIhGo4RCIebn51leXiYej6t9JBJhbm5O+SRfcpPJlOqhfdBJa8sLmM60m/m0/zLbmR2lLplMqoZLbGxs8Pfdu8zMzBB5EBVDkINIqDKz2axapUppQ3YnJ57vEAk7Xub7D75ir7KHYRiqFFlypVJBLxbZ2oyz9t8a6WSCg/2K8svWyPXRXinUhpoJ29pO8tE7/VRTRQ6MqkooScVSGeOgTDS2x4dagSuuPJvpgni4JDjlJkc8+CjhLesAzzzVgum54y28/14v5WJTmSTJAem6IJd0em9kuTqZ52Mtyy9/5cR/LZIvCE5Bp1AoqCqk3fztFk8fexbTSx3n6Dnfw+HhoQrUajXq9Tr1RkOc6vzqN/jkd4OLQ1X8y5LTELEjjo6OxHQbHDaET/xt7aqVY08ex/RK9+u8+9Z5ZmdnxWTDTQRDBAVCwSD37wf4+sY9fh66x/wDGQsTCUcULxgI8k8oyHrgX3744hsef+wJ/gfCpwQYVVR7IgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/99603c03db62cd7faa587af96c8ed7f2/198f3/gw-api-cover.png","srcSet":"/static/99603c03db62cd7faa587af96c8ed7f2/3c3ba/gw-api-cover.png 750w,\n/static/99603c03db62cd7faa587af96c8ed7f2/198f3/gw-api-cover.png 800w","sizes":"100vw"},"sources":[{"srcSet":"/static/99603c03db62cd7faa587af96c8ed7f2/c2337/gw-api-cover.webp 750w,\n/static/99603c03db62cd7faa587af96c8ed7f2/6a569/gw-api-cover.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5775}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/sops-secrets-safe-in-git/","title":"The SOPS way: The only way to keep your secrets safe in Git","date":"2024-10-19 18:06:00"},"excerpt":"SOPS: A foolproof way to keep your secrets safe üî• üìö Introduction Secrets are a fact of life in the world of DevOps. We use them to access‚Ä¶","html":"<blockquote>\n<p><strong>SOPS: A foolproof way to keep your secrets safe üî•</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö Introduction</h2>\n<p>Secrets are a fact of life in the world of DevOps. We use them to access servers, databases, and other sensitive resources. But storing secrets in plain text is a security risk. If your secrets are compromised, an attacker could gain access to your systems and data.</p>\n<p>SOPS is a tool that helps you store your secrets securely in Git. It encrypts your secrets using a key that is stored in a separate file. This way, your secrets are never stored in plain text, even in your Git repository.</p>\n<p>In this blog post, I will show you how to use SOPS to keep your secrets safe.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.47058823529413%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAFuKlKchWOX/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAExEkH/2gAIAQEAAQUCjphjR0//xAAXEQEAAwAAAAAAAAAAAAAAAAAAAQIS/9oACAEDAQE/AZYq/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AW1//8QAFhAAAwAAAAAAAAAAAAAAAAAAABEg/9oACAEBAAY/AhT/AP/EABgQAAMBAQAAAAAAAAAAAAAAAAABMRFR/9oACAEBAAE/IVwLdDQ4aGWaf//aAAwDAQACAAMAAAAQB8//xAAZEQADAAMAAAAAAAAAAAAAAAAAAREhMUH/2gAIAQMBAT8QwU4O22f/xAAWEQEBAQAAAAAAAAAAAAAAAAAAAVH/2gAIAQIBAT8Qmov/xAAaEAEAAwEBAQAAAAAAAAAAAAABABExIWFR/9oACAEBAAE/EKoi7p5GgimJ8iY6heL8iCjjnIozJ//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Alt text\" title=\"\" src=\"/static/f7781eb9ab87898c67b9247d67094aab/7bf67/sops.jpg\" srcset=\"/static/f7781eb9ab87898c67b9247d67094aab/651be/sops.jpg 170w,\n/static/f7781eb9ab87898c67b9247d67094aab/d30a3/sops.jpg 340w,\n/static/f7781eb9ab87898c67b9247d67094aab/7bf67/sops.jpg 680w,\n/static/f7781eb9ab87898c67b9247d67094aab/4b190/sops.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"Ô∏è-traditional-secret-storage\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-traditional-secret-storage\" aria-label=\"Ô∏è traditional secret storage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèõÔ∏è Traditional Secret Storage</h2>\n<p>Traditionally, secrets are stored in a separate, secure location, such as <a href=\"https://www.vaultproject.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Hashicorp Vault</a>, <a href=\"https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Secrets Manager</a>, <a href=\"https://cloud.google.com/security-key-management\" target=\"_blank\" rel=\"noopener noreferrer\">GCP KMS</a>, <a href=\"https://learn.microsoft.com/en-us/azure/key-vault/general/basic-concepts\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Key Vault</a>, and well-known credential storages like <a href=\"https://1password.com/\" target=\"_blank\" rel=\"noopener noreferrer\">1Password</a>. This has the advantage of isolating the secrets from the code that references them. However, it also introduces an extra step: the code must fetch the secret value from the vault or credential manager before it can use it. This can be a security risk, as it exposes the secret value to the code for a brief period of time.</p>\n<h2 id=\"-sops\" style=\"position:relative;\"><a href=\"#-sops\" aria-label=\" sops permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîê SOPS</h2>\n<p><a href=\"https://github.com/getsops/sops\" target=\"_blank\" rel=\"noopener noreferrer\">SOPS</a> offers a simplified version of secret storage. With SOPS, the secret values are directly stored in the code, and they are encrypted using a key that is stored in a separate file. This way, the secret values are never stored in plain text, even in the code. To decrypt the secret values, the code must use the key file. This eliminates the need to fetch the secret values from a vault or credential manager, which reduces the security risk.</p>\n<p>SOPS supports a variety of encryption methods, including AWS KMS, PGP, GCP KMS, Azure Key Vault, HashiCorp Key Vault, and <a href=\"https://github.com/FiloSottile/age\" target=\"_blank\" rel=\"noopener noreferrer\">age</a>. This makes it a flexible and versatile tool that can be used to store secrets in a variety of environments.</p>\n<h2 id=\"Ô∏è-a-step-by-step-guide-to-using-sops\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-a-step-by-step-guide-to-using-sops\" aria-label=\"Ô∏è a step by step guide to using sops permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è A Step-by-Step Guide to Using SOPS</h2>\n<p>In this section, we will deploy a sample chart to a Kubernetes cluster using <a href=\"https://helm.sh/\" target=\"_blank\" rel=\"noopener noreferrer\">Helm</a> (Helmfile) and AWS KMS.</p>\n<h3 id=\"-helm-helmfile\" style=\"position:relative;\"><a href=\"#-helm-helmfile\" aria-label=\" helm helmfile permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üì¶ Helm (Helmfile)</h3>\n<p><a href=\"https://helm.sh/\" target=\"_blank\" rel=\"noopener noreferrer\">Helm</a> is a package manager for Kubernetes. It allows you to deploy and manage Kubernetes applications. <a href=\"https://github.com/helmfile/helmfile\" target=\"_blank\" rel=\"noopener noreferrer\">Helmfile</a> is a tool that helps you manage Helm charts.</p>\n<h3 id=\"-sops-1\" style=\"position:relative;\"><a href=\"#-sops-1\" aria-label=\" sops 1 permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîê SOPS</h3>\n<p><a href=\"https://github.com/getsops/sops\" target=\"_blank\" rel=\"noopener noreferrer\">SOPS</a> is a tool that helps you encrypt and decrypt secrets using a variety of encryption methods, including AWS KMS.</p>\n<h3 id=\"-aws-kms-key\" style=\"position:relative;\"><a href=\"#-aws-kms-key\" aria-label=\" aws kms key permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîë AWS KMS Key</h3>\n<p><a href=\"https://aws.amazon.com/kms/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS KMS</a> is a key management service that allows you to create and manage encryption keys. You can use AWS KMS to encrypt secrets that you want to store in your Kubernetes cluster.</p>\n<p>Here are the reference code and a few Terraform templates to create KMS and IAM resources. I also added a walkthrough for Terraform <a href=\"https://github.com/seifrajhi/sops-secrets-blog\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<h3 id=\"-deployment-steps\" style=\"position:relative;\"><a href=\"#-deployment-steps\" aria-label=\" deployment steps permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Deployment Steps</h3>\n<p>To deploy the sample httpbin app in your Kubernetes cluster, you can use the following steps:</p>\n<ol>\n<li>\n<p><strong>Clone the repository:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> clone https://github.com/seifrajhi/sops-secrets-blog</code></pre></div>\n</li>\n<li>\n<p><strong>Change the directory to the helmfile directory:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> sops-secrets-blog/helmfile/</code></pre></div>\n</li>\n<li>\n<p><strong>Deploy the httpbin app using Helmfile:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">helmfile <span class=\"token parameter variable\">-e</span> sops-poc apply</code></pre></div>\n<p>This will deploy the httpbin app in your Kubernetes environment, including a pod, a service, a service account, and a secret.</p>\n</li>\n<li>\n<p><strong>Examine the environment variables in the newly created pod:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl get pods <span class=\"token parameter variable\">-o</span> wide</code></pre></div>\n<p>This will show you the environment variables that are set for the pod, including the <code class=\"language-text\">FIRST_VAR</code> and <code class=\"language-text\">SECOND_VAR</code> variables. We will use this information in a later step.</p>\n</li>\n</ol>\n<h2 id=\"-the-real-deal-managing-secrets-with-helmfile\" style=\"position:relative;\"><a href=\"#-the-real-deal-managing-secrets-with-helmfile\" aria-label=\" the real deal managing secrets with helmfile permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîë The Real Deal: Managing Secrets with Helmfile</h2>\n<p>Now, let's talk about secrets. Helmfile supports secrets by using the <code class=\"language-text\">helm-secrets</code> plugin. This plugin allows you to manage and inject sensitive information into a given release's values.</p>\n<p>However, there is a caveat: the secret values will be shown in plain text in the <code class=\"language-text\">helmfile diff</code> or <code class=\"language-text\">helmfile apply</code> outputs. This is not ideal, as it could expose sensitive information to unauthorized users.</p>\n<p>Fortunately, there is a workaround for this. You can use the <code class=\"language-text\">helm-secrets</code> plugin to encrypt your secrets before storing them in Helmfile. This plugin will decrypt the secrets when Helmfile deploys the release, but the secret values will not be shown in plain text in the <code class=\"language-text\">helmfile diff</code> or <code class=\"language-text\">helmfile apply</code> outputs.</p>\n<p>To learn more about how to use the <code class=\"language-text\">helm-secrets</code> plugin, please refer to the <a href=\"https://github.com/jkroepke/helm-secrets\" target=\"_blank\" rel=\"noopener noreferrer\">helm-secrets GitHub repository</a>.</p>\n<h3 id=\"-installing-code-classlanguage-texthelm-secretscode\" style=\"position:relative;\"><a href=\"#-installing-code-classlanguage-texthelm-secretscode\" aria-label=\" installing code classlanguage texthelm secretscode permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üì• Installing <code class=\"language-text\">helm-secrets</code></h3>\n<p>To use the <code class=\"language-text\">helm-secrets</code> plugin, you will need to install it first. You can do this by running the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">helm plugin <span class=\"token function\">install</span> https://github.com/jkroepke/helm-secrets</code></pre></div>\n<p>This will install the <code class=\"language-text\">helm-secrets</code> plugin in your local Helm installation. Once the plugin is installed, you can use it to encrypt and decrypt secrets in your Helmfile manifests.</p>\n<h3 id=\"-installing-sops\" style=\"position:relative;\"><a href=\"#-installing-sops\" aria-label=\" installing sops permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîê Installing SOPS</h3>\n<p>To install SOPS, you can use the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew <span class=\"token function\">install</span> sops</code></pre></div>\n<p>Once SOPS is installed, you can use it to encrypt and decrypt files.</p>\n<h3 id=\"Ô∏è-configuring-sops\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-configuring-sops\" aria-label=\"Ô∏è configuring sops permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Configuring SOPS</h3>\n<p>To use SOPS, you need to create a <code class=\"language-text\">.sops.yaml</code> configuration file. This file tells SOPS what files to encrypt and how to encrypt them. The following is an example of a <code class=\"language-text\">.sops.yaml</code> configuration file:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">creation_rules</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">path_regex</span><span class=\"token punctuation\">:</span> \\.yaml$\n        <span class=\"token key atrule\">kms</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'arn:of:your:kms:key'</span></code></pre></div>\n<p>This configuration file tells SOPS to encrypt any file that ends in <code class=\"language-text\">.yaml</code> using the KMS key with the ARN <code class=\"language-text\">arn:of:your:kms:key</code>.</p>\n<p>You can create the <code class=\"language-text\">.sops.yaml</code> file anywhere in your filesystem. SOPS will look for it in the current directory by default, but you can also specify the path to the file using the <code class=\"language-text\">-c</code> flag.</p>\n<h3 id=\"-creating-and-encrypting-secrets\" style=\"position:relative;\"><a href=\"#-creating-and-encrypting-secrets\" aria-label=\" creating and encrypting secrets permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîè Creating and Encrypting Secrets</h3>\n<p>To create the <code class=\"language-text\">secrets.yaml</code> file, you can use the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">sops secrets.yaml</code></pre></div>\n<p>This will open a text editor with prefilled sample values. Replace the content with the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">my_var</span><span class=\"token punctuation\">:</span> a top secret value\n<span class=\"token key atrule\">my_other_var</span><span class=\"token punctuation\">:</span> not that sensitive<span class=\"token punctuation\">,</span> but still please don't tell anyone<span class=\"token tag\">!</span></code></pre></div>\n<p>When you save and close the file, SOPS will encrypt it automatically. You can then open the file and have a look at its content. SOPS will have added metadata to the file, including the KMS ARN that was used to encrypt the file, a timestamp, and some other information.</p>\n<h3 id=\"-adding-secrets-to-helmfile\" style=\"position:relative;\"><a href=\"#-adding-secrets-to-helmfile\" aria-label=\" adding secrets to helmfile permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìÑ Adding Secrets to Helmfile</h3>\n<p>Now, it's time to add the secrets to the Helmfile manifest. To do this, you need to add a <code class=\"language-text\">secrets:</code> section to the release in the <code class=\"language-text\">helmfile.yaml</code> file. The following is an example of how to do this:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">bases</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> environments.yaml\n\n<span class=\"token key atrule\">releases</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> example<span class=\"token punctuation\">-</span>release\n    <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> example<span class=\"token punctuation\">-</span>ns\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> example\n    <span class=\"token key atrule\">values</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> values.yaml.gotmpl\n    <span class=\"token key atrule\">secrets</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> secrets.yaml\n    <span class=\"token key atrule\">chart</span><span class=\"token punctuation\">:</span> ./charts/httpbin</code></pre></div>\n<p>As a result of adding the <code class=\"language-text\">secrets:</code> section to the release in the <code class=\"language-text\">helmfile.yaml</code> file, Helmfile will merge the <code class=\"language-text\">values.yaml</code> and <code class=\"language-text\">secrets.yaml</code> files as one and then use it to populate the templates in the <code class=\"language-text\">charts/httpbin/templates/</code> directory when deploying the release.</p>\n<h3 id=\"-modifying-deployment-template\" style=\"position:relative;\"><a href=\"#-modifying-deployment-template\" aria-label=\" modifying deployment template permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìù Modifying Deployment Template</h3>\n<p>To make use of the new secrets, you need to modify the deployment template in the <code class=\"language-text\">charts/httpbin/templates/deployment.yaml</code> file. The following is an example of how to do this:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> apps/v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Deployment\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">replicas</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.replicas <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> v1\n    <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> v1\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">serviceAccountName</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> docker.io/kong/httpbin\n                <span class=\"token key atrule\">imagePullPolicy</span><span class=\"token punctuation\">:</span> IfNotPresent\n                <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">containerPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n                <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> FIRST_VAR\n                    <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.my_var <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> SECOND_VAR\n                    <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Values.my_other_var <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"-verifying-changes\" style=\"position:relative;\"><a href=\"#-verifying-changes\" aria-label=\" verifying changes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîç Verifying Changes</h3>\n<p>If we check what Helmfile does, you can run the below command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">helmfile <span class=\"token parameter variable\">-e</span> sops-poc <span class=\"token function\">diff</span></code></pre></div>\n<p>Now the values are effectively taken from a Kubernetes secret instead of directly from secrets defined in the Helmfile release.</p>\n<p>Go ahead and run <code class=\"language-text\">helmfile -e sops-poc apply</code> to deploy the changes.</p>\n<h3 id=\"-updating-secrets\" style=\"position:relative;\"><a href=\"#-updating-secrets\" aria-label=\" updating secrets permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Updating Secrets</h3>\n<p>Let's now modify <code class=\"language-text\">secrets.yaml</code> values:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">sops secrets.yaml</code></pre></div>\n<p>I removed random characters from both <code class=\"language-text\">my_var</code> and <code class=\"language-text\">my_other_var</code> in <code class=\"language-text\">secrets.yaml</code>, it doesn't really matter the change, it is just an example. Save and close the file to have SOPS re-encrypt it.</p>\n<p>And now if you see what Helmfile tries to do, you will find that there are no secrets shown in plain text anymore! üéâ</p>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîè Conclusion</h2>\n<p>In this blog post, we discussed SOPS, a tool that can be used to encrypt and decrypt secrets in Git. We also discussed the benefits of using SOPS, and how it can help to keep your secrets safe.</p>\n<p>SOPS is a powerful tool that can be used to encrypt a wide variety of secrets, including passwords, API keys, and SSH keys. SOPS uses a variety of encryption methods, including AES-256, RSA-2048, and Ed25519. This makes it very difficult for attackers to decrypt SOPS-encrypted secrets.</p>\n<p>SOPS also supports a variety of key management options, including KMS, HashiCorp Vault, and AWS Secrets Manager. This makes it easy to store and manage your SOPS keys in a secure manner.</p>\n<p>By using SOPS, you can be sure that your secrets are safe in Git. SOPS is a foolproof way to keep your secrets safe.</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/aws-signer-oci-artifacts/","title":"Secure the software supply chain with AWS Signer for signing and validating OCI artifacts","date":"2024-10-19 12:34:00"},"excerpt":"Ensuring the integrity and authenticity of containerized applications and Metadata üîñ Introduction The adoption of containers grows, so does‚Ä¶","html":"<blockquote>\n<p><strong>Ensuring the integrity and authenticity of containerized applications and Metadata</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîñ Introduction</h2>\n<p>The adoption of containers grows, so does the need to ensure the integrity and authenticity of the software artifacts that make up these applications.</p>\n<p>Beyond just the container images themselves, organizations are required to secure additional metadata files, such as Common Vulnerabilities and Exposure (CVE) scan results, Software Bill of Materials (SBOM), and Helm charts, that provide critical information about the components and dependencies of their containerized applications.</p>\n<p><em>Ensuring the provenance and trustworthiness of these artifacts is essential for maintaining the overall security and compliance of the software supply chain.</em></p>\n<p>In this blog post, we will explore how AWS Signer, a fully managed code-signing service, can be used to cryptographically sign and validate not only container images, but also the associated OCI (Open Container Initiative) artifacts that accompany them.</p>\n<h2 id=\"open-container-initiative-oci\" style=\"position:relative;\"><a href=\"#open-container-initiative-oci\" aria-label=\"open container initiative oci permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Open Container Initiative OCI</h2>\n<p>The Open Container Initiative (OCI) is a lightweight, open governance structure (project), formed under the auspices of the Linux Foundation, for the express purpose of creating open industry standards around container formats and runtimes. The OCI was launched on June 22nd 2015 by Docker, CoreOS and other leaders in the container industry.</p>\n<p>The OCI currently contains three specifications: the Runtime Specification (runtime-spec), the Image Specification (image-spec) and the Distribution Specification (distribution-spec). The Runtime Specification outlines how to run a ‚Äúfilesystem bundle‚Äù that is unpacked on disk.</p>\n<h2 id=\"aws-signer\" style=\"position:relative;\"><a href=\"#aws-signer\" aria-label=\"aws signer permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>AWS Signer</h2>\n<p>AWS Signer is a fully managed signing service that simplifies the process of signing container images. It integrates seamlessly with ECR, allowing you to sign and verify images easily in your ECR repositories.</p>\n<p>AWS Signer uses the Notary project, an open-source container image signing tool, to perform the signing and verification operations. Image signing involves creating a cryptographic signature using a private key and the image‚Äôs digest.</p>\n<p>The signature is then attached to the image, and when the image is deployed, the signature is verified using the corresponding public key.</p>\n<p>If the verification fails, it indicates that the image has been tampered with and should not be deployed.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.8235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAQADBf/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAeauSMSf/8QAGBAAAgMAAAAAAAAAAAAAAAAAEBEAAQL/2gAIAQEAAQUCcdjR/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bh//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABsQAAIBBQAAAAAAAAAAAAAAAAABIRARMWGB/9oACAEBAAE/IU1lJsHLky5X/9oADAMBAAIAAwAAABCIP//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxClf//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIP/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhYRAxQXH/2gAIAQEAAT8QMQjOot17rNRqqthBUBp95//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Image description\" title=\"\" src=\"/static/c13fa318951a791335eb2364ccbcb103/7bf67/signer.jpg\" srcset=\"/static/c13fa318951a791335eb2364ccbcb103/651be/signer.jpg 170w,\n/static/c13fa318951a791335eb2364ccbcb103/d30a3/signer.jpg 340w,\n/static/c13fa318951a791335eb2364ccbcb103/7bf67/signer.jpg 680w,\n/static/c13fa318951a791335eb2364ccbcb103/4b190/signer.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"hands-on-example\" style=\"position:relative;\"><a href=\"#hands-on-example\" aria-label=\"hands on example permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Hands-On example</h2>\n<p>If you want to implement image signing within our development workflows. It‚Äôs important to think about which other OCI artifacts we intend to incorporate alongside our images. Equally critical is ensuring that security is integrated at every stage of the image‚Äôs lifecycle, from its initial creation to deployment. For this latter aspect, leveraging signatures within an OCI repository can be advantageous, addressing key container security practices:</p>\n<ul>\n<li>Establishing ongoing trust as vulnerabilities and configuration requirements evolve</li>\n<li>Validating the integrity of images to ensure they remain untampered</li>\n<li>Approving images and artifacts that align with organizational compliance standards.</li>\n</ul>\n<p>Consequently, our approach should involve selecting, signing, and managing all relevant OCI artifacts for an image to enhance trust and enhance visibility across the software development lifecycle (SDLC).</p>\n<p>Let‚Äôs check a typical development process and explore how our organization can embrace these practices. Additionally, you can refer to this security blog for further insights on integrating AWS Signer into a pipeline.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 14.117647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVR42jWO3Q6FIAyDff/3U4MGBRT5EQgh8bonXXIulqXb+nXT+74IIYA9pQRrLZxzoltr6L1DKYV5nmXOijHKLft1XTiOA+d54r5vTBTbtiHnjOd5sK6rQAn6vg+1VgHzjuAxBrTWAvPei4dQBtIzGWOw77ssmLAsiwTQQBiD/p/wC0JY1PRwTx8/L6XgB6xj3HIHDGD8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Image description\" title=\"\" src=\"/static/64c3bc91eeee6e82c1495482e8ea2693/c5bb3/example.png\" srcset=\"/static/64c3bc91eeee6e82c1495482e8ea2693/04472/example.png 170w,\n/static/64c3bc91eeee6e82c1495482e8ea2693/9f933/example.png 340w,\n/static/64c3bc91eeee6e82c1495482e8ea2693/c5bb3/example.png 680w,\n/static/64c3bc91eeee6e82c1495482e8ea2693/5a190/example.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Initially, developers fetch public images for initial testing and customization on their local machines.</p>\n<p>Once prepared for building, they upload their build specification files to a shared code repository, such as <strong>AWS CodeCommit</strong>.</p>\n<p>A modification in the shared repository triggers a pipeline via AWS CodeBuild. This pipeline utilizes the build specification files to construct and sign an image using** AWS Signer**.</p>\n<p>Subsequently, the image is uploaded to an <strong>OCI-compliant</strong> image repository, such as Amazon Elastic Container Registry (Amazon ECR). Notably, AWS Signer, in conjunction with the underlying Notation CLI client, can be employed with any OCI 1.0 compatible registry.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Conclusion</h2>\n<p>By integrating AWS Signer into your software development lifecycle, you can establish a robust and centralized solution for managing the signing and verification of your containerized applications and their supporting metadata, ensuring the trust and integrity of your software supply chain.</p>\n<p><strong>References:</strong></p>\n<ul>\n<li><a href=\"https://aws.amazon.com/blogs/containers/signing-and-validating-oci-artifacts-with-aws-signer/\" target=\"_blank\" rel=\"noopener noreferrer\">https://aws.amazon.com/blogs/containers/signing-and-validating-oci-artifacts-with-aws-signer/</a></li>\n<li><a href=\"https://aws.amazon.com/blogs/security/best-practices-to-help-secure-your-container-image-build-pipeline-by-using-aws-signer/\" target=\"_blank\" rel=\"noopener noreferrer\">https://aws.amazon.com/blogs/security/best-practices-to-help-secure-your-container-image-build-pipeline-by-using-aws-signer/</a></li>\n<li><a href=\"https://aws.amazon.com/blogs/containers/cryptographic-signing-for-containers/\" target=\"_blank\" rel=\"noopener noreferrer\">https://aws.amazon.com/blogs/containers/cryptographic-signing-for-containers/</a></li>\n<li><a href=\"https://opencontainers.org/about/overview/\" target=\"_blank\" rel=\"noopener noreferrer\">https://opencontainers.org/about/overview/</a></li>\n</ul>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}