{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/in-memory-databases-comparison/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Redis, KeyDB, Dragonfly, Skytable as examples‚ö°</strong></p>\n</blockquote>\n<h2 id=\"‚ÑπÔ∏è-introduction\" style=\"position:relative;\"><a href=\"#%E2%84%B9%EF%B8%8F-introduction\" aria-label=\"‚ÑπÔ∏è introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚ÑπÔ∏è Introduction</h2>\n<p>In today's world, businesses need fast ways to store and access their data.</p>\n<p>That's where Redis, KeyDB, Dragonfly, and Skytable come in. These are powerful in-memory databases, each with its own strengths and weaknesses, competing to be the best.</p>\n<h2 id=\"-goals--objectives\" style=\"position:relative;\"><a href=\"#-goals--objectives\" aria-label=\" goals  objectives permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üéØ Goals &#x26; Objectives</h2>\n<p>In this blog post, we explore the real-world challenges faced by organizations and explore the resolution that these lightning-fast in-memory databases offer, shedding light on their distinct features and helping you choose the ideal solution for your data storage needs.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYklEQVR42pWSyW6CUBSGfX13da9NTF+hjWjBtGhjIwgFlKFijTbBog3TvQjK1EMxuvCmSf8Fq/PlHy614kp5nhuGwbIsRVE8zzMMI0lSkiTXl7WCpDAMNVV1HIfjuNfR6HA4EM/IcBxHw8Gg1+3etdu3rdb/4OPxyNB0q9nsQ2iajqPoLzj/VYVlWbbHSJYkYTKB5JB/H4ZZllb+50uCM8IYeW6hPZqqLCtTURTfdbXYzX3XCRAmO2OMXacUTFVYShHYWV6mKIOADf4uDDrCvut6nuv6vn+BPc+jOh11NgMv6uE+9nZVvHMj+CZf5jPdmwjCVFGe+v3P9foEb7dby7LG4zGEXC6XCKHrbaD2y3D4sViYpglz6Lp+gm3bBvN6vX7TaGw2GxQERHjAsua8lCgIxhmGDhBmwvMwryLLcRwTH+9NFHVNAwycIellsCiKoPNqtSL+hpXSNIW0PMfBrtVgP42Qn1fGy1WJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cache\" title=\"\" src=\"/static/7a42faff72b91606411ac0dab6fd97c6/0a47e/cache.png\" srcset=\"/static/7a42faff72b91606411ac0dab6fd97c6/04472/cache.png 170w,\n/static/7a42faff72b91606411ac0dab6fd97c6/9f933/cache.png 340w,\n/static/7a42faff72b91606411ac0dab6fd97c6/0a47e/cache.png 600w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Before diving into benchmarking and comparing in-memory databases, let's take a moment to understand what \"in-memory\" means in the context of data storage.</p>\n<h3 id=\"what-is-an-in-memory-cache\" style=\"position:relative;\"><a href=\"#what-is-an-in-memory-cache\" aria-label=\"what is an in memory cache permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>What is an In-Memory Cache?</h3>\n<p>In computer science, there exists a fascinating concept known as in-memory cache. It's a powerful tool that accelerates data access by storing information directly in the computer's memory, rather than relying on slower storage mediums like disks or databases. This allows for lightning-fast retrieval and processing of data, resulting in enhanced performance and seamless user experiences. In-memory cache releases the potential for real-time analytics, dynamic content delivery, and swift computations, transforming the way applications operate and paving the way for a faster, more efficient digital world.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 49.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVR42oVR246CMBTk/z/JfePFfdEQMTG2JKwIEbZVoGsvXCoO2w1Ro+s8NJN25szJ1Bvu0fe9aRprLfjlBsMzeJMIpG3brziOtttvxoYXuB33Z0bUeA6D5FwTUtU1VsjzPE3TJEmklE72mKy1juM4yzJKqRACih8h3BvnPAiCKIowaDIzxqDEZdM0Y3J+OHzMZhGl4LosJSFnpUau9ed8jmRsdS7Ldr+XSiFguViswxCzRvORc4iKogC3XXdRyhWGQN/3k90OvDPG1jXujTHhakUIuS/sd61O6/50gmLqwg162fbUIw5VVcfNBr81dfsgeG52ulqIJMtc8lt4/3zjW/MVwbJEhbXOploAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"in-memory\" title=\"\" src=\"/static/1741383b4255e28ce13b52cdfdc1a050/c5bb3/in-memory.png\" srcset=\"/static/1741383b4255e28ce13b52cdfdc1a050/04472/in-memory.png 170w,\n/static/1741383b4255e28ce13b52cdfdc1a050/9f933/in-memory.png 340w,\n/static/1741383b4255e28ce13b52cdfdc1a050/c5bb3/in-memory.png 680w,\n/static/1741383b4255e28ce13b52cdfdc1a050/b12f7/in-memory.png 1020w,\n/static/1741383b4255e28ce13b52cdfdc1a050/b5a09/in-memory.png 1360w,\n/static/1741383b4255e28ce13b52cdfdc1a050/33c15/in-memory.png 1463w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>In the race for the title of the \"world's fastest key/value store,\" numerous contenders have emerged, each boasting remarkable claims of unparalleled speed and performance. Let's shine a spotlight on the following projects that have captured the attention and curiosity of enthusiasts and experts alike.</p>\n<h3 id=\"-redis-redefining-speed-and-performance-in-data-storage\" style=\"position:relative;\"><a href=\"#-redis-redefining-speed-and-performance-in-data-storage\" aria-label=\" redis redefining speed and performance in data storage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚û∞ Redis: Redefining Speed and Performance in Data Storage</h3>\n<p><a href=\"https://github.com/redis/redis\" target=\"_blank\" rel=\"noopener noreferrer\">Redis</a>, often hailed as the original key/value store following memcached, holds a special place in the world of data storage. As the oldest and most widely used solution, Redis has garnered a loyal following over the years. While it operates as a single-threaded system (adopting io-threads since version 6.0), it may exhibit lower throughput compared to the multi-threaded alternatives mentioned earlier. Nevertheless, Redis boasts distinct advantages that set it apart. Firstly, it stands as the most feature-complete among the systems in question, offering a comprehensive array of functionalities. Secondly, its longevity in the industry adds a layer of trust and reliability. However, it's important to note that age alone does not guarantee superiority; innovation and continuous development play pivotal roles in this dynamic landscape of data storage.</p>\n<h3 id=\"keydb-redefining-the-benchmark-of-keyvalue-storage-solutions\" style=\"position:relative;\"><a href=\"#keydb-redefining-the-benchmark-of-keyvalue-storage-solutions\" aria-label=\"keydb redefining the benchmark of keyvalue storage solutions permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>KeyDB: Redefining the Benchmark of Key/Value Storage Solutions</h3>\n<p><a href=\"https://github.com/Snapchat/KeyDB\" target=\"_blank\" rel=\"noopener noreferrer\">KeyDB</a> emerges as a compelling contender, building upon the foundations laid by Redis. Positioned as a multithreaded fork of Redis, KeyDB boasts an impressive claim of being <a href=\"https://docs.keydb.dev/blog/2019/10/07/blog-post/\" target=\"_blank\" rel=\"noopener noreferrer\">5 times faster than its predecessor</a>. This performance leap has captivated the attention of many, including myself. One notable advantage of KeyDB is its ability to alleviate the need for intricate proxying setups and multiple Redis instances. By consolidating these functionalities into a single KeyDB instance, CPU utilization can be maximized, simplifying the architecture and enhancing operational efficiency. Transitioning from Redis to KeyDB has been a rewarding experience overall. However, it's essential to acknowledge that occasional crashes have surfaced as a minor drawback. Despite this, the advantages of enhanced speed and simplified setup make KeyDB an enticing choice for those seeking optimal performance in their key/value storage solution.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd1aQD//xAAYEAACAwAAAAAAAAAAAAAAAAAAAREgIf/aAAgBAQABBQJybX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAABBQAAAAAAAAAAAAAAAAAAAREgITH/2gAIAQEABj8CpHMj/8QAGhABAAEFAAAAAAAAAAAAAAAAAREAICFBgf/aAAgBAQABPyFgNihlmPbf/9oADAMBAAIAAwAAABCgD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQEAAgMAAAAAAAAAAAAAAAERACAhQVH/2gAIAQEAAT8QfLECWQ9xZIO2ONf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"keydb\" title=\"\" src=\"/static/806cd37fd09f16bd9b2764ab138a3bd0/7bf67/keydb.jpg\" srcset=\"/static/806cd37fd09f16bd9b2764ab138a3bd0/651be/keydb.jpg 170w,\n/static/806cd37fd09f16bd9b2764ab138a3bd0/d30a3/keydb.jpg 340w,\n/static/806cd37fd09f16bd9b2764ab138a3bd0/7bf67/keydb.jpg 680w,\n/static/806cd37fd09f16bd9b2764ab138a3bd0/990cb/keydb.jpg 1020w,\n/static/806cd37fd09f16bd9b2764ab138a3bd0/c44b8/keydb.jpg 1360w,\n/static/806cd37fd09f16bd9b2764ab138a3bd0/b17f8/keydb.jpg 1600w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-dragonfly-data-storage-with-scalability-and-ease-of-use\" style=\"position:relative;\"><a href=\"#-dragonfly-data-storage-with-scalability-and-ease-of-use\" aria-label=\" dragonfly data storage with scalability and ease of use permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üî• Dragonfly: Data Storage with Scalability and Ease-of-Use</h3>\n<p><a href=\"https://github.com/dragonflydb/dragonfly\" target=\"_blank\" rel=\"noopener noreferrer\">Dragonfly</a> emerges as a relatively new player in the realm of data storage. Boldly claiming to be 25 times faster than Redis, it proudly dons the slogan \"Probably, the fastest in-memory store in the universe!\" While I couldn't personally replicate this impressive performance claim, its focus on speed has piqued my interest. Although Dragonfly is still expanding its support for Redis commands, its emphasis on performance is bolstered by a transparent explanation of its underlying architecture. This clarity sets it apart from the other three stores, which lack comparable insights into their internal workings. With its promising speed and intriguing potential, I will undoubtedly keep a watchful eye on Dragonfly as it evolves. The prospect of a new contender pushing the boundaries of in-memory data storage is indeed an exciting development worth following.</p>\n<h3 id=\"-skytable-the-fast-and-feature-rich-rust-based-data-storage-solution\" style=\"position:relative;\"><a href=\"#-skytable-the-fast-and-feature-rich-rust-based-data-storage-solution\" aria-label=\" skytable the fast and feature rich rust based data storage solution permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üóø Skytable: The Fast and Feature-Rich Rust-Based Data Storage Solution</h3>\n<p><a href=\"https://github.com/skytable/skytable\" target=\"_blank\" rel=\"noopener noreferrer\">Skytable</a> is a relatively lesser-known gem. This intriguing contender boldly claims to be \"insanely fast,\" with experimental benchmarks suggesting it surpasses <a href=\"https://github.com/ohsayan/sky-benches\" target=\"_blank\" rel=\"noopener noreferrer\">Redis by a factor of approximately 10X and outperforms KeyDB by 2X-3X</a>. Despite its relatively lower visibility, Skytable has caught my attention due to its planned features and impressive performance. One distinguishing factor is Skytable's native compatibility with Windows, setting it apart from the other three contenders. This unique advantage makes it a notable option for those operating within the Windows environment. As I delve deeper into Skytable's captivating blend of speed and promising features, I'm eager to follow the project's progress. The combination of its exceptional performance and noteworthy roadmap positions Skytable as an exciting player in the field of in-memory data storage.</p>\n<h3 id=\"-personal-impressions-and-benchmarking\" style=\"position:relative;\"><a href=\"#-personal-impressions-and-benchmarking\" aria-label=\" personal impressions and benchmarking permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üóØ Personal Impressions and Benchmarking</h3>\n<p>In terms of stability and production usage, Redis holds a strong reputation and has been widely adopted in various systems. KeyDB, <a href=\"https://docs.keydb.dev/news/2022/05/12/keydb-joins-snap\" target=\"_blank\" rel=\"noopener noreferrer\">being backed by Snapchat</a>, has gained credibility and is considered stable enough for production environments. Unfortunately, there are no available benchmarks comparing Dragonfly and Skytable at this time. One notable aspect of Redis, KeyDB, and Skytable is their avoidance of crazy assumptions about the underlying system they run on. However, Dragonfly takes a different approach by expecting the latest hardware and kernel versions. This requirement may seem unreasonable, as many servers still operate on older kernel versions and may not possess the latest processors. It's worth considering that if the other three projects started assuming the latest features, they might potentially achieve even greater performance. Furthermore, it's essential to acknowledge that Dragonfly and Skytable are still in the early stages of development, which makes it less fair to directly compare their features against Redis and KeyDB, which have had longer development lifespans. It's also worth noting that, apart from Skytable, the other projects have established companies supporting their development. As an additional note, personal benchmarks were conducted for each store. In the Redis, KeyDB, and Skytable benchmark, Redis and KeyDB showcased consistent performance, while Skytable exhibited occasional inconsistencies. However, when benchmarking Redis, KeyDB, and Dragonfly using memtier, the claimed 25X speed improvement of Dragonfly could not be replicated. The tests were executed on two m5.4xlarge servers, with one server hosting the key/value store and the other serving as the benchmarking tool.</p>\n<h2 id=\"-wrapping-up\" style=\"position:relative;\"><a href=\"#-wrapping-up\" aria-label=\" wrapping up permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üëè Wrapping Up</h2>\n<p>In summary, the blog post highlights key insights and personal thoughts on Redis, KeyDB, Dragonfly, and Skytable. Each database offers unique advantages and considerations. üìã Choosing the right in-memory database depends on specific needs and considerations. This blog post provides valuable insights to aid in decision-making. üíÆ</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":5,"rawMarkdownBody":"\n> **Redis, KeyDB, Dragonfly, Skytable as examples‚ö°**\n\n## ‚ÑπÔ∏è Introduction\n\nIn today's world, businesses need fast ways to store and access their data.\n\nThat's where Redis, KeyDB, Dragonfly, and Skytable come in. These are powerful in-memory databases, each with its own strengths and weaknesses, competing to be the best.\n\n## üéØ Goals & Objectives\n\nIn this blog post, we explore the real-world challenges faced by organizations and explore the resolution that these lightning-fast in-memory databases offer, shedding light on their distinct features and helping you choose the ideal solution for your data storage needs.\n\n![cache](./cache.png)\n\nBefore diving into benchmarking and comparing in-memory databases, let's take a moment to understand what \"in-memory\" means in the context of data storage.\n\n### What is an In-Memory Cache?\n\nIn computer science, there exists a fascinating concept known as in-memory cache. It's a powerful tool that accelerates data access by storing information directly in the computer's memory, rather than relying on slower storage mediums like disks or databases. This allows for lightning-fast retrieval and processing of data, resulting in enhanced performance and seamless user experiences. In-memory cache releases the potential for real-time analytics, dynamic content delivery, and swift computations, transforming the way applications operate and paving the way for a faster, more efficient digital world.\n\n![in-memory](./in-memory.png)\n\nIn the race for the title of the \"world's fastest key/value store,\" numerous contenders have emerged, each boasting remarkable claims of unparalleled speed and performance. Let's shine a spotlight on the following projects that have captured the attention and curiosity of enthusiasts and experts alike.\n\n### ‚û∞ Redis: Redefining Speed and Performance in Data Storage\n\n[Redis](https://github.com/redis/redis), often hailed as the original key/value store following memcached, holds a special place in the world of data storage. As the oldest and most widely used solution, Redis has garnered a loyal following over the years. While it operates as a single-threaded system (adopting io-threads since version 6.0), it may exhibit lower throughput compared to the multi-threaded alternatives mentioned earlier. Nevertheless, Redis boasts distinct advantages that set it apart. Firstly, it stands as the most feature-complete among the systems in question, offering a comprehensive array of functionalities. Secondly, its longevity in the industry adds a layer of trust and reliability. However, it's important to note that age alone does not guarantee superiority; innovation and continuous development play pivotal roles in this dynamic landscape of data storage.\n\n### KeyDB: Redefining the Benchmark of Key/Value Storage Solutions\n\n[KeyDB](https://github.com/Snapchat/KeyDB) emerges as a compelling contender, building upon the foundations laid by Redis. Positioned as a multithreaded fork of Redis, KeyDB boasts an impressive claim of being [5 times faster than its predecessor](https://docs.keydb.dev/blog/2019/10/07/blog-post/). This performance leap has captivated the attention of many, including myself. One notable advantage of KeyDB is its ability to alleviate the need for intricate proxying setups and multiple Redis instances. By consolidating these functionalities into a single KeyDB instance, CPU utilization can be maximized, simplifying the architecture and enhancing operational efficiency. Transitioning from Redis to KeyDB has been a rewarding experience overall. However, it's essential to acknowledge that occasional crashes have surfaced as a minor drawback. Despite this, the advantages of enhanced speed and simplified setup make KeyDB an enticing choice for those seeking optimal performance in their key/value storage solution.\n\n![keydb](./keydb.jpg)\n\n### üî• Dragonfly: Data Storage with Scalability and Ease-of-Use\n\n[Dragonfly](https://github.com/dragonflydb/dragonfly) emerges as a relatively new player in the realm of data storage. Boldly claiming to be 25 times faster than Redis, it proudly dons the slogan \"Probably, the fastest in-memory store in the universe!\" While I couldn't personally replicate this impressive performance claim, its focus on speed has piqued my interest. Although Dragonfly is still expanding its support for Redis commands, its emphasis on performance is bolstered by a transparent explanation of its underlying architecture. This clarity sets it apart from the other three stores, which lack comparable insights into their internal workings. With its promising speed and intriguing potential, I will undoubtedly keep a watchful eye on Dragonfly as it evolves. The prospect of a new contender pushing the boundaries of in-memory data storage is indeed an exciting development worth following.\n\n### üóø Skytable: The Fast and Feature-Rich Rust-Based Data Storage Solution\n\n[Skytable](https://github.com/skytable/skytable) is a relatively lesser-known gem. This intriguing contender boldly claims to be \"insanely fast,\" with experimental benchmarks suggesting it surpasses [Redis by a factor of approximately 10X and outperforms KeyDB by 2X-3X](https://github.com/ohsayan/sky-benches). Despite its relatively lower visibility, Skytable has caught my attention due to its planned features and impressive performance. One distinguishing factor is Skytable's native compatibility with Windows, setting it apart from the other three contenders. This unique advantage makes it a notable option for those operating within the Windows environment. As I delve deeper into Skytable's captivating blend of speed and promising features, I'm eager to follow the project's progress. The combination of its exceptional performance and noteworthy roadmap positions Skytable as an exciting player in the field of in-memory data storage.\n\n### üóØ Personal Impressions and Benchmarking\n\nIn terms of stability and production usage, Redis holds a strong reputation and has been widely adopted in various systems. KeyDB, [being backed by Snapchat](https://docs.keydb.dev/news/2022/05/12/keydb-joins-snap), has gained credibility and is considered stable enough for production environments. Unfortunately, there are no available benchmarks comparing Dragonfly and Skytable at this time. One notable aspect of Redis, KeyDB, and Skytable is their avoidance of crazy assumptions about the underlying system they run on. However, Dragonfly takes a different approach by expecting the latest hardware and kernel versions. This requirement may seem unreasonable, as many servers still operate on older kernel versions and may not possess the latest processors. It's worth considering that if the other three projects started assuming the latest features, they might potentially achieve even greater performance. Furthermore, it's essential to acknowledge that Dragonfly and Skytable are still in the early stages of development, which makes it less fair to directly compare their features against Redis and KeyDB, which have had longer development lifespans. It's also worth noting that, apart from Skytable, the other projects have established companies supporting their development. As an additional note, personal benchmarks were conducted for each store. In the Redis, KeyDB, and Skytable benchmark, Redis and KeyDB showcased consistent performance, while Skytable exhibited occasional inconsistencies. However, when benchmarking Redis, KeyDB, and Dragonfly using memtier, the claimed 25X speed improvement of Dragonfly could not be replicated. The tests were executed on two m5.4xlarge servers, with one server hosting the key/value store and the other serving as the benchmarking tool.\n\n## üëè Wrapping Up\n\nIn summary, the blog post highlights key insights and personal thoughts on Redis, KeyDB, Dragonfly, and Skytable. Each database offers unique advantages and considerations. üìã Choosing the right in-memory database depends on specific needs and considerations. This blog post provides valuable insights to aid in decision-making. üíÆ\n\n<br>\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  **_Until next time üéâ_**\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":1180},"frontmatter":{"id":"bf31fb496e88908664bebe21","path":"/blog/in-memory-databases-comparison/","humanDate":"Nov 1, 2024","fullDate":"2024-11-01","title":"A Battle of Lightning-Fast In-Memory Databases in the Real World ‚ö°","keywords":["In-Memory Databases","Redis","KeyDB","Dragonfly","Skytable","Performance","DevOps"],"excerpt":"Explore the real-world performance of lightning-fast in-memory databases like Redis, KeyDB, Dragonfly, and Skytable.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABNklEQVR42o2Sy0rDUBRF+yn+g9+hIDgQFJwIThTn4h+oAwcigl+gA8GRdCRGdNKIIOLAoqIU+zCpbWyT5j6WNyHVvIRuuNwH+5yz9zm3goHWmvGePUNyRed4eX4EKSWVNIFcwuguFDhBSF8MM8n+TTh+jJYyDzJZoZCGojh8GjBzWWft/ojHfiOWGgoRc5RSpOMLCj3Pw3Vdmq0Wg16Xl17A9PkHs1ad+do2mw8nIDTtThvHcQjDkDQKCn8rmcoRrOY7U2cd5q4aLNwesGzv443cWKVUshiXVyiMlahy96uL1xvy3L5mqbrL6o3Fem2LHXsDLb/HHZygh0bZyNgIggDfD9BKYL/ucWwvcnq3wtvnRRyotKLUWdmU/6ATa2bCvunpyJlsyoVvkyNHahKD5iwzQyhL+ANdnbMzQemBHAAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/b0e8bb74635fd3d02cb5d96920ccbd6f/2ebde/image.png","srcSet":"/static/b0e8bb74635fd3d02cb5d96920ccbd6f/6062a/image.png 750w,\n/static/b0e8bb74635fd3d02cb5d96920ccbd6f/0c45f/image.png 1080w,\n/static/b0e8bb74635fd3d02cb5d96920ccbd6f/4fe56/image.png 1366w,\n/static/b0e8bb74635fd3d02cb5d96920ccbd6f/2ebde/image.png 1592w","sizes":"100vw"},"sources":[{"srcSet":"/static/b0e8bb74635fd3d02cb5d96920ccbd6f/b6c78/image.webp 750w,\n/static/b0e8bb74635fd3d02cb5d96920ccbd6f/a9803/image.webp 1080w,\n/static/b0e8bb74635fd3d02cb5d96920ccbd6f/7a617/image.webp 1366w,\n/static/b0e8bb74635fd3d02cb5d96920ccbd6f/48d58/image.webp 1592w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4547738693467337}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/topology-aware-routing-kubernetes/","title":"Improve Network Performance with Topology Aware Routing in Amazon EKS ‚úí","date":"2024-11-01 20:00:00"},"excerpt":"How Topology Aware Routing Can Reduce Costs and Improve Network Performance üöÄ üîñ Introduction  As Kubernetes clusters are increasingly‚Ä¶","html":"<blockquote>\n<p><strong>How Topology Aware Routing Can Reduce Costs and Improve Network Performance üöÄ</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîñ Introduction</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABr0lEQVR42o2S227TQBRF+8H8CuITeIRf4KG8I4RQUSu7IfGl8TX22PF17Ngzi7EbIQIpqqytsUfb65wzs2+0UmitL3Qye4PSDLNaNc6a0Xy307NXnaWv6OYCaB6MDnLG7RRihlxBatZo1PjtvPoWj34NsBuM2aximPF6zdefT9x+37DZhwRVRyLVCju2it4UXd6V+guo1GKCth/5cJvRdiPSmNwBLHfDvfUFe3uHk2a4cnEqPn0bud/K60B9BkopyXJB17Z4YYwVJLhBwFMSs4szdkmO7e9p294UN+dpjmSer428HLCBFqKgKATTNFEdS0ohyA8Zwuzn2QGRZZRFwTBI8vxAHIUGOF0HLhDbtrEsi7JJyGqHvMhwXI+d46xK0hRRhxStj+d5PD5uOJ1O63Tqj3v4PXLTNFRVZeKgOFalGb2mqWvTmaCujvRdS1UWSNNhWZZEUXQBeiE2pto8s49itmHKxnf54T5gOT7bIMb29si+/6erF4HPN66J+gnX/BfIkTfv3vP242fCCdxmWmOl9StzqM6hTU3G/F4Rj3D3JHhIjibYpkA//xe2AH8BO5FQ9eUzMXAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"alt text\" title=\"\" src=\"/static/9e0ee14cda75263528143430f4303c82/c5bb3/image.png\" srcset=\"/static/9e0ee14cda75263528143430f4303c82/04472/image.png 170w,\n/static/9e0ee14cda75263528143430f4303c82/9f933/image.png 340w,\n/static/9e0ee14cda75263528143430f4303c82/c5bb3/image.png 680w,\n/static/9e0ee14cda75263528143430f4303c82/b12f7/image.png 1020w,\n/static/9e0ee14cda75263528143430f4303c82/b5a09/image.png 1360w,\n/static/9e0ee14cda75263528143430f4303c82/b5c8e/image.png 2194w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>As Kubernetes clusters are increasingly deployed in multi-zone environments, it becomes important to keep network traffic within the zone where it originated. <a href=\"https://kubernetes.io/docs/concepts/services-networking/topology-aware-routing/\" target=\"_blank\" rel=\"noopener noreferrer\">Topology Aware Routing</a> (TAR) is a feature in Kubernetes that adjusts routing behavior to prefer keeping traffic in the zone it originated from.</p>\n<p>This can help reduce costs or improve network performance by minimizing inter-zone traffic and ensuring that traffic reaches its destination with minimal delay.</p>\n<p>In this blog post, we will learn about the concept of Kubernetes topology aware routing and discuss its benefits in terms of reducing latency and optimizing network traffic flow.</p>\n<p>We will also show you how to enable Topology Aware Routing for a Service and minimize the performance impact of overlay networking. In this blog post, we will refer to Topology Aware Routing as TAR.</p>\n<div class=\"note\">\n    <p><strong>üîµ Note:</strong></p>\n    <p>Prior to Kubernetes 1.27, this feature was known as Topology Aware Hints.</p>\n</div>\n<br>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHEaGJJCv/EABYQAQEBAAAAAAAAAAAAAAAAAAEAEP/aAAgBAQABBQIMYmb/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAADAAMAAAAAAAAAAAAAAAAAAREhMVH/2gAIAQEAAT8hoh8Io7HybH//2gAMAwEAAgADAAAAEL/v/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERIUH/2gAIAQMBAT8Q2BKj/8QAFhEBAQEAAAAAAAAAAAAAAAAAABFB/9oACAECAQE/EMV//8QAGRABAQEBAQEAAAAAAAAAAAAAAQARITFh/9oACAEBAAE/EMHQuXg58iWBkjBfJDYyVrf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"topology-aware-routing-cover\" title=\"\" src=\"/static/22d537a84aef2176b19b1d7ab3202478/7bf67/topology-aware-routing.jpg\" srcset=\"/static/22d537a84aef2176b19b1d7ab3202478/651be/topology-aware-routing.jpg 170w,\n/static/22d537a84aef2176b19b1d7ab3202478/d30a3/topology-aware-routing.jpg 340w,\n/static/22d537a84aef2176b19b1d7ab3202478/7bf67/topology-aware-routing.jpg 680w,\n/static/22d537a84aef2176b19b1d7ab3202478/990cb/topology-aware-routing.jpg 1020w,\n/static/22d537a84aef2176b19b1d7ab3202478/e5166/topology-aware-routing.jpg 1200w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-impact-of-tar-on-network-traffic-in-amazoneks\" style=\"position:relative;\"><a href=\"#-impact-of-tar-on-network-traffic-in-amazoneks\" aria-label=\" impact of tar on network traffic in amazoneks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåê Impact of TAR on Network Traffic in Amazon¬†EKS</h2>\n<p>A best practice for architecting resilient systems in AWS is to leverage multiple Availability Zones (AZs). AWS Regions are composed of multiple AZs designed to be independent of each other and are separated by a meaningful physical distance to avoid correlated failure scenarios.</p>\n<p>AWS EKS makes it possible for customers to run their mission-critical workloads across multiple distinct AZs, providing increased availability by combining Amazon's global infrastructure with Kubernetes constructs such as pod topology spread constraints. However, when architecting workloads in this manner, there are considerations in terms of both latency and cost to consider. Pods within the same Amazon EKS cluster can easily communicate using a Kubernetes Cluster IP Service, which routes traffic to its associated pods even if they are in different AZs.</p>\n<p>Although this is a convenient way to take advantage of multiple AZs, some customers may want to bias traffic routing to pods in the same AZ as the originator. Keeping traffic in the same AZ benefits latency-sensitive workloads for low latency and can reduce inter-AZ data transfer costs.</p>\n<p>TAR is a feature that reached beta status in Kubernetes version 1.23 and became available in Amazon EKS version 1.24. It's intended to provide a mechanism that attempts to keep traffic closer to its origin within the same AZ or in another location.</p>\n<h2 id=\"Ô∏è-services-in-kubernetes\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-services-in-kubernetes\" aria-label=\"Ô∏è services in kubernetes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Services in Kubernetes</h2>\n<p>Let's begin by explaining how a Kubernetes Service operates before exploring TAR.</p>\n<p>When you create a Service, you define a selector to target specific pods. Kubernetes generates an Endpoints object, which maintains the IP addresses of the relevant pods. Subsequently, the Kubernetes controller assigns a Cluster IP to the Service‚Ää-‚Ääa virtual IP accessible only within the worker nodes of the Kubernetes cluster.</p>\n<p>The kube-proxy DaemonSet instance, running on each node, establishes a set of <a href=\"https://kubernetes.io/docs/reference/networking/virtual-ips/#proxy-modes\" target=\"_blank\" rel=\"noopener noreferrer\">iptables rules</a> (or IP Virtual Server (IPVS) virtual servers, if enabled). When traffic is directed at the Cluster IP (or enters the cluster via NodePort), either iptables or IPVS routes the packet to a pod based on its load balancing algorithm.</p>\n<p>By default, kube-proxy adds all pods from an Endpoints object to each node's iptables or IPVS, without considering factors like the availability zones (AZs) where the pods reside or the originating traffic zone.</p>\n<p>Consequently, packets are routed indiscriminately across AZs, potentially introducing latency and incurring inter-AZ data traffic costs.</p>\n<h2 id=\"-understanding-tar-functionality\" style=\"position:relative;\"><a href=\"#-understanding-tar-functionality\" aria-label=\" understanding tar functionality permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Understanding TAR Functionality</h2>\n<p>TAR offers a different way to route traffic by sending some endpoints to kube-proxy. It relies on the EndpointSlices controller, which is more flexible than the Endpoints controller. Endpoints in the Endpoints controller only have pod IP addresses and ports, but EndpointSlices can include hints. Hints are extra labels on each endpoint.</p>\n<p>TAR adds a hint about which zone the endpoint is in. When a hint is added, kube-proxy filters the endpoints based on these hints. Usually, it picks endpoints in the same zone. When traffic reaches kube-proxy, it is directed only to pods in the same zone, avoiding traffic costs.</p>\n<h3 id=\"hands-on-example\" style=\"position:relative;\"><a href=\"#hands-on-example\" aria-label=\"hands on example permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Hands-on example</h3>\n<p>In this walkthrough, you'll deploy an EKS cluster using Terraform. You can design your infrastructures as templates and use Terraform to provision, manage, and destroy them. Besides the cluster itself, Terraform also deploys the AWS Distro for <a href=\"https://aws-otel.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">OpenTelemetry (ADOT) Operator</a> via its <a href=\"https://github.com/aws-ia/terraform-aws-eks-blueprints-addons\" target=\"_blank\" rel=\"noopener noreferrer\">EKS Blueprints add-ons</a>. The ADOT Operator enables a simplified experience for instrumenting your applications running on Amazon EKS to capture metrics and tracing data.</p>\n<p>We'll use the ADOT Operator and AWS X-Ray to visualize the requests between workloads running on the Amazon EKS cluster. After the EKS cluster and its related infrastructure are created, we deploy the containers sample application, which shows traffic between separate front-end and back-end components. This allows us to explore how different configurations of the EKS worker nodes and pods affect TAR.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVR42m1Sy04DMQzki/kUfoB/4MSBA0c4IYEEQqpAQBF0u9Cm227edpLBSbU8JCKtHK+t8cw4B/jn5FLgIsF6D04JRfLfp+bMjNEY6EBQ210ZtUVKaXXw3ZQLsnwpZxBFbEaHq+cBxgdEyfeDpE8iM0nd4/59hNIGNsQ2kph/AKcjP2GshQsRyyG0qCUvJTewLAOddxiMR7+TunOVWZMQK6CWCZEsXu4sLk822A0OgQKUcZgtt8IwIgQHJYyOzhQeOgsmh9ERHnuDxVrhqd+VxcACKZK7rhcGG1ycdjg6vEG/2MJHJywDZl1lSsLCik8Gx+cd5v2IGGyT/Lr2sFZjqXRZmSzsBVDoNhkpZWlkYUsIMWJwAXM1QouHVmRJM0gGJfHPhwCS/rX2mH8q2Eh7yfSPh3Wr1ZdRJF+/6OZhBZg2XWOMAR8bg9s30+7Eew//LKX2T6+jbpp5z5yFyW+w6VlN9fYqmFtF7qsvCgNrrVuCBAkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"architecture\" title=\"\" src=\"/static/5f9bc54493477318b0f91ac674514614/c5bb3/architecture.png\" srcset=\"/static/5f9bc54493477318b0f91ac674514614/04472/architecture.png 170w,\n/static/5f9bc54493477318b0f91ac674514614/9f933/architecture.png 340w,\n/static/5f9bc54493477318b0f91ac674514614/c5bb3/architecture.png 680w,\n/static/5f9bc54493477318b0f91ac674514614/bcb8c/architecture.png 879w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Prerequisites</h3>\n<p>For this demo, you need the following:</p>\n<ul>\n<li>Basic understanding of Linux operating systems and Kubernetes.</li>\n<li>An AWS account.</li>\n<li>Administrator or equivalent access to deploy the required resources.</li>\n<li><a href=\"https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Command Line Interface (AWS CLI)</a> installed and configured.</li>\n<li><a href=\"https://learn.hashicorp.com/tutorials/terraform/install-cli\" target=\"_blank\" rel=\"noopener noreferrer\">Terraform CLI</a> installed.</li>\n<li><a href=\"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git\" target=\"_blank\" rel=\"noopener noreferrer\">Git CLI</a> installed.</li>\n<li><a href=\"https://kubernetes.io/docs/tasks/tools/install-kubectl/\" target=\"_blank\" rel=\"noopener noreferrer\">kubectl</a> and <a href=\"https://helm.sh/docs/intro/install/\" target=\"_blank\" rel=\"noopener noreferrer\">helm client</a> installed.</li>\n</ul>\n<h3 id=\"deploy-ekscluster\" style=\"position:relative;\"><a href=\"#deploy-ekscluster\" aria-label=\"deploy ekscluster permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deploy EKS¬†Cluster</h3>\n<p>We prepared a Terraform template to deploy Amazon EKS cluster and ADOT Operator. Start by cloning the sample source code repository from GitHub.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/seifrajhi/topology-aware-routing-tf\n<span class=\"token builtin class-name\">cd</span> topology-aware-routing-tf/terraform</code></pre></div>\n<p>Run the following command to deploy the cluster.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AWS_REGION</span><span class=\"token operator\">=</span><span class=\"token string\">\"eu-west-1\"</span>\nterraform init\nterraform plan\nterraform apply -auto-approve</code></pre></div>\n<p>Once the Terraform has completed, then you can set up kubectl by running this command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">aws eks <span class=\"token parameter variable\">--region</span> <span class=\"token variable\">$AWS_REGION</span> update-kubeconfig <span class=\"token parameter variable\">--name</span> tar-demo-cluster</code></pre></div>\n<h3 id=\"deploy-the-demoapp\" style=\"position:relative;\"><a href=\"#deploy-the-demoapp\" aria-label=\"deploy the demoapp permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deploy the Demo¬†App</h3>\n<p>Run the following command to deploy the sample application:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>/kubernetes\nkubectl apply --server-side <span class=\"token parameter variable\">-f</span> common.yaml\nkubectl apply --server-side <span class=\"token parameter variable\">-f</span> simple.yaml</code></pre></div>\n<p>Get the endpoint for UI component by running the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl get svc ui-lb <span class=\"token parameter variable\">-n</span> ui <span class=\"token parameter variable\">-o</span> <span class=\"token assign-left variable\">jsonpath</span><span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>.status.loadBalancer.ingress<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.hostname<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You can access the demo application by accessing this link. This displays an example online shopping site.</p>\n<h3 id=\"run-initial-loadtesting\" style=\"position:relative;\"><a href=\"#run-initial-loadtesting\" aria-label=\"run initial loadtesting permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Run Initial Load¬†Testing</h3>\n<p>Now we have deployed the EKS cluster and demo application, we can run a load test to simulate traffic and see how traffic between front-end and back-end is routed.</p>\n<p>We'll use <a href=\"https://github.com/rakyll/hey\" target=\"_blank\" rel=\"noopener noreferrer\">hey</a> to generate traffic, which is a small application that can send HTTP requests.</p>\n<p>Before you test TAR, you may want to know how traffic has been routed without TAR for comparison. You can determine this by performing a load test against this application, and traffic shows on AWS X-Ray service graph.</p>\n<p>Run load test against UI load balancer. Run the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">UI_ENDPOINT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>kubectl get svc ui-lb <span class=\"token parameter variable\">-n</span> ui <span class=\"token parameter variable\">-o</span> <span class=\"token assign-left variable\">jsonpath</span><span class=\"token operator\">=</span><span class=\"token string\">'{.status.loadBalancer.ingress[0].hostname}'</span><span class=\"token variable\">)</span></span>\nkubectl run load-generator <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>williamyeh/hey:latest <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--restart</span><span class=\"token operator\">=</span>Never -- <span class=\"token parameter variable\">-c</span> <span class=\"token number\">10</span> <span class=\"token parameter variable\">-q</span> <span class=\"token number\">5</span> <span class=\"token parameter variable\">-z</span> 60m http://<span class=\"token variable\">$UI_ENDPOINT</span>/home</code></pre></div>\n<h3 id=\"enable-tar-and-re-run-loadtesting\" style=\"position:relative;\"><a href=\"#enable-tar-and-re-run-loadtesting\" aria-label=\"enable tar and re run loadtesting permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Enable TAR and Re-run Load¬†Testing</h3>\n<p>Enabling TAR is easy: simply set the <code class=\"language-text\">service.kubernetes.io/topology-mode</code> annotation to <code class=\"language-text\">Auto</code> on a Service. The EndpointSlice controller will try to assign hints to each endpoint in an EndpointSlice to steer traffic to Pods within a given zone. It's important to understand the <a href=\"https://kubernetes.io/docs/concepts/services-networking/topology-aware-routing/#safeguards\" target=\"_blank\" rel=\"noopener noreferrer\">safeguards</a> and <a href=\"https://kubernetes.io/docs/concepts/services-networking/topology-aware-routing/#constraints\" target=\"_blank\" rel=\"noopener noreferrer\">constraints</a> implemented by the EndpointSlice controller and the kube-proxy, especially if routing isn't working as you expect.</p>\n<blockquote>\n<p><strong>Note:</strong> Prior to Kubernetes 1.27, this behavior was controlled using the <code class=\"language-text\">service.kubernetes.io/topology-aware-hints</code> annotation.</p>\n</blockquote>\n<p>Now let's enable TAR and re-run the load test to see if that improves traffic routing. Run the following command to enable TAR on the catalog Service:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl <span class=\"token parameter variable\">-n</span> catalog annotate svc catalog service.kubernetes.io/topology-mode<span class=\"token operator\">=</span>Auto</code></pre></div>\n<p>You can run the following command to check if hints are set:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl get endpointslices <span class=\"token parameter variable\">-l</span> kubernetes.io/service-name<span class=\"token operator\">=</span>catalog <span class=\"token parameter variable\">-n</span> catalog <span class=\"token parameter variable\">-o</span> yaml</code></pre></div>\n<p>You'll get results similar to the following example. If you see hints and a corresponding AZ name, then the TAR is enabled and was successfully activated.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">addressType</span><span class=\"token punctuation\">:</span> IPv4\n<span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> discovery.k8s.io/v1\n<span class=\"token key atrule\">endpoints</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">addresses</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> 10.0.10.100\n  <span class=\"token key atrule\">conditions</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ready</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">serving</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">terminating</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">hints</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">forZones</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> eu<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span>1a</code></pre></div>\n<p>The control plane is very conservative about TAR decisions. If you run into issues, such as errors in the Service events or you find that hints are not populating on the EndpointSlice, then you should double-check that your topology labels have been applied and that Nodes are reporting values for allocatable CPU.</p>\n<p>Re-run the load test with the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">UI_ENDPOINT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>kubectl get svc ui-lb <span class=\"token parameter variable\">-n</span> ui <span class=\"token parameter variable\">-o</span> <span class=\"token assign-left variable\">jsonpath</span><span class=\"token operator\">=</span><span class=\"token string\">'{.status.loadBalancer.ingress[0].hostname}'</span><span class=\"token variable\">)</span></span>\nkubectl run load-generator <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>williamyeh/hey:latest <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--restart</span><span class=\"token operator\">=</span>Never -- <span class=\"token parameter variable\">-c</span> <span class=\"token number\">10</span> <span class=\"token parameter variable\">-q</span> <span class=\"token number\">5</span> <span class=\"token parameter variable\">-z</span> 60m http://<span class=\"token variable\">$UI_ENDPOINT</span>/home</code></pre></div>\n<p>Now you know that each UI pod only talks to one catalog pod. You can also find that UI pod always talks to catalog pod that resides on the same AZ. No inter-AZ data traffic cost is incurred in this scenario.</p>\n<h2 id=\"-endnotes\" style=\"position:relative;\"><a href=\"#-endnotes\" aria-label=\" endnotes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîö End¬†Notes</h2>\n<p>Topology Aware Routing is a useful feature in Kubernetes that helps manage traffic flow by keeping it within the same zone where it originated. While it may not be suitable for every workload, it can be beneficial in environments with evenly distributed zonal traffic.</p>\n<p>In this blog post, we explored TAR and its effects on network traffic routing in Amazon EKS. We also provided a walkthrough on how to enable TAR for a Service and minimize the performance impact of overlay networking.</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next talk.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this talk feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/discord-cassandra-to-scylladb/","title":"Scaling Trillions of Messages: Discord's Journey from Cassandra to ScyllaDB with Rust-Powered Solutions üöÄ","date":"2024-11-01 17:06:00"},"excerpt":"An Epic Journey from Cassandra to ScyllaDB with Rusty Reinforcements üöÄ üî∞ Overview In the world of messaging platforms, Discord stands as a‚Ä¶","html":"<blockquote>\n<p><strong>An Epic Journey from Cassandra to ScyllaDB with Rusty Reinforcements üöÄ</strong></p>\n</blockquote>\n<h2 id=\"-overview\" style=\"position:relative;\"><a href=\"#-overview\" aria-label=\" overview permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üî∞ Overview</h2>\n<p>In the world of messaging platforms, <a href=\"https://discord.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Discord</a> stands as a leader, connecting millions of users worldwide.</p>\n<p>However, as the user base expanded, Discord encountered a daunting challenge: handling trillions of messages efficiently ü§î.</p>\n<p>The existing database system, Cassandra, struggled with hot partitions, causing slowdowns and hindering performance.</p>\n<p>Discord's solution? Starting on a transformative journey, migrating to <a href=\"https://www.scylladb.com/\" target=\"_blank\" rel=\"noopener noreferrer\">ScyllaDB</a>, and leveraging the power of Rust.</p>\n<h2 id=\"-goals--objectives\" style=\"position:relative;\"><a href=\"#-goals--objectives\" aria-label=\" goals  objectives permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üéØ Goals &#x26; Objectives</h2>\n<p>This blog dives into Discord's pursuit of scalability, exploring the situation, the complications faced, and the resolute path taken to revolutionize message storage at an unprecedented scale, inspired by <a href=\"https://discord.com/blog/how-discord-stores-trillions-of-messages\" target=\"_blank\" rel=\"noopener noreferrer\">Bo Ingram's post</a>.</p>\n<h2 id=\"-from-mongodb-to-scylladb-discords-evolutionary-messaging-storage\" style=\"position:relative;\"><a href=\"#-from-mongodb-to-scylladb-discords-evolutionary-messaging-storage\" aria-label=\" from mongodb to scylladb discords evolutionary messaging storage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìà From MongoDB to ScyllaDB: Discord's Evolutionary Messaging Storage</h2>\n<p>The diagram below shows the evolution of message storage at Discord:</p>\n<p><strong>MongoDB ‚û°Ô∏è Cassandra ‚û°Ô∏è ScyllaDB üéâ</strong></p>\n<p>In the early days of Discord's inception in 2015, the platform relied on a single MongoDB replica for message storage. However, as the number of messages grew to 100 million by November 2015, the limitations of MongoDB became apparent. The data and index became too large for the available RAM, resulting in unpredictable latency. It became necessary to migrate message storage to a more suitable database solution, and Cassandra was selected.</p>\n<p>By 2017, Discord had transitioned to Cassandra, employing a cluster of 12 nodes to store billions of messages. As the platform continued to experience exponential growth, by the start of 2022, Discord's message count had skyrocketed into the trillions, necessitating a substantial increase in infrastructure. With 177 nodes at this stage, latency became increasingly unpredictable, and the cost of maintenance operations became prohibitively expensive.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 540px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 149.41176470588235%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGgAAAgIDAAAAAAAAAAAAAAAAAAUBAwIEBv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFpCSU6UWCr6GNRuGBH/8QAGRAAAwEBAQAAAAAAAAAAAAAAAQIDEhEA/9oACAEBAAEFAg2jsaHqNxw3pV6tJkEa7KJUWkxNZPQxm6r/AP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EAB4QAAMAAQUBAQAAAAAAAAAAAAABEQISITFhgRCh/9oACAEBAAY/AsknwS7/ADN65Wcnp224aaPtm0LMV6R5fp//xAAdEAACAgIDAQAAAAAAAAAAAAABEQAhMWFBUZHB/9oACAEBAAE/IQPImjqJfsDiAVBhCZw7hkDf2Orwk422tuAYpurx7KdCYLjeVCSL3MjHIBH5DFi+0//aAAwDAQACAAMAAAAQPA0+/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERECH/2gAIAQMBAT8Q7lqKz//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAECAQE/ECH/xAAfEAEAAwACAgMBAAAAAAAAAAABABEhMVFBYXGBsdH/2gAIAQEAAT8QYjUopbqLV84LOfcOmo7rcWBCzwO8dQund00fKS/2ehxhFSnsqHf3GejYqoN5+oNbGouIfyU814sq7HiOwNXYD5YHguNJRQdep//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Cassandra\" title=\"\" src=\"/static/3540d420b1cfa09df19596f9e600e3c7/09d21/cassandra.jpg\" srcset=\"/static/3540d420b1cfa09df19596f9e600e3c7/651be/cassandra.jpg 170w,\n/static/3540d420b1cfa09df19596f9e600e3c7/d30a3/cassandra.jpg 340w,\n/static/3540d420b1cfa09df19596f9e600e3c7/09d21/cassandra.jpg 540w\" sizes=\"(max-width: 540px) 100vw, 540px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>Cassandra</strong> is a distributed database system designed for scalability and fault-tolerance, capable of handling massive amounts of data across multiple servers or nodes.</p>\n<h3 id=\"discords-issue-with-cassandra\" style=\"position:relative;\"><a href=\"#discords-issue-with-cassandra\" aria-label=\"discords issue with cassandra permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Discord's Issue with Cassandra</h3>\n<p>Discord faced problems with hot partitions in Cassandra, where a particular part of the database became overloaded with requests, causing slow performance for the entire application.</p>\n<p>The issue at hand can be attributed to several factors:</p>\n<ul>\n<li>Cassandra's internal data structure utilizes the LSM tree, which makes reads more expensive than writes. Concurrent reads from numerous users on a single server can lead to hotspots and performance degradation.</li>\n<li>Maintenance tasks, such as SSTable compaction, have an impact on overall performance, adding to the challenges faced.</li>\n<li>Latency spikes can be attributed to garbage collection pauses, further exacerbating the problem.</li>\n</ul>\n<p>In response, Discord undertook a redesign of its architecture, incorporating various components. This included a monolithic API, a data service implemented in Rust, and a storage system based on ScyllaDB, a Cassandra-compatible database developed in C++.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.47058823529413%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwEC/9oADAMBAAIQAxAAAAHTKaZRZ1Cn/8QAHBABAQABBQEAAAAAAAAAAAAAAgMBAAQREyIj/9oACAEBAAEFAu3I01zRTazuPFEvpOYc/wD/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEC/9oACAEDAQE/AXnAbb//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERIQIxcf/aAAgBAQAGPwLRckrEo4JtH//EABwQAQEAAgIDAAAAAAAAAAAAAAERACExQVFxof/aAAgBAQABPyECXYvXWNsCbCZPl94KHDxlFSwHzN61M//aAAwDAQACAAMAAAAQDN//xAAVEQEBAAAAAAAAAAAAAAAAAAAQYf/aAAgBAwEBPxCyj//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QSpg//8QAGxABAAIDAQEAAAAAAAAAAAAAAREhADFxQVH/2gAIAQEAAT8QJ2tn0ElruU7nEsEOu5erlsW+zzJwSiReYgpl87CRgjNi59z/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"choice\" title=\"\" src=\"/static/43c045713dbd2c06cf74a0f78c1a4db5/7bf67/choice.jpg\" srcset=\"/static/43c045713dbd2c06cf74a0f78c1a4db5/651be/choice.jpg 170w,\n/static/43c045713dbd2c06cf74a0f78c1a4db5/d30a3/choice.jpg 340w,\n/static/43c045713dbd2c06cf74a0f78c1a4db5/7bf67/choice.jpg 680w,\n/static/43c045713dbd2c06cf74a0f78c1a4db5/990cb/choice.jpg 1020w,\n/static/43c045713dbd2c06cf74a0f78c1a4db5/72e01/choice.jpg 1024w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>ScyllaDB</strong>: ScyllaDB is a high-performance distributed NoSQL database similar to Cassandra. It uses a shared-nothing architecture and offers more efficient storage and query capabilities, reducing the occurrence of hot partitions.</p>\n<p>The adoption of ScyllaDB brought significant improvements. The p99 (99th percentile) read latency in ScyllaDB reduced to 15ms, compared to 40‚Äì125ms in Cassandra. Likewise, the p99 write latency decreased to 5ms, compared to 5‚Äì70ms in Cassandra. These enhancements in latency highlight the positive impact of transitioning to ScyllaDB.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECBQME/8QAGAEAAgMAAAAAAAAAAAAAAAAAAQIAAwT/2gAMAwEAAhADEAAAAfTOdUXajJK8dBNNRD//xAAZEAEBAAMBAAAAAAAAAAAAAAACAQAQESH/2gAIAQEAAQUCQVqCuSeC9PNTf//EABsRAAIBBQAAAAAAAAAAAAAAAAABAgMQERNh/9oACAEDAQE/AaUMs0dFb//EABgRAAIDAAAAAAAAAAAAAAAAAAACEBIh/9oACAECAQE/AWbC0//EABoQAAICAwAAAAAAAAAAAAAAAAABESECICL/2gAIAQEABj8CrKBdFkNbf//EABsQAQADAAMBAAAAAAAAAAAAAAEAETEgIVFx/9oACAEBAAE/IbnQ+wimCt2OAVvtwtgyp1E4f//aAAwDAQACAAMAAAAQU/D+/8QAGREBAAIDAAAAAAAAAAAAAAAAAQAREDGh/9oACAEDAQE/EFVGkjZt4mmP/8QAGREBAAIDAAAAAAAAAAAAAAAAAQAQETFh/9oACAECAQE/EMgHUOI1/8QAHhABAAIBBAMAAAAAAAAAAAAAAQARMSFRYZFBgfD/2gAIAQEAAT8QxzIUEJoHt6hq3YLAsoayhFBG+PjuJHIHO8Aapnhyy2+5n1P/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"rust\" title=\"\" src=\"/static/3f27468168e1aa6c78f60874d03c3dc1/7bf67/rust.jpg\" srcset=\"/static/3f27468168e1aa6c78f60874d03c3dc1/651be/rust.jpg 170w,\n/static/3f27468168e1aa6c78f60874d03c3dc1/d30a3/rust.jpg 340w,\n/static/3f27468168e1aa6c78f60874d03c3dc1/7bf67/rust.jpg 680w,\n/static/3f27468168e1aa6c78f60874d03c3dc1/4b190/rust.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Discord engineers wrote data services in Rust, using its fearless concurrency feature to control concurrent traffic to hot partitions. Rust's libraries and ability to write safe concurrent code were well-suited to Discord's needs. The data services acted as intermediary services between the API monolith and database clusters, providing request coalescing to minimize multiple queries to the database.</p>\n<h2 id=\"-how-discord-stores-trillions-of-messages\" style=\"position:relative;\"><a href=\"#-how-discord-stores-trillions-of-messages\" aria-label=\" how discord stores trillions of messages permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîπ How Discord Stores Trillions Of Messages</h2>\n<p>Overall, Discord's migration to ScyllaDB and the use of Rust for controlling concurrent traffic were key steps in addressing the challenges they faced with storing trillions of messages and improving database performance.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 84.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH27cG0HTIAf//EABkQAAIDAQAAAAAAAAAAAAAAAAARAhAgMf/aAAgBAQABBQJHKRLP/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFBABAAAAAAAAAAAAAAAAAAAAMP/aAAgBAQAGPwIf/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERITFRIEHh/9oACAEBAAE/IavweiyXpERJd9Cxw//aAAwDAQACAAMAAAAQ4McA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAQACAwEBAAAAAAAAAAAAAREAIRAxQVHB/9oACAEBAAE/EGD2vxkgO5uFwj8HFtlEaNcD4tunLiy+64e+P//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"performance\" title=\"\" src=\"/static/ff17549fcaeb944e26e28d5dc14d5583/7bf67/performance.jpg\" srcset=\"/static/ff17549fcaeb944e26e28d5dc14d5583/651be/performance.jpg 170w,\n/static/ff17549fcaeb944e26e28d5dc14d5583/d30a3/performance.jpg 340w,\n/static/ff17549fcaeb944e26e28d5dc14d5583/7bf67/performance.jpg 680w,\n/static/ff17549fcaeb944e26e28d5dc14d5583/4b190/performance.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<div class=\"image-title\">Image creds: ByteByteGo</div>\n<h2 id=\"-references\" style=\"position:relative;\"><a href=\"#-references\" aria-label=\" references permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö References</h2>\n<ul>\n<li><a href=\"https://discord.com/blog\" target=\"_blank\" rel=\"noopener noreferrer\">Discord Blog</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=some-video\" target=\"_blank\" rel=\"noopener noreferrer\">Cassandra Video</a></li>\n<li><a href=\"https://www.youtube.com/channel/UCsome-channel\" target=\"_blank\" rel=\"noopener noreferrer\">ScyllaDB YouTube Channel</a></li>\n<li><a href=\"https://bytebytego.com/\" target=\"_blank\" rel=\"noopener noreferrer\">ByteByteGo</a></li>\n</ul>\n<h2 id=\"-wrapping-up\" style=\"position:relative;\"><a href=\"#-wrapping-up\" aria-label=\" wrapping up permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üëè Wrapping Up</h2>\n<p>Discord embarked on an extraordinary journey, transitioning from Cassandra to ScyllaDB, and leveraging the power of Rust to scale trillions of messages. This migration showcases the effectiveness of Rust in developing resilient solutions üóí</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}