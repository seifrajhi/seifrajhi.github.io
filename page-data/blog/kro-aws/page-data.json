{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/kro-aws/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Simplify Kubernetes Resource Management with kro by AWS</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚ö° Introduction</h2>\n<p><a href=\"https://aws.amazon.com/blogs/opensource/introducing-open-source-kro-kube-resource-orchestrator/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS recently introduced Kube Resource Orchestrator (kro)</a> that simplifies managing Kubernetes resources. kro allows you to define and manage complex Kubernetes resources as reusable components, making your life easier and your deployments more efficient.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACoElEQVR42k1T2U5TURS9f+KbD2KpEFNAEAhjMAYbqHa6Q2cgSCIlQVIGoe3tBI1ATEAU44MhanwxcXgwQSZLoASqLWCnSAzE4YH4B8t9TxF8WHefnLPO2mevvS8nyF9g8sYhBHZh9m5DPxqjdRLGsTh4+TP4QAqCnIIY3KeYhBj6CpGiybdTWAd3IdAZW4f2wbUK01CVNaOo2QZ1o4DyOgPqjAFUtvaiuFqH4hoDrmr7UELn5U02XGq0o+bmEFRXtCjTunG5yYHSFicqGm2otj8Ad8Myg6KKFlyobsPFWj3UVe0oIlE1EVSUoN7gReX1HhRr6lFKAprKNpwrqUKVthfqWhMapAmoNNdwXtOAWtcsONGXgHloFfrBZdzqe4vWnhfQedbQ3v8BhqEVCFSaaXAFpuE1GEc3wQ/HaH8Von8Hur53MI9uwDyyzqJiFSeFM7BEsrASbPdzECPf4JnL4vZ0HlI4B0s4Tee5E2RPoxDKQev/A3Pw4ISTZZGTFDPJeJ6aYZl/A6O8hU9bB4gu7EI3loGSUOFIZLwCpTlWunj38Q/Yo0dwzxzBFaUEgX3G4wrkPfBjG5gIP4IzsImFpTSiz3bg8K+hK7wO3p8sCLKu7sE6nsfAk2M4o98hLxyjc/KA7Z8KinKCeaKfTcMUSsL/PAbffBy2kffokBfBk88S+WNRuGGyZuonhPFDuOd+wzF5iDtzvyBEqHRlbCT6CL5tBvfTl3QhjlevV+F9GIPen2cCEpXIKiFYaSa7qUQHvagzmoedXt41QRxvigT3zkpW0D21RMOZQv/0BpESNLBpRlKSMh4JO+6twzmwCBdNhYO67/Isw0mxw/MRFvo5uH+ZFQiBHMU0ExKCZ/v/Q4xkII4r05Cl12cKMZJjUDz8C5K4OHjGJcChAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"alt text\" title=\"\" src=\"/static/b45c2eb83b98e4a693e092d6a41058af/c5bb3/kro-cover.png\" srcset=\"/static/b45c2eb83b98e4a693e092d6a41058af/04472/kro-cover.png 170w,\n/static/b45c2eb83b98e4a693e092d6a41058af/9f933/kro-cover.png 340w,\n/static/b45c2eb83b98e4a693e092d6a41058af/c5bb3/kro-cover.png 680w,\n/static/b45c2eb83b98e4a693e092d6a41058af/b12f7/kro-cover.png 1020w,\n/static/b45c2eb83b98e4a693e092d6a41058af/b5a09/kro-cover.png 1360w,\n/static/b45c2eb83b98e4a693e092d6a41058af/36405/kro-cover.png 2486w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"what-is-kro\" style=\"position:relative;\"><a href=\"#what-is-kro\" aria-label=\"what is kro permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>What is kro?</h2>\n<p><a href=\"https://kro.run/\" target=\"_blank\" rel=\"noopener noreferrer\">Kube Resource Orchestrator (kro)</a> is an open-source project by AWS that helps you create and manage custom groups of Kubernetes resources. By defining these groups as ResourceGroups, you can deploy multiple resources together in a consistent and controlled way.</p>\n<h2 id=\"how-does-kro-work\" style=\"position:relative;\"><a href=\"#how-does-kro-work\" aria-label=\"how does kro work permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How does kro work?</h2>\n<p>kro uses core Kubernetes primitives to simplify resource grouping and dependency management. When you apply a ResourceGroup to your cluster, kro:</p>\n<ol>\n<li>Verifies the ResourceGroup specification.</li>\n<li>Creates a new Custom Resource Definition (CRD).</li>\n<li>Deploys a dedicated controller to manage the lifecycle of the resources.</li>\n</ol>\n<h2 id=\"resourcegroups\" style=\"position:relative;\"><a href=\"#resourcegroups\" aria-label=\"resourcegroups permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>ResourceGroups</h2>\n<p><a href=\"https://kro.run/docs/concepts/resource-groups\" target=\"_blank\" rel=\"noopener noreferrer\">A ResourceGroup</a> is the fundamental building block in kro. It allows you to define, organize, and manage sets of related Kubernetes resources as a single, reusable unit. A ResourceGroup acts as a blueprint, defining:</p>\n<ul>\n<li><strong>Schema</strong>: What users can configure.</li>\n<li><strong>Resources</strong>: What resources to create.</li>\n<li><strong>Dependencies</strong>: How resources reference each other.</li>\n<li><strong>Conditions</strong>: When resources should be included.</li>\n<li><strong>Status</strong>: What status to expose.</li>\n</ul>\n<h3 id=\"anatomy-of-a-resourcegroup\" style=\"position:relative;\"><a href=\"#anatomy-of-a-resourcegroup\" aria-label=\"anatomy of a resourcegroup permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Anatomy of a ResourceGroup</h3>\n<p>A ResourceGroup consists of three main parts:</p>\n<ol>\n<li><strong>Metadata</strong>: Includes name, namespace, labels, etc.</li>\n<li><strong>Spec</strong>: Defines the structure and properties of the ResourceGroup.</li>\n<li><strong>Status</strong>: Reflects the current state of the ResourceGroup.</li>\n</ol>\n<p>The <code class=\"language-text\">spec</code> section contains:</p>\n<ul>\n<li><strong>Schema</strong>: Defines the API structure, including fields users can configure and status information.</li>\n<li><strong>Resources</strong>: Specifies the Kubernetes resources to create, their templates, dependencies, conditions for inclusion, and readiness criteria.</li>\n</ul>\n<h3 id=\"example-resourcegroup\" style=\"position:relative;\"><a href=\"#example-resourcegroup\" aria-label=\"example resourcegroup permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Example ResourceGroup</h3>\n<p>Here's an example of a ResourceGroup that includes a Deployment, Service, and Ingress:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> kro.run/v1alpha1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> ResourceGroup\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>application\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1alpha1\n    <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Application\n    <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> string\n      <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> string <span class=\"token punctuation\">|</span> default=\"nginx\"\n      <span class=\"token key atrule\">ingress</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> boolean <span class=\"token punctuation\">|</span> default=false\n    <span class=\"token key atrule\">status</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">deploymentConditions</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>deployment.status.conditions<span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">availableReplicas</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>deployment.status.availableReplicas<span class=\"token punctuation\">}</span>\n  <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> deployment\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> apps/v1\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Deployment\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">replicas</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n          <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n            <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n                  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.image<span class=\"token punctuation\">}</span>\n                  <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">containerPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> service\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Service\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>service\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>deployment.spec.selector.matchLabels<span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">protocol</span><span class=\"token punctuation\">:</span> TCP\n              <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n              <span class=\"token key atrule\">targetPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> ingress\n      <span class=\"token key atrule\">includeWhen</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> $<span class=\"token punctuation\">{</span>schema.spec.ingress.enabled<span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> networking.k8s.io/v1\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Ingress\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>ingress\n          <span class=\"token key atrule\">annotations</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">kubernetes.io/ingress.class</span><span class=\"token punctuation\">:</span> alb\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/scheme</span><span class=\"token punctuation\">:</span> internet<span class=\"token punctuation\">-</span>facing\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/target-type</span><span class=\"token punctuation\">:</span> ip\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/healthcheck-path</span><span class=\"token punctuation\">:</span> /health\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/listen-ports</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'[{\"HTTP\": 80}]'</span>\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/target-group-attributes</span><span class=\"token punctuation\">:</span> stickiness.enabled=true<span class=\"token punctuation\">,</span>stickiness.lb_cookie.duration_seconds=60\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">http</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n                  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/\"</span>\n                    <span class=\"token key atrule\">pathType</span><span class=\"token punctuation\">:</span> Prefix\n                    <span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n                      <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>service.metadata.name<span class=\"token punctuation\">}</span>\n                        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span>\n                          <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></code></pre></div>\n<h2 id=\"resourcegroup-instances\" style=\"position:relative;\"><a href=\"#resourcegroup-instances\" aria-label=\"resourcegroup instances permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>ResourceGroup Instances</h2>\n<p>Once kro processes your ResourceGroup, it creates a new API in your cluster. Users can then create <a href=\"https://kro.run/docs/concepts/instances\" target=\"_blank\" rel=\"noopener noreferrer\">instances</a> of this API to deploy resources in a consistent, controlled way. An instance represents your deployed application and contains your configuration values, serving as the single source of truth for your application's desired state.</p>\n<h3 id=\"example-resourcegroup-instance\" style=\"position:relative;\"><a href=\"#example-resourcegroup-instance\" aria-label=\"example resourcegroup instance permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Example ResourceGroup Instance</h3>\n<p>Here's an example of how an instance for the SimpleWebApp might look:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> kro.run/v1alpha1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> SimpleWebApp\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>web<span class=\"token punctuation\">-</span>app\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">appName</span><span class=\"token punctuation\">:</span> awesome<span class=\"token punctuation\">-</span>app\n  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx<span class=\"token punctuation\">:</span>latest\n  <span class=\"token key atrule\">replicas</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span></code></pre></div>\n<h2 id=\"getting-started-with-kro\" style=\"position:relative;\"><a href=\"#getting-started-with-kro\" aria-label=\"getting started with kro permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Getting Started with kro</h2>\n<h3 id=\"installation\" style=\"position:relative;\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation</h3>\n<p>To install kro, you need Helm and kubectl configured for your Kubernetes cluster. Follow these steps:</p>\n<ol>\n<li>\n<p><strong>Fetch the latest release version:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">KRO_VERSION</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-sL</span> https://api.github.com/repos/awslabs/kro/releases/latest <span class=\"token operator\">|</span> jq <span class=\"token parameter variable\">-r</span> <span class=\"token string\">'.tag_name | ltrimstr(\"v\")'</span><span class=\"token variable\">)</span></span></code></pre></div>\n</li>\n<li>\n<p><strong>Install kro using Helm:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm <span class=\"token function\">install</span> kro oci://public.ecr.aws/kro/kro <span class=\"token parameter variable\">--namespace</span> kro --create-namespace <span class=\"token parameter variable\">--version</span><span class=\"token operator\">=</span><span class=\"token variable\">${KRO_VERSION}</span></code></pre></div>\n</li>\n<li>\n<p><strong>Verify the installation:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm <span class=\"token parameter variable\">-n</span> kro list\nkubectl get pods <span class=\"token parameter variable\">-n</span> kro</code></pre></div>\n</li>\n</ol>\n<h3 id=\"creating-your-first-resourcegroup\" style=\"position:relative;\"><a href=\"#creating-your-first-resourcegroup\" aria-label=\"creating your first resourcegroup permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Creating Your First ResourceGroup</h3>\n<ol>\n<li>\n<p><strong>Define a ResourceGroup:</strong>\nSave the following as <code class=\"language-text\">resourcegroup.yaml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> kro.run/v1alpha1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> ResourceGroup\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>application\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1alpha1\n    <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Application\n    <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> string\n      <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> string <span class=\"token punctuation\">|</span> default=\"nginx\"\n      <span class=\"token key atrule\">ingress</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> boolean <span class=\"token punctuation\">|</span> default=false\n    <span class=\"token key atrule\">status</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">deploymentConditions</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>deployment.status.conditions<span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">availableReplicas</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>deployment.status.availableReplicas<span class=\"token punctuation\">}</span>\n  <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> deployment\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> apps/v1\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Deployment\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">replicas</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n          <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n            <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span>\n                  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.image<span class=\"token punctuation\">}</span>\n                  <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">containerPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> service\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Service\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>service\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>deployment.spec.selector.matchLabels<span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">protocol</span><span class=\"token punctuation\">:</span> TCP\n              <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n              <span class=\"token key atrule\">targetPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> ingress\n      <span class=\"token key atrule\">includeWhen</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> $<span class=\"token punctuation\">{</span>schema.spec.ingress.enabled<span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> networking.k8s.io/v1\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Ingress\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>schema.spec.name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>ingress\n          <span class=\"token key atrule\">annotations</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">kubernetes.io/ingress.class</span><span class=\"token punctuation\">:</span> alb\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/scheme</span><span class=\"token punctuation\">:</span> internet<span class=\"token punctuation\">-</span>facing\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/target-type</span><span class=\"token punctuation\">:</span> ip\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/healthcheck-path</span><span class=\"token punctuation\">:</span> /health\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/listen-ports</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'[{\"HTTP\": 80}]'</span>\n            <span class=\"token key atrule\">alb.ingress.kubernetes.io/target-group-attributes</span><span class=\"token punctuation\">:</span> stickiness.enabled=true<span class=\"token punctuation\">,</span>stickiness.lb_cookie.duration_seconds=60\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">http</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n                  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/\"</span>\n                    <span class=\"token key atrule\">pathType</span><span class=\"token punctuation\">:</span> Prefix\n                    <span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n                      <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>service.metadata.name<span class=\"token punctuation\">}</span>\n                        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span>\n                          <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></code></pre></div>\n</li>\n<li>\n<p><strong>Apply the ResourceGroup:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl apply <span class=\"token parameter variable\">-f</span> resourcegroup.yaml</code></pre></div>\n</li>\n<li>\n<p><strong>Inspect the ResourceGroup:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get rg my-application <span class=\"token parameter variable\">-o</span> wide</code></pre></div>\n</li>\n</ol>\n<h3 id=\"creating-an-application-instance\" style=\"position:relative;\"><a href=\"#creating-an-application-instance\" aria-label=\"creating an application instance permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Creating an Application Instance</h3>\n<ol>\n<li>\n<p><strong>Define an Application instance:</strong>\nSave the following as <code class=\"language-text\">instance.yaml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> kro.run/v1alpha1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Application\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>application<span class=\"token punctuation\">-</span>instance\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>awesome<span class=\"token punctuation\">-</span>app\n  <span class=\"token key atrule\">ingress</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n</li>\n<li>\n<p><strong>Apply the Application instance:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl apply <span class=\"token parameter variable\">-f</span> instance.yaml</code></pre></div>\n</li>\n<li>\n<p><strong>Inspect the Application instance:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get applications</code></pre></div>\n</li>\n<li>\n<p><strong>Inspect the resources:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get deployments,services,ingresses</code></pre></div>\n</li>\n</ol>\n<h3 id=\"deleting-the-application-instance\" style=\"position:relative;\"><a href=\"#deleting-the-application-instance\" aria-label=\"deleting the application instance permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deleting the Application Instance</h3>\n<p>To clean up resources, delete the Application instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl delete application my-application-instance</code></pre></div>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåü Conclusion</h2>\n<p>kro by AWS simplifies Kubernetes resource management by allowing you to define and manage complex resource configurations as reusable components. Whether you're deploying simple applications or complex multi-service architectures, kro can help streamline your Kubernetes operations.</p>\n<h2 id=\"-community-participation\" style=\"position:relative;\"><a href=\"#-community-participation\" aria-label=\" community participation permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåê Community Participation</h2>\n<p>Development and discussion are coordinated in the <a href=\"https://communityinviter.com/apps/kubernetes/community\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes Slack (invite link)</a> channel <a href=\"https://kubernetes.slack.com/archives/XXX-TBD\" target=\"_blank\" rel=\"noopener noreferrer\">#kro</a> channel.</p>\n<p>We welcome questions, suggestions, and contributions from the community! To get involved, check out our contributing guide. For bugs or feature requests, feel free to submit an issue. You‚Äôre also invited to join our community.</p>\n<h2 id=\"-documentation\" style=\"position:relative;\"><a href=\"#-documentation\" aria-label=\" documentation permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö Documentation</h2>\n<p>For more detailed information, check out the following resources:</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":5,"rawMarkdownBody":"\n> **Simplify Kubernetes Resource Management with kro by AWS**\n\n## ‚ö° Introduction\n\n[AWS recently introduced Kube Resource Orchestrator (kro)](https://aws.amazon.com/blogs/opensource/introducing-open-source-kro-kube-resource-orchestrator/) that simplifies managing Kubernetes resources. kro allows you to define and manage complex Kubernetes resources as reusable components, making your life easier and your deployments more efficient.\n\n![alt text](kro-cover.png)\n\n## What is kro?\n\n[Kube Resource Orchestrator (kro)](https://kro.run/) is an open-source project by AWS that helps you create and manage custom groups of Kubernetes resources. By defining these groups as ResourceGroups, you can deploy multiple resources together in a consistent and controlled way.\n\n## How does kro work?\n\nkro uses core Kubernetes primitives to simplify resource grouping and dependency management. When you apply a ResourceGroup to your cluster, kro:\n\n1. Verifies the ResourceGroup specification.\n2. Creates a new Custom Resource Definition (CRD).\n3. Deploys a dedicated controller to manage the lifecycle of the resources.\n\n## ResourceGroups\n\n[A ResourceGroup](https://kro.run/docs/concepts/resource-groups) is the fundamental building block in kro. It allows you to define, organize, and manage sets of related Kubernetes resources as a single, reusable unit. A ResourceGroup acts as a blueprint, defining:\n\n- **Schema**: What users can configure.\n- **Resources**: What resources to create.\n- **Dependencies**: How resources reference each other.\n- **Conditions**: When resources should be included.\n- **Status**: What status to expose.\n\n### Anatomy of a ResourceGroup\n\nA ResourceGroup consists of three main parts:\n\n1. **Metadata**: Includes name, namespace, labels, etc.\n2. **Spec**: Defines the structure and properties of the ResourceGroup.\n3. **Status**: Reflects the current state of the ResourceGroup.\n\nThe `spec` section contains:\n\n- **Schema**: Defines the API structure, including fields users can configure and status information.\n- **Resources**: Specifies the Kubernetes resources to create, their templates, dependencies, conditions for inclusion, and readiness criteria.\n\n### Example ResourceGroup\n\nHere's an example of a ResourceGroup that includes a Deployment, Service, and Ingress:\n\n```yaml\napiVersion: kro.run/v1alpha1\nkind: ResourceGroup\nmetadata:\n  name: my-application\nspec:\n  schema:\n    apiVersion: v1alpha1\n    kind: Application\n    spec:\n      name: string\n      image: string | default=\"nginx\"\n      ingress:\n        enabled: boolean | default=false\n    status:\n      deploymentConditions: ${deployment.status.conditions}\n      availableReplicas: ${deployment.status.availableReplicas}\n  resources:\n    - id: deployment\n      template:\n        apiVersion: apps/v1\n        kind: Deployment\n        metadata:\n          name: ${schema.spec.name}\n        spec:\n          replicas: 3\n          selector:\n            matchLabels:\n              app: ${schema.spec.name}\n          template:\n            metadata:\n              labels:\n                app: ${schema.spec.name}\n            spec:\n              containers:\n                - name: ${schema.spec.name}\n                  image: ${schema.spec.image}\n                  ports:\n                    - containerPort: 80\n    - id: service\n      template:\n        apiVersion: v1\n        kind: Service\n        metadata:\n          name: ${schema.spec.name}-service\n        spec:\n          selector: ${deployment.spec.selector.matchLabels}\n          ports:\n            - protocol: TCP\n              port: 80\n              targetPort: 80\n    - id: ingress\n      includeWhen:\n        - ${schema.spec.ingress.enabled}\n      template:\n        apiVersion: networking.k8s.io/v1\n        kind: Ingress\n        metadata:\n          name: ${schema.spec.name}-ingress\n          annotations:\n            kubernetes.io/ingress.class: alb\n            alb.ingress.kubernetes.io/scheme: internet-facing\n            alb.ingress.kubernetes.io/target-type: ip\n            alb.ingress.kubernetes.io/healthcheck-path: /health\n            alb.ingress.kubernetes.io/listen-ports: '[{\"HTTP\": 80}]'\n            alb.ingress.kubernetes.io/target-group-attributes: stickiness.enabled=true,stickiness.lb_cookie.duration_seconds=60\n        spec:\n          rules:\n            - http:\n                paths:\n                  - path: \"/\"\n                    pathType: Prefix\n                    backend:\n                      service:\n                        name: ${service.metadata.name}\n                        port:\n                          number: 80\n```\n\n## ResourceGroup Instances\n\nOnce kro processes your ResourceGroup, it creates a new API in your cluster. Users can then create [instances](https://kro.run/docs/concepts/instances) of this API to deploy resources in a consistent, controlled way. An instance represents your deployed application and contains your configuration values, serving as the single source of truth for your application's desired state.\n\n### Example ResourceGroup Instance\n\nHere's an example of how an instance for the SimpleWebApp might look:\n\n```yaml\napiVersion: kro.run/v1alpha1\nkind: SimpleWebApp\nmetadata:\n  name: my-web-app\nspec:\n  appName: awesome-app\n  image: nginx:latest\n  replicas: 3\n```\n\n## Getting Started with kro\n\n### Installation\n\nTo install kro, you need Helm and kubectl configured for your Kubernetes cluster. Follow these steps:\n\n1. **Fetch the latest release version:**\n   \n    ```sh\n    export KRO_VERSION=$(curl -sL https://api.github.com/repos/awslabs/kro/releases/latest | jq -r '.tag_name | ltrimstr(\"v\")')\n    ```\n\n2. **Install kro using Helm:**\n    ```sh\n    helm install kro oci://public.ecr.aws/kro/kro --namespace kro --create-namespace --version=${KRO_VERSION}\n    ```\n\n3. **Verify the installation:**\n    ```sh\n    helm -n kro list\n    kubectl get pods -n kro\n    ```\n\n### Creating Your First ResourceGroup\n\n1. **Define a ResourceGroup:**\n    Save the following as `resourcegroup.yaml`:\n    ```yaml\n    apiVersion: kro.run/v1alpha1\n    kind: ResourceGroup\n    metadata:\n      name: my-application\n    spec:\n      schema:\n        apiVersion: v1alpha1\n        kind: Application\n        spec:\n          name: string\n          image: string | default=\"nginx\"\n          ingress:\n            enabled: boolean | default=false\n        status:\n          deploymentConditions: ${deployment.status.conditions}\n          availableReplicas: ${deployment.status.availableReplicas}\n      resources:\n        - id: deployment\n          template:\n            apiVersion: apps/v1\n            kind: Deployment\n            metadata:\n              name: ${schema.spec.name}\n            spec:\n              replicas: 3\n              selector:\n                matchLabels:\n                  app: ${schema.spec.name}\n              template:\n                metadata:\n                  labels:\n                    app: ${schema.spec.name}\n                spec:\n                  containers:\n                    - name: ${schema.spec.name}\n                      image: ${schema.spec.image}\n                      ports:\n                        - containerPort: 80\n        - id: service\n          template:\n            apiVersion: v1\n            kind: Service\n            metadata:\n              name: ${schema.spec.name}-service\n            spec:\n              selector: ${deployment.spec.selector.matchLabels}\n              ports:\n                - protocol: TCP\n                  port: 80\n                  targetPort: 80\n        - id: ingress\n          includeWhen:\n            - ${schema.spec.ingress.enabled}\n          template:\n            apiVersion: networking.k8s.io/v1\n            kind: Ingress\n            metadata:\n              name: ${schema.spec.name}-ingress\n              annotations:\n                kubernetes.io/ingress.class: alb\n                alb.ingress.kubernetes.io/scheme: internet-facing\n                alb.ingress.kubernetes.io/target-type: ip\n                alb.ingress.kubernetes.io/healthcheck-path: /health\n                alb.ingress.kubernetes.io/listen-ports: '[{\"HTTP\": 80}]'\n                alb.ingress.kubernetes.io/target-group-attributes: stickiness.enabled=true,stickiness.lb_cookie.duration_seconds=60\n            spec:\n              rules:\n                - http:\n                    paths:\n                      - path: \"/\"\n                        pathType: Prefix\n                        backend:\n                          service:\n                            name: ${service.metadata.name}\n                            port:\n                              number: 80\n    ```\n\n2. **Apply the ResourceGroup:**\n    ```sh\n    kubectl apply -f resourcegroup.yaml\n    ```\n\n3. **Inspect the ResourceGroup:**\n    ```sh\n    kubectl get rg my-application -o wide\n    ```\n\n### Creating an Application Instance\n\n1. **Define an Application instance:**\n    Save the following as `instance.yaml`:\n    ```yaml\n    apiVersion: kro.run/v1alpha1\n    kind: Application\n    metadata:\n      name: my-application-instance\n    spec:\n      name: my-awesome-app\n      ingress:\n        enabled: true\n    ```\n\n1. **Apply the Application instance:**\n\n    ```sh\n    kubectl apply -f instance.yaml\n    ```\n\n2. **Inspect the Application instance:**\n\n    ```sh\n    kubectl get applications\n    ```\n\n3. **Inspect the resources:**\n\n    ```sh\n    kubectl get deployments,services,ingresses\n    ```\n\n### Deleting the Application Instance\n\nTo clean up resources, delete the Application instance:\n\n```sh\nkubectl delete application my-application-instance\n```\n\n## üåü Conclusion\n\nkro by AWS simplifies Kubernetes resource management by allowing you to define and manage complex resource configurations as reusable components. Whether you're deploying simple applications or complex multi-service architectures, kro can help streamline your Kubernetes operations.\n\n## üåê Community Participation\n\nDevelopment and discussion are coordinated in the [Kubernetes Slack (invite link)][k8s-slack] channel [#kro][kro-channel] channel.\n\n[k8s-slack]: https://communityinviter.com/apps/kubernetes/community\n[kro-channel]: https://kubernetes.slack.com/archives/XXX-TBD\n\nWe welcome questions, suggestions, and contributions from the community! To get involved, check out our contributing guide. For bugs or feature requests, feel free to submit an issue. You‚Äôre also invited to join our community.\n\n## üìö Documentation\n\nFor more detailed information, check out the following resources:\n\n[kro-overview]: https://kro.run/docs/overview\n[kro-installation]: https://kro.run/docs/getting-started/Installation\n[kro-getting-started]: https://kro.run/docs/getting-started/deploy-a-resource-group\n[kro-concepts]: https://kro.run/docs/concepts/resource-groups/\n[kro-examples]: https://kro.run/examples/\n\n<br>\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  **_Until next time üéâ_**\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":598},"frontmatter":{"id":"5248a7723e9b59c7be525eb3","path":"/blog/kro-aws/","humanDate":"Nov 16, 2024","fullDate":"2024-11-16","title":"Simplify Kubernetes Resource Management with KRO by AWS","keywords":["Kubernetes","AWS","Resource Management","DevOps","k8s","kro"],"excerpt":"Learn how kro by AWS can simplify the creation and management of complex Kubernetes resources.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACoElEQVR42k1T2U5TURS9f+KbD2KpEFNAEAhjMAYbqHa6Q2cgSCIlQVIGoe3tBI1ATEAU44MhanwxcXgwQSZLoASqLWCnSAzE4YH4B8t9TxF8WHefnLPO2mevvS8nyF9g8sYhBHZh9m5DPxqjdRLGsTh4+TP4QAqCnIIY3KeYhBj6CpGiybdTWAd3IdAZW4f2wbUK01CVNaOo2QZ1o4DyOgPqjAFUtvaiuFqH4hoDrmr7UELn5U02XGq0o+bmEFRXtCjTunG5yYHSFicqGm2otj8Ad8Myg6KKFlyobsPFWj3UVe0oIlE1EVSUoN7gReX1HhRr6lFKAprKNpwrqUKVthfqWhMapAmoNNdwXtOAWtcsONGXgHloFfrBZdzqe4vWnhfQedbQ3v8BhqEVCFSaaXAFpuE1GEc3wQ/HaH8Von8Hur53MI9uwDyyzqJiFSeFM7BEsrASbPdzECPf4JnL4vZ0HlI4B0s4Tee5E2RPoxDKQev/A3Pw4ISTZZGTFDPJeJ6aYZl/A6O8hU9bB4gu7EI3loGSUOFIZLwCpTlWunj38Q/Yo0dwzxzBFaUEgX3G4wrkPfBjG5gIP4IzsImFpTSiz3bg8K+hK7wO3p8sCLKu7sE6nsfAk2M4o98hLxyjc/KA7Z8KinKCeaKfTcMUSsL/PAbffBy2kffokBfBk88S+WNRuGGyZuonhPFDuOd+wzF5iDtzvyBEqHRlbCT6CL5tBvfTl3QhjlevV+F9GIPen2cCEpXIKiFYaSa7qUQHvagzmoedXt41QRxvigT3zkpW0D21RMOZQv/0BpESNLBpRlKSMh4JO+6twzmwCBdNhYO67/Isw0mxw/MRFvo5uH+ZFQiBHMU0ExKCZ/v/Q4xkII4r05Cl12cKMZJjUDz8C5K4OHjGJcChAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/b45c2eb83b98e4a693e092d6a41058af/85f54/kro-cover.png","srcSet":"/static/b45c2eb83b98e4a693e092d6a41058af/dc458/kro-cover.png 750w,\n/static/b45c2eb83b98e4a693e092d6a41058af/25cea/kro-cover.png 1080w,\n/static/b45c2eb83b98e4a693e092d6a41058af/3ce46/kro-cover.png 1366w,\n/static/b45c2eb83b98e4a693e092d6a41058af/85f54/kro-cover.png 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/b45c2eb83b98e4a693e092d6a41058af/4ff4a/kro-cover.webp 750w,\n/static/b45c2eb83b98e4a693e092d6a41058af/afcae/kro-cover.webp 1080w,\n/static/b45c2eb83b98e4a693e092d6a41058af/a6801/kro-cover.webp 1366w,\n/static/b45c2eb83b98e4a693e092d6a41058af/16aac/kro-cover.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5505208333333333}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/cedar-aws-k8s/","title":"Simplify Authorization Management with Cedar by AWS","date":"2024-11-22 21:40:00"},"excerpt":"Simplify Authorization Management with Cedar by AWS ‚ö° Introduction AWS recently introduced Cedar that simplifies managing authorization‚Ä¶"},"nextThought":{"frontmatter":{"path":"/blog/kubernetes-containerd-cilium-setup/","title":"Guide to Setting Up Kubernetes 1.31 with containerd v2 and Cilium","date":"2024-11-11 20:00:00"},"excerpt":"Definitive Guide to Setting Up Kubernetes 1.31 with containerd v2 and Cilium Introduction Welcome to this guide on setting up Kubernetes‚Ä¶"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}