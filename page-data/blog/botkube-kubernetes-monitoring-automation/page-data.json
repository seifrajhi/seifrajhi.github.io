{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/botkube-kubernetes-monitoring-automation/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Making cluster operation automation simple for everyone 📗</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📕 Introduction</h2>\n<p><a href=\"https://github.com/kubeshop/botkube\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube</a> helps operators manage k8s by sending alerts and automating tasks.\nIt's great for both experts and beginners. You can use it to run commands, follow best practices, and integrate with Slack, Teams, Discord, or Mattermost.</p>\n<p>In this blog post, we'll show you how Botkube makes managing Kubernetes simpler. We'll look at some key tasks it can help you with, making your cluster management smoother and more efficient.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZUlEQVR42pWSS4/bVBTH/Z3askLqMBsWwApUWFVUtIPEgn4CKOJLIMQWiRESqCAYTdVpmUknbzuJ7cSxndhx/IgTJ04m88i8mPlxWgHqhgVHOrr3XN17z/9xlIfv3mZj7Qafrt9iY/0NNt66xYO1m3z+zhpf3fuQR/fu8PX9j/jy7vt8cfcDHn18h8/efpP7t2/y4OXdv/OT2zd4+N46ilrYpV4qUS/u09gv0CoVUQt7vDxvlvZR90vsPd2jsLNHQ2q9UsYo72NUJcsvMCovXq1mtSjvd1FmyzOWXZ255xLl54TpAUGcEY0y+sMUP14wyi9IF+cMA1idQxJmjP2I6XxBOsvJ8px0PCGXWplMl1x1K5x6bWqmh9XpEIcBWRIwHA5o6Tr1pk0Sn2OWr5kkoLd0jFoJ13FpGSbVmiZrC8d1UH7eqvHN98/5brNAsdrg8vyE8fKKx9oR10A+m/D70wo//NJl64+Ax08GlCo1OmaFIAjQGi22tnexXAs/HKB07S71ao0fn9Uoay0O8gyzn/Lttk+ez4njkHK1Sc3u0R4E/KZV6Lq+fODhSG1ZnuhqE2cZs+Uhiivata0ahh1Q1drYXQtNrWOZLVRVpd93efKsKOhVwsAn6jZJA4fE7zJMUjwBpFUa+K7LKI5Q2l2Xar1CXeuws1ul1/eYTCYkoxGzfIqq6Wz+tE1DN/D7PcaeSeSahI5JMpkR+w7djkGv0yby+iiWFJVSlXw6YTAYChKdYkUTbQx2dgps/voc3XI5XR0TJRmqbtN2fMk+I9+QN4I6maA2mjgCRhmNUhF3yOHxoSCai/UHVFSN/XKNmtoiScccLJcMggFBGMqIzIjsPgOjiyP0hyJDfrKiISxty5AP05QwkovTKePxlGw+xRIdPYGfjMeMs6k0muHYDv5gwMHxksD26RkuvrjshzHBYoGhN8UgGyUQp1zHplZo4oqwwaQnmkh32UdRRtvsyCy20OsBphFgWD30tiEuu0yFUdvx0MTpvbr8YcrYxLM5jnQZCu1er4+utwWhTV8e2B0HW4a1aTZI2xZ5GHFydsbq5ITVasXF5SWnp6evMpsfMVscoSxkdtJsJtrlTIV2KjTDKGaUxLKOZA6F0tBj6fVYiXH/FecXV5xd/InC/4zr6+t/8/Wzf+IvWH0W+RovJJkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"botkube\" title=\"\" src=\"/static/a27824d6da5df019a4c259ff1dd856ff/c5bb3/botkube.png\" srcset=\"/static/a27824d6da5df019a4c259ff1dd856ff/04472/botkube.png 170w,\n/static/a27824d6da5df019a4c259ff1dd856ff/9f933/botkube.png 340w,\n/static/a27824d6da5df019a4c259ff1dd856ff/c5bb3/botkube.png 680w,\n/static/a27824d6da5df019a4c259ff1dd856ff/b12f7/botkube.png 1020w,\n/static/a27824d6da5df019a4c259ff1dd856ff/c1b63/botkube.png 1200w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"setup-botkube-on-kubernetes\" style=\"position:relative;\"><a href=\"#setup-botkube-on-kubernetes\" aria-label=\"setup botkube on kubernetes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Setup BotKube on Kubernetes</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADyklEQVR42k2T+U/bZRzHv3+HmhgTE5IlxrC4BcZMuKaZiIjTmUzn2NgqAuMoLdBCS1sG46bjKlBOGaVABuUqNxQopdwwxpGNiTG4AXMIcZFsMXn5gL/4w+eXJ9/n9f28j0caffwPg2uvsS//TefcXzxwH9A88ZLG0T3qBnao6fmNFusMptbHGK2b5N3fILtujYyqFfQVy2hKF1HfmyMxf5okMdLQ+ht6HwrY/Cva3Ic0O/+D1ff/Trl9h2brNAeKUFrNfWRYfiG7doUM80N05UtoShZQGWdJzJsmIXuK2AwnUt/KEV0LAjZ9SItzH8voC+oHn1PXv0t17w7mjl+x3x/GZFkjt/EpWTXr6ExLpBYLWOEsylw38XddxNyZIEo3htQtYO3HsMk/sTiOYTtU27fJaVhCZ3ajLZ5AWzmL2jhJQlY/iuyRE1hywQyKHDdxmZNEG8b5Kc2BLGUEqf1/m9UNPD+Bldm2+OjcJd738ODtd8/z1jsXeM9DxqlTnpz2CiG5cEHAJ08kRukdRKSOcFM1yPXEfqTOhSPaZl4J7w7EhvvUD+1RJaSmFgwQn9qATGUhUm3hhkKMvI5bSS0kCaA8a1rIdBFlcBKhHSNcNcJVeS9SWGwtn15KJ+jbbPyC9fh+rsM7UIUsuZ3itmfk/PyEvIZNDBWrpJWvc03ejpe/Cp9PNJwLTMHzvJIPvOSc8dNwOdKGFBCix+eCEr+gFM76JnDWX8GH3lEEXSkgq3YVbck8urIFkeSUmBlxXox3gJzALzT4B6fgFaAUCyjx9IklOMyClFntptm1Q+PYNlbnM2zzh/Q+ekNq4Qh60+JJAJqiWRGAC6UI4cekNmr6ntIytUfX8hE9K69xbEGKcQTfUDOSLLkJlfDreJLz+0WaQ+KynXDh2R1RXKVxAV3dJrHZbpSia6HXq4jRPyClaFjUZlCkPYC21MFlWTl+X1UjaUtGRd+eUNm1QWX3hkh6C8v4LgpRkVzzIleyFom0/IHStIbyrpMweTNFrUs0TezS4trHOvGCDlE9eWYPXhfLkCI1rcLwceGTA0P5OJk100LquNjQiubeLJEiyavpM8jSxritHyPkmpnEXDvplc6TO8ff5jbM8110tQCWIqnF2mW2Ryd/LW1fFbXZFh5tEWfoFs/JRXymk+i0UW6ph8QM8310I8amOSqEGpNtlfLOdVqnXhJjsHHaz4iUnO/gtq6bqLRuItQd3Exs44e4ZmRqu+jalCjuGDJR3BtJA6JnfXwZbiXwaxOB3wjPQkv5OFikfrGAM4H5eH1Wxb+aQAiUiCSiXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"botkube\" title=\"\" src=\"/static/04177d71e405c88119b8c9d0e3d5db9c/c5bb3/botkube-setup.png\" srcset=\"/static/04177d71e405c88119b8c9d0e3d5db9c/04472/botkube-setup.png 170w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/9f933/botkube-setup.png 340w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/c5bb3/botkube-setup.png 680w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/b12f7/botkube-setup.png 1020w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/7960f/botkube-setup.png 1274w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<div class=\"image-title\"><a href=\"https://kubetools.io/botkube-the-ultimate-tool-for-kubernetes-alerts-and-notifications/\">Source</a></div>\n<p>The following steps guide you through the setup process of BotKube on your Kubernetes cluster, enabling efficient monitoring and management.</p>\n<h3 id=\"create-a-bot-account\" style=\"position:relative;\"><a href=\"#create-a-bot-account\" aria-label=\"create a bot account permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Create a Bot Account</h3>\n<p>To initiate the configuration of BotKube on Kubernetes, begin by creating a Bot account. This account serves as the communication bridge between BotKube and your Kubernetes cluster, facilitating seamless interaction and data exchange necessary for effective monitoring and troubleshooting.</p>\n<h3 id=\"deploying-botkube-within-k8s\" style=\"position:relative;\"><a href=\"#deploying-botkube-within-k8s\" aria-label=\"deploying botkube within k8s permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deploying BotKube within K8s</h3>\n<p>Upon creating the Bot account, proceed to deploy BotKube on your Kubernetes cluster. This deployment process involves configuring BotKube to operate within your cluster setup, granting it the required access to monitor and manage resources efficiently.</p>\n<blockquote>\n<p><strong>Note:</strong> Helm must be installed to use the charts. Please refer to <a href=\"https://helm.sh/docs/intro/install/\" target=\"_blank\" rel=\"noopener noreferrer\">Helm's documentation</a> to get started.</p>\n</blockquote>\n<p>Once Helm is set up properly, add the repo as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm repo <span class=\"token function\">add</span> botkube https://charts.botkube.io</code></pre></div>\n<p>You can then run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm search repo botkube</code></pre></div>\n<p>to see the charts.</p>\n<p>Then install Botkube with Slack configured:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm <span class=\"token function\">install</span> botkube botkube/botkube <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">config.bot.slack.enabled</span><span class=\"token operator\">=</span>true <span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">config.bot.slack.token</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>SLACK_BOT_TOKEN<span class=\"token operator\">></span> <span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">config.bot.slack.channel</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>SLACK_CHANNEL_NAME<span class=\"token operator\">></span></code></pre></div>\n<p>Replace <code class=\"language-text\">&lt;SLACK_BOT_TOKEN></code> and <code class=\"language-text\">&lt;SLACK_CHANNEL_NAME></code> with your Slack bot token and the name of the Slack channel you want to use for notifications.</p>\n<p><img src=\"/ff29cb49206d120bd531c71b16621596/example.gif\" alt=\"example\" loading=\"lazy\">\n          </p>\n<h2 id=\"automating-k8s-tasks\" style=\"position:relative;\"><a href=\"#automating-k8s-tasks\" aria-label=\"automating k8s tasks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Automating K8s Tasks</h2>\n<p>In the final part of this blog, we're going to talk about some important jobs in Kubernetes that we can make easier by using Botkube. When we automate these tasks, it helps keep our Kubernetes system running smoothly and efficiently.</p>\n<h3 id=\"-monitoring-and-alerting-kubernetes-clusters\" style=\"position:relative;\"><a href=\"#-monitoring-and-alerting-kubernetes-clusters\" aria-label=\" monitoring and alerting kubernetes clusters permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📈 Monitoring and Alerting Kubernetes Clusters</h3>\n<p>Watching out for issues in Kubernetes clusters is really important to keep everything running smoothly. Normally, setting up alerts from Prometheus in Slack involves a lot of manual work, like defining alert conditions and configuring Alertmanager.</p>\n<p>But with Botkube, you just need to put in the Prometheus endpoint and pick how you want to get alerts and log information. Unlike doing it by hand, Botkube gives you more choices for where alerts can go, like Slack, PagerDuty, email, MS Teams, or Discord. It's a simpler way to make sure you're alerted to any problems in your Kubernetes setup.</p>\n<p><img src=\"/ccc714040859f0cf3bd24f05773876a1/example2.gif\" alt=\"example2\" loading=\"lazy\">\n          </p>\n<h3 id=\"️-resource-scaling\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-resource-scaling\" aria-label=\"️ resource scaling permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⬆️ Resource Scaling</h3>\n<p>Automation of resource scaling empowers Kubernetes clusters to dynamically adjust resource allocation based on workload demands. This automated scaling capability optimizes resource utilization, improves application performance, and ensures efficient use of infrastructure resources, leading to cost savings and enhanced scalability.</p>\n<p>Botkube offers a valuable solution for automating resource scaling within a team. It simplifies access to Kubernetes clusters by providing actionable notifications and the ability to execute <code class=\"language-text\">kubectl</code>, <code class=\"language-text\">helm</code>, and GitOps commands directly from a shared team channel.</p>\n<p><img src=\"/4cb8604904f773dc88c72ebf376e4340/example3.gif\" alt=\"example3\" loading=\"lazy\">\n          </p>\n<p>One example of this is the ability to automate the process of creating GitHub issues for failing Kubernetes resources such as jobs, deployments, statefulsets, and pods. This plugin can create GitHub issues that include Kubernetes-specific information, making debugging more efficient.</p>\n<h3 id=\"-kubernetes-log-management\" style=\"position:relative;\"><a href=\"#-kubernetes-log-management\" aria-label=\" kubernetes log management permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📜 Kubernetes Log Management</h3>\n<p>Automating log management in Kubernetes simplifies the collection, analysis, and storage of logs generated by cluster components and applications. Automated log management enhances troubleshooting capabilities, provides valuable insights into system behavior, and facilitates compliance with auditing requirements.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoklEQVR42oWSS27bMBRFvYgCtvWXqA8lkpJISZadwIgHRQAnRYHOOkiAjjptinYDXUWXe/NII0YCBM7g4JEEed+Hd+FHKeKsRMkFyloiTgv4UeZiEDO3PhOmF/GIxadliCTnUHqC7EeIbkCtNFgpkBb1mTDN4QWJe3SJxc1hDyUlNuOEaRxRFiV4WYFl7A1RkmH9gZgTHEyHaneL/viAdPcV4XzviOYvJ7YEnQd8gOdH9Ci7LJjxHsntT/SP/7C+e8Ly+ITVC3e/af8Ly/s/WLcHeF4AL/pA8Pvf/zh++wFeMGq9hRIKUkgIik0jIIhWteC1wMqPsaY5vvCuoBfnaJTBfLXHMF+D0QfE9AFJZimQsIrgzgkh3Y2S3DnA7v13ql0svZDsorA/fMZoNCZZYeokZtNDK4HN9hpm2qEzG2wpqSInVE1LRWiEJL4KYljrnQVt6c42dLHrNIwZMIwz+nHnhPR0iv0ww4xbyNagogKsZ6umg2i1q9qOwwmuSLAoKhLSND+BXjZgObVDprat2SpeE9GZpeDylJCS2ESsrN1cnwHMiiTrWM7/gwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"logs\" title=\"\" src=\"/static/e4502a3df1b8d5c0f6e536d4eedf9c08/c5bb3/logs.png\" srcset=\"/static/e4502a3df1b8d5c0f6e536d4eedf9c08/04472/logs.png 170w,\n/static/e4502a3df1b8d5c0f6e536d4eedf9c08/9f933/logs.png 340w,\n/static/e4502a3df1b8d5c0f6e536d4eedf9c08/c5bb3/logs.png 680w,\n/static/e4502a3df1b8d5c0f6e536d4eedf9c08/d2cbc/logs.png 705w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-gitops-workflows\" style=\"position:relative;\"><a href=\"#-gitops-workflows\" aria-label=\" gitops workflows permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🔄 GitOps Workflows</h3>\n<p>Automation of GitOps workflows streamlines the deployment and management of applications in Kubernetes by leveraging version-controlled repositories. Automated GitOps workflows promote consistency, reliability, and traceability in application deployments, enabling teams to adopt a robust continuous delivery pipeline.</p>\n<p>An important aspect is the Botkube Flux plugin, which simplifies connecting Kubernetes clusters, GitHub repositories, and the Flux CLI. This plugin enables users to run Flux CLI commands directly from their chosen communication platforms, ensuring convenient interaction even on mobile devices.</p>\n<h3 id=\"️-k8s-configuration-management\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-k8s-configuration-management\" aria-label=\"️ k8s configuration management permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⚙️ K8s Configuration Management</h3>\n<p>Automating configuration management tasks in Kubernetes ensures consistent configuration across clusters, reduces manual errors, and simplifies maintenance efforts. Automated configuration management enhances system stability, accelerates deployment processes, and fosters standardization across environments.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.94117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPklEQVR42oWQfY+DIAzG/f5f7rZk540tvpyKiqKCCBRFPfCW3V+3PfmlNLRP0zQ4fZzuV1RmOeuHcWCSi3VeLBgL8yNqcyQHCuyyLGberN33PSC4nJmAjhkhYeCGspmLeRgdpufgaAfouGvwNL0cheyZm+LNYEyBcUVqxrkCLaZpFII7xnGchDagAXx8JuBRWltrAyml2/xyuSCEbgg1pGnbltRetKVaazVJJR3qiO7xci5vduXz+RyGYZIkhBBjjPuBQ975j/7M6IowxpRSxtiz9qt3ZqW+wjCOojzzclMe671ETpM7uz9YnH7fozhO06zAbddpY5Q7yUskgF3XQOfJECGW3KEuNlqvjrZ6D8E7rQKdpVVdlUUxCTEb45bZVvseO2+kCtYG9xHqItRHt+b6qct875utI29oq43WPxrLbz5kG2vuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"conf\" title=\"\" src=\"/static/dce337f2cbb6e27a5e3be089f397174f/c5bb3/conf.png\" srcset=\"/static/dce337f2cbb6e27a5e3be089f397174f/04472/conf.png 170w,\n/static/dce337f2cbb6e27a5e3be089f397174f/9f933/conf.png 340w,\n/static/dce337f2cbb6e27a5e3be089f397174f/c5bb3/conf.png 680w,\n/static/dce337f2cbb6e27a5e3be089f397174f/b12f7/conf.png 1020w,\n/static/dce337f2cbb6e27a5e3be089f397174f/a9965/conf.png 1171w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🔚 Conclusion</h2>\n<p>In conclusion, Botkube simplifies Kubernetes management by automating tasks like monitoring, alerting, and log management. With Botkube, setting up alerts from Prometheus in Slack becomes easier, offering more integration options like Slack, PagerDuty, email, MS Teams, or Discord. Overall, Botkube enhances operational efficiency and system reliability, ensuring a smoother Kubernetes experience for users.</p>\n<p><strong>📚 References:</strong></p>\n<ul>\n<li><a href=\"https://medium.com/kubeshop-i/5-essential-k8s-troubleshooting-monitoring-tasks-with-botkube-e1420bb5d49e\" target=\"_blank\" rel=\"noopener noreferrer\">5 Essential K8s Troubleshooting &#x26; Monitoring Tasks with Botkube</a></li>\n<li><a href=\"https://docs.botkube.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube Documentation</a></li>\n<li><a href=\"https://github.com/kubeshop/botkube/tree/main?tab=readme-ov-file#overview\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube GitHub Repository</a></li>\n<li><a href=\"https://medium.com/kubeshop-i/5-essential-k8s-tasks-to-automate-a6f33bd3420b\" target=\"_blank\" rel=\"noopener noreferrer\">5 Essential K8s Tasks to Automate</a></li>\n<li><a href=\"https://kubetools.io/botkube-the-ultimate-tool-for-kubernetes-alerts-and-notifications/\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube: The Ultimate Tool for Kubernetes Alerts and Notifications</a></li>\n<li><a href=\"https://www.infracloud.io/blogs/monitoring-triliovault-kubernetes-resources-botkube/\" target=\"_blank\" rel=\"noopener noreferrer\">Monitoring TrilioVault Kubernetes Resources with Botkube</a></li>\n</ul>","timeToRead":3,"rawMarkdownBody":"\n> **Making cluster operation automation simple for everyone 📗**\n\n## 📕 Introduction\n\n[Botkube](https://github.com/kubeshop/botkube) helps operators manage k8s by sending alerts and automating tasks.\nIt's great for both experts and beginners. You can use it to run commands, follow best practices, and integrate with Slack, Teams, Discord, or Mattermost.\n\nIn this blog post, we'll show you how Botkube makes managing Kubernetes simpler. We'll look at some key tasks it can help you with, making your cluster management smoother and more efficient.\n\n![botkube](./botkube.png)\n\n## Setup BotKube on Kubernetes\n\n![botkube](./botkube-setup.png \"botkube setup\" )\n<div class=\"image-title\"><a href=\"https://kubetools.io/botkube-the-ultimate-tool-for-kubernetes-alerts-and-notifications/\">Source</a></div>\n\nThe following steps guide you through the setup process of BotKube on your Kubernetes cluster, enabling efficient monitoring and management.\n\n### Create a Bot Account\n\nTo initiate the configuration of BotKube on Kubernetes, begin by creating a Bot account. This account serves as the communication bridge between BotKube and your Kubernetes cluster, facilitating seamless interaction and data exchange necessary for effective monitoring and troubleshooting.\n\n### Deploying BotKube within K8s\n\nUpon creating the Bot account, proceed to deploy BotKube on your Kubernetes cluster. This deployment process involves configuring BotKube to operate within your cluster setup, granting it the required access to monitor and manage resources efficiently.\n\n> **Note:** Helm must be installed to use the charts. Please refer to [Helm's documentation](https://helm.sh/docs/intro/install/) to get started.\n\nOnce Helm is set up properly, add the repo as follows:\n\n```sh\nhelm repo add botkube https://charts.botkube.io\n```\n\nYou can then run:\n\n```sh\nhelm search repo botkube\n```\n\nto see the charts.\n\nThen install Botkube with Slack configured:\n\n```sh\nhelm install botkube botkube/botkube --set config.bot.slack.enabled=true \\\n--set config.bot.slack.token=<SLACK_BOT_TOKEN> \\\n--set config.bot.slack.channel=<SLACK_CHANNEL_NAME>\n```\n\nReplace `<SLACK_BOT_TOKEN>` and `<SLACK_CHANNEL_NAME>` with your Slack bot token and the name of the Slack channel you want to use for notifications.\n\n![example](./example.gif)\n\n## Automating K8s Tasks\n\nIn the final part of this blog, we're going to talk about some important jobs in Kubernetes that we can make easier by using Botkube. When we automate these tasks, it helps keep our Kubernetes system running smoothly and efficiently.\n\n### 📈 Monitoring and Alerting Kubernetes Clusters\n\nWatching out for issues in Kubernetes clusters is really important to keep everything running smoothly. Normally, setting up alerts from Prometheus in Slack involves a lot of manual work, like defining alert conditions and configuring Alertmanager.\n\nBut with Botkube, you just need to put in the Prometheus endpoint and pick how you want to get alerts and log information. Unlike doing it by hand, Botkube gives you more choices for where alerts can go, like Slack, PagerDuty, email, MS Teams, or Discord. It's a simpler way to make sure you're alerted to any problems in your Kubernetes setup.\n\n![example2](./example2.gif)\n\n### ⬆️ Resource Scaling\n\nAutomation of resource scaling empowers Kubernetes clusters to dynamically adjust resource allocation based on workload demands. This automated scaling capability optimizes resource utilization, improves application performance, and ensures efficient use of infrastructure resources, leading to cost savings and enhanced scalability.\n\nBotkube offers a valuable solution for automating resource scaling within a team. It simplifies access to Kubernetes clusters by providing actionable notifications and the ability to execute `kubectl`, `helm`, and GitOps commands directly from a shared team channel.\n\n![example3](./example3.gif)\n\nOne example of this is the ability to automate the process of creating GitHub issues for failing Kubernetes resources such as jobs, deployments, statefulsets, and pods. This plugin can create GitHub issues that include Kubernetes-specific information, making debugging more efficient.\n\n### 📜 Kubernetes Log Management\n\nAutomating log management in Kubernetes simplifies the collection, analysis, and storage of logs generated by cluster components and applications. Automated log management enhances troubleshooting capabilities, provides valuable insights into system behavior, and facilitates compliance with auditing requirements.\n\n![logs](./logs.png)\n\n### 🔄 GitOps Workflows\n\nAutomation of GitOps workflows streamlines the deployment and management of applications in Kubernetes by leveraging version-controlled repositories. Automated GitOps workflows promote consistency, reliability, and traceability in application deployments, enabling teams to adopt a robust continuous delivery pipeline.\n\nAn important aspect is the Botkube Flux plugin, which simplifies connecting Kubernetes clusters, GitHub repositories, and the Flux CLI. This plugin enables users to run Flux CLI commands directly from their chosen communication platforms, ensuring convenient interaction even on mobile devices.\n\n### ⚙️ K8s Configuration Management\n\nAutomating configuration management tasks in Kubernetes ensures consistent configuration across clusters, reduces manual errors, and simplifies maintenance efforts. Automated configuration management enhances system stability, accelerates deployment processes, and fosters standardization across environments.\n\n![conf](./conf.png)\n\n## 🔚 Conclusion\n\nIn conclusion, Botkube simplifies Kubernetes management by automating tasks like monitoring, alerting, and log management. With Botkube, setting up alerts from Prometheus in Slack becomes easier, offering more integration options like Slack, PagerDuty, email, MS Teams, or Discord. Overall, Botkube enhances operational efficiency and system reliability, ensuring a smoother Kubernetes experience for users.\n\n**📚 References:**\n\n- [5 Essential K8s Troubleshooting & Monitoring Tasks with Botkube](https://medium.com/kubeshop-i/5-essential-k8s-troubleshooting-monitoring-tasks-with-botkube-e1420bb5d49e)\n- [Botkube Documentation](https://docs.botkube.io/)\n- [Botkube GitHub Repository](https://github.com/kubeshop/botkube/tree/main?tab=readme-ov-file#overview)\n- [5 Essential K8s Tasks to Automate](https://medium.com/kubeshop-i/5-essential-k8s-tasks-to-automate-a6f33bd3420b)\n- [Botkube: The Ultimate Tool for Kubernetes Alerts and Notifications](https://kubetools.io/botkube-the-ultimate-tool-for-kubernetes-alerts-and-notifications/)\n- [Monitoring TrilioVault Kubernetes Resources with Botkube](https://www.infracloud.io/blogs/monitoring-triliovault-kubernetes-resources-botkube/)\n","wordCount":{"words":762},"frontmatter":{"id":"cccfec7faa3476f758548f85","path":"/blog/botkube-kubernetes-monitoring-automation/","humanDate":"Oct 20, 2024","fullDate":"2024-10-20","title":"Botkube: Making Kubernetes management and automation easier","keywords":["Botkube","Kubernetes","monitoring","automation","cluster management","DevOps"],"excerpt":"Discover how Botkube simplifies Kubernetes management and automation. Learn about its features, benefits, and how it can streamline cluster operations for everyone.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADN0lEQVR42h2RW0yTBwCF/11QVDZwZVWhHbWKUC7lWmo3R8CBtKW05V6UQAdFKLPjkklAIxCUbWRkSnQuIDMuTgQnxeHmCDMTJDGaGYWBIyCjPMhQp4FmZD4t3xofzsl5+V6+I7QeneHbrhXam5+Rk/kD6zaXEZdxkXDDVYKUzawT2Xn9zXLW+lXg5VuO18ZyBG8rsqhDpLRcJ7h6EGn+VZK0I6RF9CMYDb8Sn/AVas1ZwqLbWeMB14sq8dvsIEB+iPV+tWx46xPW+NTg7VvDhrdredW7At1nw+hHF4j/7g6an+fQjK4gff8oQsC2agqsp9FmHsdi7SLT0kmW5RsiY7+gsLiHcruTnLwebPv7SUzu5DWvOnxEh4lsGiZ6bzPSYC2ykhbCepfxD2tC8JfXI1E0sj26hfCENpSqdpRxHYSEnUQZ2U3yrl7UMT2kJjrRqC6wM6UPse/nqIv7iP3yCoG2NqRNlxHbH+Af1IDgK/HUK5XEJZ6goOQipRUDZBgvYcm9hr1kjIqiWxRl3SJYPIjsjT60Bx9i65pj575BqsdX2DMF247dfalGJD+CsGnHMTaFtBKgaGNrRAehym7iYnrRRP1EqmoMveou+thxDPETpHt21PYbGDoXMTuXaHT9S87sfyQNuXnng6/ZGNiIoHj3JObCPvKKnZgtVzjw8U3Kim9jL/yd+jIXNfmPOGBaoqnsb6pyH/Ge5D5RW24gE12m/twcbdNuZPp+dEOPScg+j6DcdQ5lajca7QXP9f0YTb9QkHmH/JRJinYvYNv9hBrT8svYkp+QFjKPJuge4YoRPnIu0jq1itw2RJBuAMewG8GhmsCkHUKdNEBy2hBp2lFK905iM8/jMD3lYLabFusLmgtf4NC5MYQukiCeosA2i+XaUyQf/kbpyBJ+0tOY68YQzje4OFU7w6d1UxxumKCq6p7H0210sXMYFX+RE7pCeuAqGZJVDFuXSQ95jHrLNDnWWXLPLLBDf5N9vS7Wys7iJz+DMDzyI3OuSWZmxnk4ex+Xax5dygP2xP9Jx6lnVGavUJ70D3mRbowhz9EqFokRT2M94iLr+nMi9k9Q88cqPopL+Md8z/9TrPmS6Ayv3QAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/065118ed936eb7c68ee35ac7cd01292c/9f32b/botkube-cover.png","srcSet":"/static/065118ed936eb7c68ee35ac7cd01292c/67f69/botkube-cover.png 750w,\n/static/065118ed936eb7c68ee35ac7cd01292c/2f22b/botkube-cover.png 1080w,\n/static/065118ed936eb7c68ee35ac7cd01292c/a6f16/botkube-cover.png 1366w,\n/static/065118ed936eb7c68ee35ac7cd01292c/9f32b/botkube-cover.png 1440w","sizes":"100vw"},"sources":[{"srcSet":"/static/065118ed936eb7c68ee35ac7cd01292c/8027b/botkube-cover.webp 750w,\n/static/065118ed936eb7c68ee35ac7cd01292c/9bd77/botkube-cover.webp 1080w,\n/static/065118ed936eb7c68ee35ac7cd01292c/c1f5c/botkube-cover.webp 1366w,\n/static/065118ed936eb7c68ee35ac7cd01292c/30aae/botkube-cover.webp 1440w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5541666666666667}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/k8s-cluster-api-overview/","title":"Getting started with Kubernetes Cluster API CAPI: An Overview","date":"2024-10-20 22:36:00"},"excerpt":"Programmatically Configure and Deploy k8s Clusters 🕸 🐳 Preamble Getting a Kubernetes cluster set up can be done in a bunch of ways. There…","html":"<blockquote>\n<p><strong>Programmatically Configure and Deploy k8s Clusters 🕸</strong></p>\n</blockquote>\n<h2 id=\"-preamble\" style=\"position:relative;\"><a href=\"#-preamble\" aria-label=\" preamble permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🐳 Preamble</h2>\n<p>Getting a Kubernetes cluster set up can be done in a bunch of ways. There are more than 125 certified options, including different distributions, hosting services, and tools for installation. You can find a big list <a href=\"https://www.cncf.io/training/certification/software-conformance/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p>The big cloud companies, like <a href=\"https://azure.microsoft.com/en-us/services/kubernetes-service/\" target=\"_blank\" rel=\"noopener noreferrer\">AKS</a>, <a href=\"https://aws.amazon.com/eks/\" target=\"_blank\" rel=\"noopener noreferrer\">EKS</a>, <a href=\"https://cloud.google.com/kubernetes-engine\" target=\"_blank\" rel=\"noopener noreferrer\">GKE</a>, offer managed solutions that make it easy to create a Kubernetes cluster. They hide the complicated parts behind their special tools. This is a great way to start running your Kubernetes work on their platforms.</p>\n<p>Another way is to use tools like <a href=\"https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm/\" target=\"_blank\" rel=\"noopener noreferrer\">kubeadm</a>, <a href=\"https://kops.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">kOps</a>, <a href=\"https://github.com/kubernetes-sigs/kubespray\" target=\"_blank\" rel=\"noopener noreferrer\">Kubespray</a>, and others like also IAC tools. They help you make clusters on different cloud services or even on your own machines. This is useful for working with more than one cloud or mixing the cloud with your own computers.</p>\n<p>If you’re feeling bold, you can even build a Kubernetes cluster from scratch. <a href=\"https://x.com/kelseyhightower\" target=\"_blank\" rel=\"noopener noreferrer\">Kelsey Hightower</a> shows how to do it <a href=\"https://github.com/kelseyhightower/kubernetes-the-hard-way\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. But fair warning, this means doing everything from setting up custom Linux services to making special certificates. It’s a bunch of steps, but it’s a real DIY adventure.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIFBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAGfuku5oAj/AP/EABgQAAMBAQAAAAAAAAAAAAAAAAEQEgID/9oACAEBAAEFAuM1uZRJX//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEVH/2gAIAQMBAT8Boxf/xAAXEQADAQAAAAAAAAAAAAAAAAABEBFR/9oACAECAQE/AYdX/8QAHBAAAgAHAAAAAAAAAAAAAAAAARAAESEiMTJh/9oACAEBAAY/Arq8jUCbyv/EABsQAQACAgMAAAAAAAAAAAAAAAERMQAQIWGx/9oACAEBAAE/ISqPTDMNFMVjelnKZ71//9oADAMBAAIAAwAAABDk/wD/xAAYEQADAQEAAAAAAAAAAAAAAAAAARGh0f/aAAgBAwEBPxBSjTelP//EABgRAAIDAAAAAAAAAAAAAAAAAAEREKHR/9oACAECAQE/EC5tWR//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEEExUZH/2gAIAQEAAT8QExsg9fXWGNcyLPWAEDS6feCnhTFW+Rqbrj//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"capi\" title=\"\" src=\"/static/6fd8e65276a7a5a56fd0189b3f50f8ea/7bf67/capi.jpg\" srcset=\"/static/6fd8e65276a7a5a56fd0189b3f50f8ea/651be/capi.jpg 170w,\n/static/6fd8e65276a7a5a56fd0189b3f50f8ea/d30a3/capi.jpg 340w,\n/static/6fd8e65276a7a5a56fd0189b3f50f8ea/7bf67/capi.jpg 680w,\n/static/6fd8e65276a7a5a56fd0189b3f50f8ea/4b190/capi.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-what-is-cluster-api\" style=\"position:relative;\"><a href=\"#-what-is-cluster-api\" aria-label=\" what is cluster api permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>❓ What is Cluster API?</h2>\n<p><a href=\"https://cluster-api.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Cluster API (CAPI)</a> is a Kubernetes sub-project within the <a href=\"https://github.com/kubernetes/community/tree/master/sig-cluster-lifecycle#readme\" target=\"_blank\" rel=\"noopener noreferrer\">CNCF’s Cluster Lifecycle Special Interest Group</a>. It focuses on using declarative APIs for Kubernetes cluster management. In essence, Cluster API utilizes the operator pattern prevalent in Kubernetes design to simplify provisioning, upgrading, and operating Kubernetes clusters themselves. (Learn more about this meta-pattern in our CNCF webinar ‘<a href=\"https://community.cncf.io/events/details/cncf-cncf-online-programs-presents-cloud-native-live-k8s-all-the-things/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes all the things!</a>’)</p>\n<p>The Cluster API enables us to:</p>\n<ul>\n<li>Provision multi-master Kubernetes clusters.</li>\n<li>Provision and maintain all the required cluster primitives (compute, networking, storage, security, etc.).</li>\n<li>Implement security best practices (NSGs, subnets, bastion hosts, etc.).</li>\n<li>Upgrade Control Plane and Workers on a rolling basis.</li>\n<li>Support multiple bare metal &#x26; public and private cloud providers.</li>\n</ul>\n<h2 id=\"-components-of-cluster-api\" style=\"position:relative;\"><a href=\"#-components-of-cluster-api\" aria-label=\" components of cluster api permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>💡 Components of Cluster API</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACeElEQVR42k1Sa1PaUBDNT3JadSwPqx/6Y9txsNXqh6Lt1CflEQQVBALUByQkQQlJyM3zdO8NOr0zZ/Zm7+7Zk92VRhM3GetzqIYN3bTxpM3xqNoEC+azCyQReiMPrfECzIvguCEWXgiPvSIS8AmMhYn0MJ6hcv2E5p2K646KcvMRjfYYVfLd9CYAYuxXbHyRLZFkuynRKynzU9JFSgjJ9yOEYYw4ShAR+D3kNorhsgSjqY/Og4XOvYUnw8fMiQQZT/Y52fIuChAkdxFQ1UBUdhapAtuNMHdCWATtJcCYSIcqw8gMiDD181iHWmDznCUH55I4u2FFaI9C1PsOrgYOrv966Kgx7o0YQzMRPllxoOgJhuTjb7ePjOJtkdPVYiqaKpUcYjatAAONQe5MUWkZuB3S700DqKTsdjhH7c5ErW2goVjok1I+pOrdM2GKMsU3BzaMWYAw4IQk0w9i0bNO30SrZ0DTbfCTJAluuhO0FQPdgQnl/hkkAvoLo+FpaJKAekvHgzpHHMeipxIfgKkZuCxdoPC9iN1vRewf/sT5RQln55fY3Sti7+AYBfKfnFzg9KyEwx+n2Pl6hMLeMT4Xivj1+xzaRBdDlbiS44NDbG+uYvvTFnKZDD5sbOBjLo98NoutfI6Qx9rqe+TIl8lksUHv6+tr2MxmxPu7lRXs7BTEX0mklBaa+lG5QqPeJFtHuSyjLjcE5NoVoYEK+f6Ua5DrDVTJVypV0esqGPQHUHp9TKcvYuWkxYLBtl0EAW07h8/3KxILyy338XtAfeZT5HGvoBa/HU7G4yUii2azecJYkHienzCP22D5ndr/IWKWbyTmDV6aF/0DJzxf/NfLObQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"components\" title=\"\" src=\"/static/1612dc5c93ad60607fb8fe7ceecfa7c7/c5bb3/components.png\" srcset=\"/static/1612dc5c93ad60607fb8fe7ceecfa7c7/04472/components.png 170w,\n/static/1612dc5c93ad60607fb8fe7ceecfa7c7/9f933/components.png 340w,\n/static/1612dc5c93ad60607fb8fe7ceecfa7c7/c5bb3/components.png 680w,\n/static/1612dc5c93ad60607fb8fe7ceecfa7c7/5a190/components.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Underneath the hood, Cluster API consists of the following components and custom resources:</p>\n<ul>\n<li><strong>Management Cluster</strong>: Where the various CAPI providers (e.g., infrastructure, bootstrap, and control plane) and resources are stored.</li>\n<li>Cluster API has an <a href=\"https://cluster-api.sigs.k8s.io/reference/providers\" target=\"_blank\" rel=\"noopener noreferrer\">extensive list</a> of supported providers ranging from cloud providers like AWS, Azure, GCP as well as bare metal providers like VMware, MAAS, and metal3.io. The flexible nature of the API has allowed the community to create many new providers. In fact, Spectro Cloud created one for <a href=\"https://github.com/spectrocloud/cluster-api-provider-maas\" target=\"_blank\" rel=\"noopener noreferrer\">Canonical MAAS</a>.</li>\n<li>Deploying Cluster API involves two Kubernetes clusters: one is a temporary cluster called the <a href=\"https://cluster-api.sigs.k8s.io/user/quick-start.html?highlight=management%20cluster#initialize-the-management-cluster\" target=\"_blank\" rel=\"noopener noreferrer\">bootstrap or management cluster</a>, which you use to create a second cluster that becomes the permanent Cluster API management cluster.</li>\n<li><strong>Workload Cluster</strong>: Simply a Kubernetes cluster managed by the components declared in the management cluster.</li>\n</ul>\n<h3 id=\"providers\" style=\"position:relative;\"><a href=\"#providers\" aria-label=\"providers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Providers</h3>\n<ul>\n<li><strong>Infrastructure</strong>: Responsible for provisioning and managing infrastructure components required by Kubernetes such as VMs, load balancers, and VPCs.</li>\n<li><strong>Bootstrap</strong>: Responsible for bootstrapping Kubernetes components such as creating cluster certificates, installing control plane components, and joining worker nodes to the control plane.</li>\n<li><strong>Control Plane</strong>: Responsible for Kubernetes API components such as kube-apiserver, kube-controller-manager, and kube-scheduler. By default, kubeadm is used for the control plane, but other variants like <a href=\"https://microk8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">microk8s.io</a> or <a href=\"https://www.talos.dev/\" target=\"_blank\" rel=\"noopener noreferrer\">talos</a> can be configured as well.</li>\n</ul>\n<h3 id=\"custom-resources\" style=\"position:relative;\"><a href=\"#custom-resources\" aria-label=\"custom resources permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Custom Resources</h3>\n<ul>\n<li><strong>Machine</strong>: Spec for the infrastructure backing the Kubernetes node (i.e., VM).</li>\n<li><strong>MachineSet</strong>: Spec for maintaining a stable set of Machines (similar to ReplicaSet for pods).</li>\n<li><strong>MachineDeployment</strong>: Spec for updating Machines and MachineSets (similar to Deployment).</li>\n<li><strong>MachineHealthCheck</strong>: Spec for defining the healthiness of the nodes.</li>\n<li><strong>BootstrapData</strong>: Spec for machine-specific initialization data (mostly used for initializing cloud VMs).</li>\n</ul>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACZklEQVR42mVTS2/TQBj0//8LnDggwY0TPYAqARfSqjz6gDakTeLYie34vfbuenftYbypEBKH0cr7mG+++cbBPuunNBfI8g7HskOcCuwSgShpcdoXGAYDqSwaYSB6g14aKG2f4Ty0h52Cx7DEp8s1Lq4jLH7scHUb4dcqxeJ7iG8/Y9wt99Ce0KEVjuQOhlDqRKgH+0w2n1kEVTtgm0hsDj1WcYesMqg7h2NjUbUWQjoUXHe5wl1U4y4u8cguBjN6krlQP6vvrO8i6PigZOW4NAhzjadUo+Ge0MAmjLBNO4SFQVwMyBqHisVKPn6IFZYHjYe95rsBFE0hJGx7h5ooW4Pzry1uwgbrokZYShJYFPTt861ASuVCTVQ74nqtcSgk4uzkd0L/ezVg5goaVmypyLoRr872uNnUiNsG12FL5SN9MnjxdseBadgRiHOLs0uJvDGoGuWRV/yutbcnGHjr4r7DfcgeMXo/zhYN2zBIawvnnPfXD8CCSueORmyy2SKLqKC/xbw3kZAtK5q7uD3i17rF5b0kscLHq4zeaV6mis7g5bsEx9p4ha2cYOyEMFPYpBJPB4ndUWGccFJYC4tNXKNperz/kuF3KKh0QkZ19fyYkVlzuqLTMDR+HuCb8wJZyVbLU3azQqDnxDs1smUqLOjjkkFepRWiXPrIbDMaz8lrsrz+kNMzB0cVcypWe3onTpH6i+f4BFJqBrYj+8CDwXtlGNCS+YyOGtt9g+WWU+eacDCa+ajF4AM9Wg7zHxgWD4ToXV23E1M+Dfx1tDYevRympFDTgUgr7dcZRUPUepLSTEr9B/cH+qOQp9EDBMEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"capi-example\" title=\"\" src=\"/static/b8b6f699e78c58115ea382a6ce77aeb6/c5bb3/capi-example.png\" srcset=\"/static/b8b6f699e78c58115ea382a6ce77aeb6/04472/capi-example.png 170w,\n/static/b8b6f699e78c58115ea382a6ce77aeb6/9f933/capi-example.png 340w,\n/static/b8b6f699e78c58115ea382a6ce77aeb6/c5bb3/capi-example.png 680w,\n/static/b8b6f699e78c58115ea382a6ce77aeb6/5a190/capi-example.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-hands-on-labs-setting-up-the-environment\" style=\"position:relative;\"><a href=\"#-hands-on-labs-setting-up-the-environment\" aria-label=\" hands on labs setting up the environment permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🎯 Hands-on Labs: Setting up the Environment</h2>\n<p>Before using Cluster API, you need to set up your environment. Ensure you have the necessary environments, such as GCP or AWS accounts, Kubernetes clusters, and the credentials required to access these resources.</p>\n<h3 id=\"-install-clusterctl-and-kubectl\" style=\"position:relative;\"><a href=\"#-install-clusterctl-and-kubectl\" aria-label=\" install clusterctl and kubectl permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✅ Install Clusterctl and Kubectl</h3>\n<p>Clusterctl installs necessary CLI tools, Kubernetes manifests, and the required CRDs on the management cluster. Kubectl is a command-line tool used for interacting with Kubernetes clusters. It is the primary interface for managing and controlling Kubernetes resources and workloads.</p>\n<p>For macOS, you can use Homebrew to install Kubectl and Clusterctl. Run the following commands to install them:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew <span class=\"token function\">install</span> clusterctl\nbrew <span class=\"token function\">install</span> kubectl</code></pre></div>\n<p>Alternatively, you can download Clusterctl and Kubectl directly as binaries for other platforms. To install Kubectl, use the guide on the <a href=\"https://kubernetes.io/docs/tasks/tools/install-kubectl/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes documentation</a>. Similarly, install Clusterctl using the steps provided in the <a href=\"https://cluster-api.sigs.k8s.io/user/quick-start.html\" target=\"_blank\" rel=\"noopener noreferrer\">official documentation</a>.</p>\n<h3 id=\"-choosing-your-providers\" style=\"position:relative;\"><a href=\"#-choosing-your-providers\" aria-label=\" choosing your providers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✅ Choosing Your Providers</h3>\n<p>As discussed before, Cluster API supports three types of providers: infrastructure, bootstrap, and control plane providers.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABO0lEQVR42u2TXW+CMBiF/f+/yBu8MXHuSp1oWEQBjeiFWlugFEp71lbUmbhkyXazZDQnfd8np6flq4Nfvjp/O1BLQNAa7JgjOxautuz7gbrVtRUA2TKE/gqrWYxzmjn2lf8hUGkNO2pZQ9QVqqqVsLNh4lpfZD3Wa9fYtbdA3W5xqij8dYDJwsdbNMehJGhUg4RtMQ6nmIQ+1qaWhh04wdR4rHe2eQepWHtgfT9hLjkIpzhzBiIoClk6Q644ziVzKpRwrDQzFRlIQUHrHEJVz5/h6XjCMlxiv9vfWLpNsVyEiKMYm/XGMc656SMkcYwkSpCx7HngbD6H1+th+DpE0zSOBUGAbreLfr+P0XjkGCEEnudh8DJAz/jTXXq5Za0fA22IlZT3b8OabG+llLqxq9dKf34p/7/ejwM/AIF8lwrxBVuZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"provider\" title=\"\" src=\"/static/9c20d72b8b182580bb40df2ff17b470d/c5bb3/provider.png\" srcset=\"/static/9c20d72b8b182580bb40df2ff17b470d/04472/provider.png 170w,\n/static/9c20d72b8b182580bb40df2ff17b470d/9f933/provider.png 340w,\n/static/9c20d72b8b182580bb40df2ff17b470d/c5bb3/provider.png 680w,\n/static/9c20d72b8b182580bb40df2ff17b470d/5a190/provider.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>For this post, we will set up a Cluster API with the AWS provider. Therefore, we need to have the necessary credentials. Create a shell file <code class=\"language-text\">capa.sh</code> and add the environment variables for your AWS environment using the example below as a guide:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AWS_ACCESS_KEY_ID</span><span class=\"token operator\">=</span><span class=\"token string\">\"YOUR_AWS_ACCESS_KEY\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AWS_SECRET_ACCESS_KEY</span><span class=\"token operator\">=</span><span class=\"token string\">\"YOUR_AWS_SECRET_KEY\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AWS_REGION</span><span class=\"token operator\">=</span><span class=\"token string\">\"eu-west-1\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CONTROL_PLANE_MACHINE_COUNT</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">WORKER_MACHINE_COUNT</span><span class=\"token operator\">=</span><span class=\"token number\">3</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">KUBERNETES_VERSION</span><span class=\"token operator\">=</span><span class=\"token string\">\"v1.27.0\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CLUSTER_NAME</span><span class=\"token operator\">=</span><span class=\"token string\">\"my-demo-cluster\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">NODE_INSTANCE_TYPE</span><span class=\"token operator\">=</span><span class=\"token string\">\"t3.medium\"</span></code></pre></div>\n<p>Make the script executable and run it as shown below:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">chmod</span> +x capa.sh\n./capa.sh</code></pre></div>\n<h3 id=\"-setting-up-provider-components\" style=\"position:relative;\"><a href=\"#-setting-up-provider-components\" aria-label=\" setting up provider components permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✅ Setting Up Provider Components</h3>\n<p>This typically involves installing CRDs, controllers, and a set of custom resources that drive the provider. Run the following command to install the provider components for AWS:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">clusterctl init <span class=\"token parameter variable\">--infrastructure</span> aws</code></pre></div>\n<h3 id=\"-creating-and-deploying-the-cluster\" style=\"position:relative;\"><a href=\"#-creating-and-deploying-the-cluster\" aria-label=\" creating and deploying the cluster permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>✅ Creating and Deploying the Cluster</h3>\n<p>Once you have set up your environment and installed the providers, you can move on to cluster creation. To create a workload cluster, you need to define a cluster object by specifying the desired state of the cluster. This includes specifications for the number of nodes, Virtual Machines, networks, load balancers, and other required resources. Once created, the controller will ensure that the actual state matches the desired state.</p>\n<p>Deploy your first Kubernetes cluster using Cluster API and the desired infrastructure provider:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">clusterctl config cluster my-demo-cluster --kubernetes-version v1.27.0 --control-plane-machine-count<span class=\"token operator\">=</span><span class=\"token number\">1</span> --worker-machine-count<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">--region</span><span class=\"token operator\">=</span>eu-west-1 <span class=\"token operator\">></span> my-cluster.yaml\nkubectl apply <span class=\"token parameter variable\">-f</span> my-cluster.yaml</code></pre></div>\n<p>Once the deployment is successful, verify whether the cluster exists. You can check that the cluster has been created by monitoring the status of the cluster and machines custom resources from the management cluster. An example of how to do this is shown below:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl get clusters\nkubectl get machinedeployments\nkubectl get crd</code></pre></div>\n<p>Then, download the kubeconfig file for the target cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Get the kubeconfig for the new cluster</span>\nclusterctl get kubeconfig my-demo-cluster <span class=\"token operator\">></span> my-cluster-kubeconfig.yaml\n<span class=\"token comment\"># Set KUBECONFIG to the new kubeconfig</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">KUBECONFIG</span><span class=\"token operator\">=</span>my-cluster-kubeconfig.yaml\n<span class=\"token comment\"># Verify connectivity by checking the nodes</span>\nkubectl get nodes</code></pre></div>\n<h2 id=\"-takeaways\" style=\"position:relative;\"><a href=\"#-takeaways\" aria-label=\" takeaways permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🔵 Takeaways</h2>\n<p>The Cluster API architecture allows for the creation of clusters in a declarative manner. It uses a familiar programming model and enables infrastructure providers to create clusters using an open, extensible model for implementation. It allows teams to use GitOps processes to create clusters in line with how they deploy applications.</p>\n<p><strong>📻🧡  References:</strong></p>\n<ul>\n<li><a href=\"https://www.spectrocloud.com/blog/getting-started-with-kubernetes-cluster-api-capi\" target=\"_blank\" rel=\"noopener noreferrer\">Getting Started with Kubernetes Cluster API (CAPI)</a></li>\n<li><a href=\"https://www.spectrocloud.com/blog/cluster-api-and-kubernetes-cluster-management\" target=\"_blank\" rel=\"noopener noreferrer\">Cluster API and Kubernetes Cluster Management</a></li>\n<li><a href=\"https://pradeepl.com/blog/kubernetes/kubernetes-cluster-api-capi-an-introduction/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes Cluster API (CAPI): An Introduction</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=8yUDUhZ6ako\" target=\"_blank\" rel=\"noopener noreferrer\">YouTube: Kubernetes Cluster API</a></li>\n<li><a href=\"https://www.mirantis.com/blog/how-to-use-cluster-api/\" target=\"_blank\" rel=\"noopener noreferrer\">How to Use Cluster API</a></li>\n<li><a href=\"https://medium.com/@hiroyuki.osaki/illustration-cluster-api-6aac13767062\" target=\"_blank\" rel=\"noopener noreferrer\">Illustration: Cluster API</a></li>\n<li><a href=\"https://cluster-api.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Cluster API Documentation</a></li>\n</ul>\n<br>\n<br>\n<blockquote>\n<p>💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  <strong><em>Until next time 🎉</em></strong></p>\n</blockquote>\n<p>🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>♻️ LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>♻️ X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ✌🏻</strong></p>\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n<p><strong>📅 Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/dapr-kubernetes-event-driven-runtime-part1/","title":"Dapr: A portable, Event-Driven runtime for building distributed applications; Part1","date":"2024-10-20 22:06:00"},"excerpt":"A Beginner's Guide 📗 Distributed applications are becoming increasingly popular, as they offer a number of advantages over traditional…","html":"<blockquote>\n<p><strong>A Beginner's Guide 📗</strong></p>\n</blockquote>\n<p>Distributed applications are becoming increasingly popular, as they offer a number of advantages over traditional monolithic applications. However, building and running distributed applications can be complex and challenging.</p>\n<p><a href=\"https://docs.dapr.io/getting-started/\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr</a> is a portable, event-driven runtime that makes it easy to build and run distributed applications across the cloud and edge. It provides a set of building blocks that developers can use to easily build and run microservices, event-driven applications, and stateful applications.</p>\n<p>In this blog post, we will introduce Dapr and discuss its benefits and features. We will also show you how to get started with Dapr by building a simple microservices application.</p>\n<h2 id=\"what-is-dapr\" style=\"position:relative;\"><a href=\"#what-is-dapr\" aria-label=\"what is dapr permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>What is Dapr?</h2>\n<p><a href=\"https://docs.dapr.io/getting-started/\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr</a> is a portable, event-driven runtime that makes it easy for any developer to build resilient, stateless, and stateful applications that run on the cloud and edge and embraces the diversity of languages and developer frameworks. Leveraging the benefits of a sidecar architecture, Dapr helps you tackle the challenges that come with building microservices and keeps your code platform agnostic.</p>\n<h3 id=\"introduction-to-the-distributed-application-runtime\" style=\"position:relative;\"><a href=\"#introduction-to-the-distributed-application-runtime\" aria-label=\"introduction to the distributed application runtime permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Introduction to the Distributed Application Runtime</h3>\n<p>Dapr is a portable, event-driven runtime that makes it easy for any developer to build resilient, stateless, and stateful applications that run on the cloud and edge and embraces the diversity of languages and developer frameworks.</p>\n<h3 id=\"any-language-any-framework-anywhere\" style=\"position:relative;\"><a href=\"#any-language-any-framework-anywhere\" aria-label=\"any language any framework anywhere permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Any Language, Any Framework, Anywhere</h3>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 48.8235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLUlEQVR42jWSS2gTQRjH9yBIwcehhx5KEUXwQS8t6LF6tiCiBym5qAdLBaGHFhTx0oIHD/VgkEoOtVQvLa2P2EcS4pKqpDHQNLG0hrax2zw2dje7Mzs7O7NvZxP95uOb+R4/+PMxnOd5ruu2ous6jhNk7DKaZlrEadWCltOcYjEYwBhzlFJd1xFCBiGImoQSjJFpWTu7u8K+sLdTocS0WZFQg5gI6YRSVVUty9Y0jWMvRVEOJUnR9CI0gY5EqUopaSiSjo2NNIAAs0GhDiqStr0tKCrieZ4hhBDObhoT4vv/3fM0g0mgvmvajqUalu16vs/8nzHpTG8At/LknvEqo0bW/kS+VyOpUji+9XIpN7mUnf6UmZxLTc0nZhYS03PLM7PRyJvZL6k0QyDUuGyuVi5J92KIGxc6JorHn2bahmPHBt8dDYXbbj07NfC8q3+088rd9su323uunzzfd+Ti1dDIGIMBhJysGBTRoYX9E4/XTo997XwU7xqJnnv49sz9192D4d47Ly4NjPfcHL3QP9x97cHZvlBH742hJxMBDCDnOLbvOdlccX7lxyJfWOQ3llP5+GohmlyPfdt8n1j/zOeS6a0oX/iYzK2sFj4k8/lfZUYFsmVsAWqbbB22phwUkI5Miut1EagNIApQLDVkdiDRAaZ2WbUMDIlhsB0DADgZUYUw3jX1xu/iZk0UMdZVoLEfYmkNGx5iTCt1pV6vSSr6eQCr1aoky2zbGOO/izHuVWmm7x8AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"dapr\" title=\"\" src=\"/static/caaacddf29da2b8effa217adcaa7d4bb/c5bb3/dapr.png\" srcset=\"/static/caaacddf29da2b8effa217adcaa7d4bb/04472/dapr.png 170w,\n/static/caaacddf29da2b8effa217adcaa7d4bb/9f933/dapr.png 340w,\n/static/caaacddf29da2b8effa217adcaa7d4bb/c5bb3/dapr.png 680w,\n/static/caaacddf29da2b8effa217adcaa7d4bb/5a190/dapr.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>With the current wave of cloud adoption, web + database application architectures (such as classic 3-tier designs) are trending more toward microservice application architectures, which are inherently distributed. You shouldn't have to become a distributed systems expert just to create microservices applications.</p>\n<p>This is where Dapr comes in. Dapr codifies the best practices for building microservice applications into open, independent APIs called <a href=\"https://docs.dapr.io/concepts/overview/#microservice-building-blocks-for-cloud-and-edge\" target=\"_blank\" rel=\"noopener noreferrer\">building blocks</a>.</p>\n<h3 id=\"daprs-building-blocks\" style=\"position:relative;\"><a href=\"#daprs-building-blocks\" aria-label=\"daprs building blocks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Dapr's Building Blocks</h3>\n<ul>\n<li>Enable you to build portable applications using the language and framework of your choice.</li>\n<li>Are completely independent.</li>\n<li>Have no limit to how many you use in your application.</li>\n</ul>\n<p>Using Dapr, you can incrementally migrate your existing applications to a microservices architecture, thereby adopting cloud-native patterns such as scale out/in, resiliency, and independent deployments.</p>\n<p>Dapr is platform agnostic, meaning you can run your applications:</p>\n<ul>\n<li>Locally</li>\n<li>On any Kubernetes cluster</li>\n<li>On virtual or physical machines</li>\n<li>In other hosting environments that Dapr integrates with.</li>\n</ul>\n<p>This enables you to build microservice applications that can run on the cloud and edge.</p>\n<h3 id=\"hosting-environments\" style=\"position:relative;\"><a href=\"#hosting-environments\" aria-label=\"hosting environments permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Hosting Environments</h3>\n<p>Dapr can be hosted in multiple environments, including:</p>\n<ul>\n<li>Self-hosted on a Windows/Linux/macOS machine for local development.</li>\n<li>On Kubernetes or clusters of physical or virtual machines in production.</li>\n</ul>\n<h4 id=\"self-hosted-local-development\" style=\"position:relative;\"><a href=\"#self-hosted-local-development\" aria-label=\"self hosted local development permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Self-Hosted Local Development</h4>\n<p>In <a href=\"https://docs.dapr.io/operations/hosting/self-hosted/self-hosted-overview/\" target=\"_blank\" rel=\"noopener noreferrer\">self-hosted mode</a>, Dapr runs as a separate sidecar process, which your service code can call via HTTP or gRPC. Each running service has a Dapr runtime process (or sidecar) configured to use state stores, pub/sub, binding components, and other building blocks.</p>\n<p>You can use the <a href=\"https://github.com/dapr/cli#launch-dapr-and-your-app\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr CLI</a> to run a Dapr-enabled application on your local machine. In the following diagram, Dapr's local development environment gets configured with the CLI init command. Try this out with <a href=\"https://docs.dapr.io/getting-started/\" target=\"_blank\" rel=\"noopener noreferrer\">the getting started samples</a>.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3ZRAf//EABcQAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQEAAQUCpRaj/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhABAAMAAwAAAAAAAAAAAAAAAQARIRAxcf/aAAgBAQABPyE0+wSuNEpXUo5f/9oADAMBAAIAAwAAABBYz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQVFhgZH/2gAIAQEAAT8QVBLqkN6sFpvyQexzHNjbbDW37Mhvuf/Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"example\" title=\"\" src=\"/static/200455aca73b826a56c3691eb7e7ab2a/7bf67/example.jpg\" srcset=\"/static/200455aca73b826a56c3691eb7e7ab2a/651be/example.jpg 170w,\n/static/200455aca73b826a56c3691eb7e7ab2a/d30a3/example.jpg 340w,\n/static/200455aca73b826a56c3691eb7e7ab2a/7bf67/example.jpg 680w,\n/static/200455aca73b826a56c3691eb7e7ab2a/4b190/example.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h4 id=\"kubernetes\" style=\"position:relative;\"><a href=\"#kubernetes\" aria-label=\"kubernetes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Kubernetes</h4>\n<p>Kubernetes can be used for either:</p>\n<ul>\n<li><strong>Local development</strong> (for example, with <a href=\"https://minikube.sigs.k8s.io/docs/\" target=\"_blank\" rel=\"noopener noreferrer\">minikube</a> and <a href=\"https://k3s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">k3S</a>)</li>\n<li><strong>Production</strong> (see <a href=\"https://docs.dapr.io/operations/hosting/kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">production hosting</a>)</li>\n</ul>\n<p>In container hosting environments such as Kubernetes, Dapr runs as a sidecar container with the application container in the same pod. Dapr's <code class=\"language-text\">dapr-sidecar-injector</code> and <code class=\"language-text\">dapr-operator</code> control plane services provide first-class integration to:</p>\n<ul>\n<li>Launch Dapr as a sidecar container in the same pod as the service container</li>\n<li>Provide notifications of Dapr component updates provisioned in the cluster</li>\n</ul>\n<p>The <code class=\"language-text\">dapr-sentry</code> service is a certificate authority that enables mutual TLS between Dapr sidecar instances for secure data encryption, as well as providing identity via Spiffe. For more information on the Sentry service, <a href=\"https://docs.dapr.io/concepts/security-concept/#dapr-to-dapr-communication\" target=\"_blank\" rel=\"noopener noreferrer\">read the security overview</a>.</p>\n<p>Deploying and running a Dapr-enabled application into your Kubernetes cluster is as simple as adding a few annotations to the deployment schemes.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVR42l2R22rcMBCG/bR9pT5GodCUEnKTvUhpaFi2m81u9hDZXtnWWdbBsg62a6eFQn/+i5lffMMwyqY/Gsd3T//JdN734V8/TrBqHzcNAARWIhvGKb1Ts+cipCkOi+dcx+lhdwUApmnJh3mWCXWt7lcXCKExKivF9LhD293z02ZXwnqe7sLg4uiHpVDW+2Hs0xjHJcHCU6qRsBBWfd9n3MTHDc5z6qx5K8XLUVjTzQ+67fKr3p95DEFwu92zClvWBoSUta4oCmNMJkz49BWsN9R1fv3MPn8rKLXW9k2jv/8kN3d5CPOq9svt9WlLlI2E6jWWoCillFk/TJzK4/Gc58Da7nA4n06vgmBMakyJYBpjtN+/HF8vrk81doio+4pRIY3WmUtTZ4NzPqUU40AIJ4TkTDWYwGtlrI8xcs4R4qaLRWXntYXu2bsW2HUhpfmWU0xD6v2rDB/u6OpNT2My9u8/WevTMBLhCdZMu6Is27ZdYIxoDmBV80uhSSNPtf54C1YPwGinlG+lVaozer76hLln3AIkqrpxzmVU9YdLudkd14fqx8Eg1mkXlfbgqhruEe9PBQNXOWNYhrzUDVa/YM2FWGAusNKt7XolWecsF5JSTigjhCLCjGAjh1ZgwqRslRSmoeYGtRUmnLHfpLxl97+GXnkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"k8s\" title=\"\" src=\"/static/6ec20cc311f84b150d3050ac84958f56/c5bb3/k8s.png\" srcset=\"/static/6ec20cc311f84b150d3050ac84958f56/04472/k8s.png 170w,\n/static/6ec20cc311f84b150d3050ac84958f56/9f933/k8s.png 340w,\n/static/6ec20cc311f84b150d3050ac84958f56/c5bb3/k8s.png 680w,\n/static/6ec20cc311f84b150d3050ac84958f56/5a190/k8s.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"hands-on-and-getting-started\" style=\"position:relative;\"><a href=\"#hands-on-and-getting-started\" aria-label=\"hands on and getting started permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Hands-On and Getting Started</h2>\n<p>The project is surprisingly easy to get up and running regardless of your developer background and language of choice. I was able to follow the <a href=\"https://docs.dapr.io/getting-started/\" target=\"_blank\" rel=\"noopener noreferrer\">getting started guides</a> and run various quickstarts in no time on my macOS. Here are roughly the steps I followed:</p>\n<h3 id=\"install-dapr-cli-️\" style=\"position:relative;\"><a href=\"#install-dapr-cli-%EF%B8%8F\" aria-label=\"install dapr cli ️ permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Install Dapr CLI 🛠️</h3>\n<p>Dapr CLI is the main tool for performing Dapr-related tasks such as running an application with Dapr, viewing logs, running the Dapr dashboard, or deploying to Kubernetes.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew <span class=\"token function\">install</span> dapr/tap/dapr-cli</code></pre></div>\n<p>With the CLI installed, we have a few different options for installing and running Dapr. I'll start from the least demanding and flexible option and progress from there.</p>\n<p><strong>Option 1: Install Dapr without Docker:</strong></p>\n<p>This is the lightest but not the most useful way to run Dapr.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr init <span class=\"token parameter variable\">--slim</span></code></pre></div>\n<p>In this slim mode, only <code class=\"language-text\">daprd</code> and <code class=\"language-text\">placement</code> binaries are installed on the machine, which is sufficient for running Dapr sidecars locally.</p>\n<h3 id=\"️-run-a-dapr-sidecar\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-run-a-dapr-sidecar\" aria-label=\"️ run a dapr sidecar permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🛠️ Run a Dapr Sidecar</h3>\n<p>The following command will start a Dapr sidecar called <code class=\"language-text\">no-app</code> listening on HTTP port 3500 and a random gRPC port.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr run --app-id no-app --dapr-http-port <span class=\"token number\">3500</span></code></pre></div>\n<p>Congratulations, you have your first Dapr sidecar running. You can see the sidecar instance through this command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr list</code></pre></div>\n<p>Or query its health status:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-i</span> http://localhost:3500/v1.0/healthz</code></pre></div>\n<p>Dapr sidecars are supposed to run next to an application and not on their own. Let's stop this instance and run it with an application.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr stop --app-id no-app</code></pre></div>\n<h3 id=\"-run-a-simple-app-with-a-dapr-sidecar\" style=\"position:relative;\"><a href=\"#-run-a-simple-app-with-a-dapr-sidecar\" aria-label=\" run a simple app with a dapr sidecar permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🚀 Run a Simple App with a Dapr Sidecar</h3>\n<p>For more details, refer to the <a href=\"https://docs.dapr.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr documentation</a>.</p>\n<p>For this demonstration, we will use a <a href=\"https://github.com/dapr/samples/tree/master/hello-dapr-slim\" target=\"_blank\" rel=\"noopener noreferrer\">simple NodeJS application</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> clone https://github.com/dapr/samples.git\n<span class=\"token builtin class-name\">cd</span> samples/hello-dapr-slim\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<p>This is a Hello World the Dapr way and here is the gist of it:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/neworder'</span><span class=\"token punctuation\">,</span> bodyParser<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> \n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">const</span> orderId <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>orderId<span class=\"token punctuation\">;</span> \n    res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Got a new order! Order ID: \"</span> <span class=\"token operator\">+</span> orderId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>For more examples and detailed guides, check out the <a href=\"https://github.com/dapr/samples\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr Samples Repository</a>.</p>\n<p>The application has one <code class=\"language-text\">/neworder</code> endpoint listening on port 3000. We can run this application and the sidecar with the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr run --app-id nodeapp --app-port <span class=\"token number\">3000</span> --dapr-http-port <span class=\"token number\">3500</span> <span class=\"token function\">node</span> app.js</code></pre></div>\n<p>The command starts the NodeJS application on port 3000 and Dapr HTTP endpoint on 3500. Once you see in the logs that the app has started successfully, we can interact with it. Instead of hitting the <code class=\"language-text\">/neworder</code> endpoint directly on port 3000, we will interact with the application through the sidecar using the Dapr CLI:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr invoke <span class=\"token parameter variable\">--verb</span> POST --app-id nodeapp <span class=\"token parameter variable\">--method</span> neworder <span class=\"token parameter variable\">--data</span> <span class=\"token string\">'{\"data\": { \"orderId\": \"41\" } }'</span></code></pre></div>\n<p>For more information on Dapr CLI commands, refer to the <a href=\"https://docs.dapr.io/reference/cli/dapr-cli-overview/\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr CLI documentation</a>.</p>\n<p>You can also use a curl command to achieve the same result:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-XPOST</span> <span class=\"token parameter variable\">-d</span> @sample.json <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Content-Type:application/json\"</span> http://localhost:3500/v1.0/invoke/nodeapp/method/neworder</code></pre></div>\n<p>This command uses Dapr's service invocation API to interact with the application. Here is a visual representation of what just happened:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABnUlEQVR42nVRTS8DQRie+qhIE3FAnMXFUeLgD/SAi4OTUImTgzghvdWVODjgLwjBgaNE41JZqe8GKbKltbq73dndUf3Ynenr3bYiEd7kmWfeyeSZZ56XAIAvGo02eUzqhftGj9OKMiRc5xr7UwAhIUvMNKVMJiMZhiG5rvuNGOf8Xtf1RfJXfQtSXZ8U2LwXQGhFAK0EYOULwJgNxSIe/JTrLaZpbhJFUfrwtZlkMtkWiUSaEjsRfyy201oTpqHVExXI3IXjD99wMn/JD29zHKDCHZfzz3yem/YHNyxWqguuE9u2N72GMTbqiaxH1e6DB9aBWx9AbnrlxACycCv6157AF07A9tkbMCMLOWpC4TMPz+l3eHzNVh1Sig41TeunlIZlWW5HkUDL4ERv18BIT81hYXz5CB3OXLmdS3eCzF6K/XPNS0GgQ2FZlkjJsnhJyWVPEH+68Ts+P6I5GAwGqoKcTh6nXBjbUsTUXhZCu1m4VmrZiQr8nSFyA+K/KQ8Lp5jA+2cATtwDTj1ecpy4g8DpVrlcLks45aSqquEvYFmDJ1VslScAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Invoking an endpoint through Dapr sidecar\" title=\"\" src=\"/static/492fde26f0f51f028a477293e667a12a/c5bb3/dapr-invoke.png\" srcset=\"/static/492fde26f0f51f028a477293e667a12a/04472/dapr-invoke.png 170w,\n/static/492fde26f0f51f028a477293e667a12a/9f933/dapr-invoke.png 340w,\n/static/492fde26f0f51f028a477293e667a12a/c5bb3/dapr-invoke.png 680w,\n/static/492fde26f0f51f028a477293e667a12a/5a190/dapr-invoke.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>With Dapr on the request path, we get benefits such as resiliency policies (retries, timeouts, circuit breakers), observability enhancements (metrics, tracing, logs), and security enhancements (mTLS, <a href=\"https://docs.dapr.io/operations/configuration/invoke-allowlist/\" target=\"_blank\" rel=\"noopener noreferrer\">allow lists</a>). You can explore metadata, metrics endpoints, <a href=\"https://docs.dapr.io/operations/configuration/configuration-overview/\" target=\"_blank\" rel=\"noopener noreferrer\">configuration options</a>, or see your microservice in the Dapr dashboard:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr dashboard</code></pre></div>\n<p>The slim mode we are running is good for the Hello World scenario but not ideal for local development as it lacks state store, pub/sub, and metric server. Let's stop the nodeapp and remove the slim Dapr binary:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr stop --app-id nodeapp\ndapr uninstall</code></pre></div>\n<p>Note that this command will not remove the default configuration and component specification files usually located in the <code class=\"language-text\">~/.dapr</code> folder. If you follow other tutorials and change those files, they will remain and get applied with every <code class=\"language-text\">dapr run</code> command in the future (unless overridden). Keep this in mind to avoid confusion.</p>\n<h3 id=\"option-2-install-dapr-with-docker-\" style=\"position:relative;\"><a href=\"#option-2-install-dapr-with-docker-\" aria-label=\"option 2 install dapr with docker  permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><strong>Option 2: Install Dapr with Docker 🐳</strong></h3>\n<p>This is the preferred way for running <a href=\"https://docs.dapr.io/getting-started/install-dapr-selfhost/\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr locally</a> for development purposes, but it requires Docker. Let's set it up:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr init</code></pre></div>\n<p>The command will download and run 3 containers:</p>\n<ul>\n<li><strong>Dapr placement container</strong>: Used with actors (I wish this was an optional feature).</li>\n<li><strong>Zipkin</strong>: For collecting tracing information from our sidecars.</li>\n<li><strong>Redis</strong>: A single node Redis container used for state store, pub/sub, and distributed-lock implementations.</li>\n</ul>\n<p>You can verify when these containers are running and you are ready to go:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></code></pre></div>\n<h3 id=\"run-the-quickstarts-\" style=\"position:relative;\"><a href=\"#run-the-quickstarts-\" aria-label=\"run the quickstarts  permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><strong>Run the Quickstarts 🚀</strong></h3>\n<p>My next step from here was to try out the <a href=\"https://docs.dapr.io/getting-started/quickstarts/\" target=\"_blank\" rel=\"noopener noreferrer\">quickstarts</a> that demonstrate the building blocks for service invocation, pub/sub, state store, bindings, etc. The awesome thing about these quickstarts is that they demonstrate the same example in multiple ways:</p>\n<ul>\n<li>With Dapr SDK and without any dependency on Dapr SDK (i.e., using HTTP only).</li>\n<li>In multiple languages: Java, JavaScript, .NET, Go, Python, etc.</li>\n</ul>\n<p>You can mix and match different languages and interaction methods (SDK or native) for the same example, which demonstrates Dapr's polyglot nature.</p>\n<h3 id=\"option-3-install-dapr-on-kubernetes-️\" style=\"position:relative;\"><a href=\"#option-3-install-dapr-on-kubernetes-%EF%B8%8F\" aria-label=\"option 3 install dapr on kubernetes ️ permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><strong>Option 3: Install Dapr on Kubernetes ☸️</strong></h3>\n<p>If you have come this far, you should have a good high-level understanding of what Dapr can do for you. The next step would be to deploy Dapr on Kubernetes where most of the Dapr functionalities are available and closest to a production deployment. For this purpose, I used <a href=\"https://minikube.sigs.k8s.io/docs/\" target=\"_blank\" rel=\"noopener noreferrer\">minikube</a> locally with default settings and no custom tuning.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dapr init <span class=\"token parameter variable\">--kubernetes</span> <span class=\"token parameter variable\">--wait</span></code></pre></div>\n<p>If successful, this command will start the following pods in the <code class=\"language-text\">dapr-system</code> namespace:</p>\n<ul>\n<li><strong>dapr-operator</strong>: Manages all components for state store, pub/sub, configuration, etc.</li>\n<li><strong>dapr-sidecar-injector</strong>: Injects Dapr sidecars into annotated deployment pods.</li>\n<li><strong>dapr-placement</strong>: Required with actors only.</li>\n<li><strong>dapr-sentry</strong>: Manages mTLS between services and acts as a certificate authority.</li>\n<li><strong>dapr-dashboard</strong>: A simple web app to explore what is running within a Dapr cluster.</li>\n</ul>\n<p>These Pods collectively represent the <a href=\"https://docs.dapr.io/concepts/dapr-services/\" target=\"_blank\" rel=\"noopener noreferrer\">Dapr control plane.</a></p>\n<h3 id=\"injecting-a-sidecar-️\" style=\"position:relative;\"><a href=\"#injecting-a-sidecar-%EF%B8%8F\" aria-label=\"injecting a sidecar ️ permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><strong>Injecting a Sidecar 🛠️</strong></h3>\n<p>From here on, adding a Dapr sidecar to an application (this would be Dapr dataplane) is as easy as adding the <a href=\"https://docs.dapr.io/reference/arguments-annotations-overview/\" target=\"_blank\" rel=\"noopener noreferrer\">following annotations</a> to your Kubernetes Deployments:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">annotations</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">dapr.io/enabled</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span>\n    <span class=\"token key atrule\">dapr.io/app-id</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"nodeapp\"</span>\n    <span class=\"token key atrule\">dapr.io/app-port</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3000\"</span></code></pre></div>\n<p>The <code class=\"language-text\">dapr-sidecar-injector</code> service watches for new Pods with the <code class=\"language-text\">dapr.io/enabled</code> annotation and injects a container with the <code class=\"language-text\">daprd</code> process within the pod. It also adds <code class=\"language-text\">DAPR_HTTP_PORT</code> and <code class=\"language-text\">DAPR_GRPC_PORT</code> environment variables to your container so that it can easily communicate with Dapr without hard-coding Dapr port values.</p>\n<p>To deploy a complete application on Kubernetes, I suggest this <a href=\"https://github.com/dapr/quickstarts/tree/master/tutorials/hello-kubernetes\" target=\"_blank\" rel=\"noopener noreferrer\">step-by-step example</a>. It has provider and consumer services and it worked the first time for me.</p>\n<h3 id=\"transparent-vs-explicit-proxy-\" style=\"position:relative;\"><a href=\"#transparent-vs-explicit-proxy-\" aria-label=\"transparent vs explicit proxy  permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><strong>Transparent vs Explicit Proxy 🔍</strong></h3>\n<p>Notice that Dapr sidecar injection is less intrusive than a typical service mesh with a transparent sidecar such as Istio's Envoy. To inject a transparent proxy, typically the Pods also get injected with an init-container that runs at the start of the Pod and re-configures the Pod's networking rules so that all ingress and egress traffic of your application container goes through the sidecar. With Dapr, that is not the case. There is a sidecar injected, but your application is in control of when and how to interact with Dapr over its well-defined explicit (non-transparent) APIs.</p>\n<p>Transparent service mesh proxies operate at lower network layers typically used by operations teams, whereas Dapr provides application layer primitives needed by developers. If you are interested in this topic, here is a good <a href=\"https://docs.dapr.io/concepts/service-mesh/\" target=\"_blank\" rel=\"noopener noreferrer\">explanation of the differences and overlaps of Dapr with service meshes</a>.</p>\n<h2 id=\"summary-\" style=\"position:relative;\"><a href=\"#summary-\" aria-label=\"summary  permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a><strong>Summary 📝</strong></h2>\n<p>Dapr emerges as a versatile and event-driven runtime, providing a beginner-friendly solution for constructing distributed applications. With its portable nature and emphasis on simplifying development complexities, Dapr empowers newcomers to seamlessly navigate the intricacies of building distributed systems. As a beginner's guide, this post sheds light on Dapr's fundamental features, offering a gateway for developers to embark on their journey into the realm of distributed application development.</p>\n<br>\n<p><strong><em>Until next time, つづく 🎉</em></strong></p>\n<blockquote>\n<p>💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  <em><strong>Until next time 🎉</strong></em></p>\n</blockquote>\n<p>🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>♻️ LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>♻️ X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ✌🏻</strong></p>\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n<p><strong>📅 Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}