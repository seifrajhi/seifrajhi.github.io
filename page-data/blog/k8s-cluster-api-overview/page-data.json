{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/k8s-cluster-api-overview/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Programmatically Configure and Deploy k8s Clusters üï∏</strong></p>\n</blockquote>\n<h2 id=\"-preamble\" style=\"position:relative;\"><a href=\"#-preamble\" aria-label=\" preamble permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üê≥ Preamble</h2>\n<p>Getting a Kubernetes cluster set up can be done in a bunch of ways. There are more than 125 certified options, including different distributions, hosting services, and tools for installation. You can find a big list <a href=\"https://www.cncf.io/training/certification/software-conformance/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p>The big cloud companies, like <a href=\"https://azure.microsoft.com/en-us/services/kubernetes-service/\" target=\"_blank\" rel=\"noopener noreferrer\">AKS</a>, <a href=\"https://aws.amazon.com/eks/\" target=\"_blank\" rel=\"noopener noreferrer\">EKS</a>, <a href=\"https://cloud.google.com/kubernetes-engine\" target=\"_blank\" rel=\"noopener noreferrer\">GKE</a>, offer managed solutions that make it easy to create a Kubernetes cluster. They hide the complicated parts behind their special tools. This is a great way to start running your Kubernetes work on their platforms.</p>\n<p>Another way is to use tools like <a href=\"https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm/\" target=\"_blank\" rel=\"noopener noreferrer\">kubeadm</a>, <a href=\"https://kops.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">kOps</a>, <a href=\"https://github.com/kubernetes-sigs/kubespray\" target=\"_blank\" rel=\"noopener noreferrer\">Kubespray</a>, and others like also IAC tools. They help you make clusters on different cloud services or even on your own machines. This is useful for working with more than one cloud or mixing the cloud with your own computers.</p>\n<p>If you‚Äôre feeling bold, you can even build a Kubernetes cluster from scratch. <a href=\"https://x.com/kelseyhightower\" target=\"_blank\" rel=\"noopener noreferrer\">Kelsey Hightower</a> shows how to do it <a href=\"https://github.com/kelseyhightower/kubernetes-the-hard-way\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. But fair warning, this means doing everything from setting up custom Linux services to making special certificates. It‚Äôs a bunch of steps, but it‚Äôs a real DIY adventure.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIFBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAGfuku5oAj/AP/EABgQAAMBAQAAAAAAAAAAAAAAAAEQEgID/9oACAEBAAEFAuM1uZRJX//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEVH/2gAIAQMBAT8Boxf/xAAXEQADAQAAAAAAAAAAAAAAAAABEBFR/9oACAECAQE/AYdX/8QAHBAAAgAHAAAAAAAAAAAAAAAAARAAESEiMTJh/9oACAEBAAY/Arq8jUCbyv/EABsQAQACAgMAAAAAAAAAAAAAAAERMQAQIWGx/9oACAEBAAE/ISqPTDMNFMVjelnKZ71//9oADAMBAAIAAwAAABDk/wD/xAAYEQADAQEAAAAAAAAAAAAAAAAAARGh0f/aAAgBAwEBPxBSjTelP//EABgRAAIDAAAAAAAAAAAAAAAAAAEREKHR/9oACAECAQE/EC5tWR//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEEExUZH/2gAIAQEAAT8QExsg9fXWGNcyLPWAEDS6feCnhTFW+Rqbrj//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"capi\" title=\"\" src=\"/static/6fd8e65276a7a5a56fd0189b3f50f8ea/7bf67/capi.jpg\" srcset=\"/static/6fd8e65276a7a5a56fd0189b3f50f8ea/651be/capi.jpg 170w,\n/static/6fd8e65276a7a5a56fd0189b3f50f8ea/d30a3/capi.jpg 340w,\n/static/6fd8e65276a7a5a56fd0189b3f50f8ea/7bf67/capi.jpg 680w,\n/static/6fd8e65276a7a5a56fd0189b3f50f8ea/4b190/capi.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-what-is-cluster-api\" style=\"position:relative;\"><a href=\"#-what-is-cluster-api\" aria-label=\" what is cluster api permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚ùì What is Cluster API?</h2>\n<p><a href=\"https://cluster-api.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Cluster API (CAPI)</a> is a Kubernetes sub-project within the <a href=\"https://github.com/kubernetes/community/tree/master/sig-cluster-lifecycle#readme\" target=\"_blank\" rel=\"noopener noreferrer\">CNCF‚Äôs Cluster Lifecycle Special Interest Group</a>. It focuses on using declarative APIs for Kubernetes cluster management. In essence, Cluster API utilizes the operator pattern prevalent in Kubernetes design to simplify provisioning, upgrading, and operating Kubernetes clusters themselves. (Learn more about this meta-pattern in our CNCF webinar ‚Äò<a href=\"https://community.cncf.io/events/details/cncf-cncf-online-programs-presents-cloud-native-live-k8s-all-the-things/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes all the things!</a>‚Äô)</p>\n<p>The Cluster API enables us to:</p>\n<ul>\n<li>Provision multi-master Kubernetes clusters.</li>\n<li>Provision and maintain all the required cluster primitives (compute, networking, storage, security, etc.).</li>\n<li>Implement security best practices (NSGs, subnets, bastion hosts, etc.).</li>\n<li>Upgrade Control Plane and Workers on a rolling basis.</li>\n<li>Support multiple bare metal &#x26; public and private cloud providers.</li>\n</ul>\n<h2 id=\"-components-of-cluster-api\" style=\"position:relative;\"><a href=\"#-components-of-cluster-api\" aria-label=\" components of cluster api permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üí° Components of Cluster API</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACeElEQVR42k1Sa1PaUBDNT3JadSwPqx/6Y9txsNXqh6Lt1CflEQQVBALUByQkQQlJyM3zdO8NOr0zZ/Zm7+7Zk92VRhM3GetzqIYN3bTxpM3xqNoEC+azCyQReiMPrfECzIvguCEWXgiPvSIS8AmMhYn0MJ6hcv2E5p2K646KcvMRjfYYVfLd9CYAYuxXbHyRLZFkuynRKynzU9JFSgjJ9yOEYYw4ShAR+D3kNorhsgSjqY/Og4XOvYUnw8fMiQQZT/Y52fIuChAkdxFQ1UBUdhapAtuNMHdCWATtJcCYSIcqw8gMiDD181iHWmDznCUH55I4u2FFaI9C1PsOrgYOrv966Kgx7o0YQzMRPllxoOgJhuTjb7ePjOJtkdPVYiqaKpUcYjatAAONQe5MUWkZuB3S700DqKTsdjhH7c5ErW2goVjok1I+pOrdM2GKMsU3BzaMWYAw4IQk0w9i0bNO30SrZ0DTbfCTJAluuhO0FQPdgQnl/hkkAvoLo+FpaJKAekvHgzpHHMeipxIfgKkZuCxdoPC9iN1vRewf/sT5RQln55fY3Sti7+AYBfKfnFzg9KyEwx+n2Pl6hMLeMT4Xivj1+xzaRBdDlbiS44NDbG+uYvvTFnKZDD5sbOBjLo98NoutfI6Qx9rqe+TIl8lksUHv6+tr2MxmxPu7lRXs7BTEX0mklBaa+lG5QqPeJFtHuSyjLjcE5NoVoYEK+f6Ua5DrDVTJVypV0esqGPQHUHp9TKcvYuWkxYLBtl0EAW07h8/3KxILyy338XtAfeZT5HGvoBa/HU7G4yUii2azecJYkHienzCP22D5ndr/IWKWbyTmDV6aF/0DJzxf/NfLObQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"components\" title=\"\" src=\"/static/1612dc5c93ad60607fb8fe7ceecfa7c7/c5bb3/components.png\" srcset=\"/static/1612dc5c93ad60607fb8fe7ceecfa7c7/04472/components.png 170w,\n/static/1612dc5c93ad60607fb8fe7ceecfa7c7/9f933/components.png 340w,\n/static/1612dc5c93ad60607fb8fe7ceecfa7c7/c5bb3/components.png 680w,\n/static/1612dc5c93ad60607fb8fe7ceecfa7c7/5a190/components.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Underneath the hood, Cluster API consists of the following components and custom resources:</p>\n<ul>\n<li><strong>Management Cluster</strong>: Where the various CAPI providers (e.g., infrastructure, bootstrap, and control plane) and resources are stored.</li>\n<li>Cluster API has an <a href=\"https://cluster-api.sigs.k8s.io/reference/providers\" target=\"_blank\" rel=\"noopener noreferrer\">extensive list</a> of supported providers ranging from cloud providers like AWS, Azure, GCP as well as bare metal providers like VMware, MAAS, and metal3.io. The flexible nature of the API has allowed the community to create many new providers. In fact, Spectro Cloud created one for <a href=\"https://github.com/spectrocloud/cluster-api-provider-maas\" target=\"_blank\" rel=\"noopener noreferrer\">Canonical MAAS</a>.</li>\n<li>Deploying Cluster API involves two Kubernetes clusters: one is a temporary cluster called the <a href=\"https://cluster-api.sigs.k8s.io/user/quick-start.html?highlight=management%20cluster#initialize-the-management-cluster\" target=\"_blank\" rel=\"noopener noreferrer\">bootstrap or management cluster</a>, which you use to create a second cluster that becomes the permanent Cluster API management cluster.</li>\n<li><strong>Workload Cluster</strong>: Simply a Kubernetes cluster managed by the components declared in the management cluster.</li>\n</ul>\n<h3 id=\"providers\" style=\"position:relative;\"><a href=\"#providers\" aria-label=\"providers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Providers</h3>\n<ul>\n<li><strong>Infrastructure</strong>: Responsible for provisioning and managing infrastructure components required by Kubernetes such as VMs, load balancers, and VPCs.</li>\n<li><strong>Bootstrap</strong>: Responsible for bootstrapping Kubernetes components such as creating cluster certificates, installing control plane components, and joining worker nodes to the control plane.</li>\n<li><strong>Control Plane</strong>: Responsible for Kubernetes API components such as kube-apiserver, kube-controller-manager, and kube-scheduler. By default, kubeadm is used for the control plane, but other variants like <a href=\"https://microk8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">microk8s.io</a> or <a href=\"https://www.talos.dev/\" target=\"_blank\" rel=\"noopener noreferrer\">talos</a> can be configured as well.</li>\n</ul>\n<h3 id=\"custom-resources\" style=\"position:relative;\"><a href=\"#custom-resources\" aria-label=\"custom resources permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Custom Resources</h3>\n<ul>\n<li><strong>Machine</strong>: Spec for the infrastructure backing the Kubernetes node (i.e., VM).</li>\n<li><strong>MachineSet</strong>: Spec for maintaining a stable set of Machines (similar to ReplicaSet for pods).</li>\n<li><strong>MachineDeployment</strong>: Spec for updating Machines and MachineSets (similar to Deployment).</li>\n<li><strong>MachineHealthCheck</strong>: Spec for defining the healthiness of the nodes.</li>\n<li><strong>BootstrapData</strong>: Spec for machine-specific initialization data (mostly used for initializing cloud VMs).</li>\n</ul>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACZklEQVR42mVTS2/TQBj0//8LnDggwY0TPYAqARfSqjz6gDakTeLYie34vfbuenftYbypEBKH0cr7mG+++cbBPuunNBfI8g7HskOcCuwSgShpcdoXGAYDqSwaYSB6g14aKG2f4Ty0h52Cx7DEp8s1Lq4jLH7scHUb4dcqxeJ7iG8/Y9wt99Ce0KEVjuQOhlDqRKgH+0w2n1kEVTtgm0hsDj1WcYesMqg7h2NjUbUWQjoUXHe5wl1U4y4u8cguBjN6krlQP6vvrO8i6PigZOW4NAhzjadUo+Ge0MAmjLBNO4SFQVwMyBqHisVKPn6IFZYHjYe95rsBFE0hJGx7h5ooW4Pzry1uwgbrokZYShJYFPTt861ASuVCTVQ74nqtcSgk4uzkd0L/ezVg5goaVmypyLoRr872uNnUiNsG12FL5SN9MnjxdseBadgRiHOLs0uJvDGoGuWRV/yutbcnGHjr4r7DfcgeMXo/zhYN2zBIawvnnPfXD8CCSueORmyy2SKLqKC/xbw3kZAtK5q7uD3i17rF5b0kscLHq4zeaV6mis7g5bsEx9p4ha2cYOyEMFPYpBJPB4ndUWGccFJYC4tNXKNperz/kuF3KKh0QkZ19fyYkVlzuqLTMDR+HuCb8wJZyVbLU3azQqDnxDs1smUqLOjjkkFepRWiXPrIbDMaz8lrsrz+kNMzB0cVcypWe3onTpH6i+f4BFJqBrYj+8CDwXtlGNCS+YyOGtt9g+WWU+eacDCa+ajF4AM9Wg7zHxgWD4ToXV23E1M+Dfx1tDYevRympFDTgUgr7dcZRUPUepLSTEr9B/cH+qOQp9EDBMEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"capi-example\" title=\"\" src=\"/static/b8b6f699e78c58115ea382a6ce77aeb6/c5bb3/capi-example.png\" srcset=\"/static/b8b6f699e78c58115ea382a6ce77aeb6/04472/capi-example.png 170w,\n/static/b8b6f699e78c58115ea382a6ce77aeb6/9f933/capi-example.png 340w,\n/static/b8b6f699e78c58115ea382a6ce77aeb6/c5bb3/capi-example.png 680w,\n/static/b8b6f699e78c58115ea382a6ce77aeb6/5a190/capi-example.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-hands-on-labs-setting-up-the-environment\" style=\"position:relative;\"><a href=\"#-hands-on-labs-setting-up-the-environment\" aria-label=\" hands on labs setting up the environment permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üéØ Hands-on Labs: Setting up the Environment</h2>\n<p>Before using Cluster API, you need to set up your environment. Ensure you have the necessary environments, such as GCP or AWS accounts, Kubernetes clusters, and the credentials required to access these resources.</p>\n<h3 id=\"-install-clusterctl-and-kubectl\" style=\"position:relative;\"><a href=\"#-install-clusterctl-and-kubectl\" aria-label=\" install clusterctl and kubectl permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚úÖ Install Clusterctl and Kubectl</h3>\n<p>Clusterctl installs necessary CLI tools, Kubernetes manifests, and the required CRDs on the management cluster. Kubectl is a command-line tool used for interacting with Kubernetes clusters. It is the primary interface for managing and controlling Kubernetes resources and workloads.</p>\n<p>For macOS, you can use Homebrew to install Kubectl and Clusterctl. Run the following commands to install them:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew <span class=\"token function\">install</span> clusterctl\nbrew <span class=\"token function\">install</span> kubectl</code></pre></div>\n<p>Alternatively, you can download Clusterctl and Kubectl directly as binaries for other platforms. To install Kubectl, use the guide on the <a href=\"https://kubernetes.io/docs/tasks/tools/install-kubectl/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes documentation</a>. Similarly, install Clusterctl using the steps provided in the <a href=\"https://cluster-api.sigs.k8s.io/user/quick-start.html\" target=\"_blank\" rel=\"noopener noreferrer\">official documentation</a>.</p>\n<h3 id=\"-choosing-your-providers\" style=\"position:relative;\"><a href=\"#-choosing-your-providers\" aria-label=\" choosing your providers permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚úÖ Choosing Your Providers</h3>\n<p>As discussed before, Cluster API supports three types of providers: infrastructure, bootstrap, and control plane providers.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABO0lEQVR42u2TXW+CMBiF/f+/yBu8MXHuSp1oWEQBjeiFWlugFEp71lbUmbhkyXazZDQnfd8np6flq4Nfvjp/O1BLQNAa7JgjOxautuz7gbrVtRUA2TKE/gqrWYxzmjn2lf8hUGkNO2pZQ9QVqqqVsLNh4lpfZD3Wa9fYtbdA3W5xqij8dYDJwsdbNMehJGhUg4RtMQ6nmIQ+1qaWhh04wdR4rHe2eQepWHtgfT9hLjkIpzhzBiIoClk6Q644ziVzKpRwrDQzFRlIQUHrHEJVz5/h6XjCMlxiv9vfWLpNsVyEiKMYm/XGMc656SMkcYwkSpCx7HngbD6H1+th+DpE0zSOBUGAbreLfr+P0XjkGCEEnudh8DJAz/jTXXq5Za0fA22IlZT3b8OabG+llLqxq9dKf34p/7/ejwM/AIF8lwrxBVuZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"provider\" title=\"\" src=\"/static/9c20d72b8b182580bb40df2ff17b470d/c5bb3/provider.png\" srcset=\"/static/9c20d72b8b182580bb40df2ff17b470d/04472/provider.png 170w,\n/static/9c20d72b8b182580bb40df2ff17b470d/9f933/provider.png 340w,\n/static/9c20d72b8b182580bb40df2ff17b470d/c5bb3/provider.png 680w,\n/static/9c20d72b8b182580bb40df2ff17b470d/5a190/provider.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>For this post, we will set up a Cluster API with the AWS provider. Therefore, we need to have the necessary credentials. Create a shell file <code class=\"language-text\">capa.sh</code> and add the environment variables for your AWS environment using the example below as a guide:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AWS_ACCESS_KEY_ID</span><span class=\"token operator\">=</span><span class=\"token string\">\"YOUR_AWS_ACCESS_KEY\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AWS_SECRET_ACCESS_KEY</span><span class=\"token operator\">=</span><span class=\"token string\">\"YOUR_AWS_SECRET_KEY\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">AWS_REGION</span><span class=\"token operator\">=</span><span class=\"token string\">\"eu-west-1\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CONTROL_PLANE_MACHINE_COUNT</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">WORKER_MACHINE_COUNT</span><span class=\"token operator\">=</span><span class=\"token number\">3</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">KUBERNETES_VERSION</span><span class=\"token operator\">=</span><span class=\"token string\">\"v1.27.0\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CLUSTER_NAME</span><span class=\"token operator\">=</span><span class=\"token string\">\"my-demo-cluster\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">NODE_INSTANCE_TYPE</span><span class=\"token operator\">=</span><span class=\"token string\">\"t3.medium\"</span></code></pre></div>\n<p>Make the script executable and run it as shown below:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">chmod</span> +x capa.sh\n./capa.sh</code></pre></div>\n<h3 id=\"-setting-up-provider-components\" style=\"position:relative;\"><a href=\"#-setting-up-provider-components\" aria-label=\" setting up provider components permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚úÖ Setting Up Provider Components</h3>\n<p>This typically involves installing CRDs, controllers, and a set of custom resources that drive the provider. Run the following command to install the provider components for AWS:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">clusterctl init <span class=\"token parameter variable\">--infrastructure</span> aws</code></pre></div>\n<h3 id=\"-creating-and-deploying-the-cluster\" style=\"position:relative;\"><a href=\"#-creating-and-deploying-the-cluster\" aria-label=\" creating and deploying the cluster permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚úÖ Creating and Deploying the Cluster</h3>\n<p>Once you have set up your environment and installed the providers, you can move on to cluster creation. To create a workload cluster, you need to define a cluster object by specifying the desired state of the cluster. This includes specifications for the number of nodes, Virtual Machines, networks, load balancers, and other required resources. Once created, the controller will ensure that the actual state matches the desired state.</p>\n<p>Deploy your first Kubernetes cluster using Cluster API and the desired infrastructure provider:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">clusterctl config cluster my-demo-cluster --kubernetes-version v1.27.0 --control-plane-machine-count<span class=\"token operator\">=</span><span class=\"token number\">1</span> --worker-machine-count<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">--region</span><span class=\"token operator\">=</span>eu-west-1 <span class=\"token operator\">></span> my-cluster.yaml\nkubectl apply <span class=\"token parameter variable\">-f</span> my-cluster.yaml</code></pre></div>\n<p>Once the deployment is successful, verify whether the cluster exists. You can check that the cluster has been created by monitoring the status of the cluster and machines custom resources from the management cluster. An example of how to do this is shown below:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl get clusters\nkubectl get machinedeployments\nkubectl get crd</code></pre></div>\n<p>Then, download the kubeconfig file for the target cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Get the kubeconfig for the new cluster</span>\nclusterctl get kubeconfig my-demo-cluster <span class=\"token operator\">></span> my-cluster-kubeconfig.yaml\n<span class=\"token comment\"># Set KUBECONFIG to the new kubeconfig</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">KUBECONFIG</span><span class=\"token operator\">=</span>my-cluster-kubeconfig.yaml\n<span class=\"token comment\"># Verify connectivity by checking the nodes</span>\nkubectl get nodes</code></pre></div>\n<h2 id=\"-takeaways\" style=\"position:relative;\"><a href=\"#-takeaways\" aria-label=\" takeaways permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîµ Takeaways</h2>\n<p>The Cluster API architecture allows for the creation of clusters in a declarative manner. It uses a familiar programming model and enables infrastructure providers to create clusters using an open, extensible model for implementation. It allows teams to use GitOps processes to create clusters in line with how they deploy applications.</p>\n<p><strong>üìªüß°  References:</strong></p>\n<ul>\n<li><a href=\"https://www.spectrocloud.com/blog/getting-started-with-kubernetes-cluster-api-capi\" target=\"_blank\" rel=\"noopener noreferrer\">Getting Started with Kubernetes Cluster API (CAPI)</a></li>\n<li><a href=\"https://www.spectrocloud.com/blog/cluster-api-and-kubernetes-cluster-management\" target=\"_blank\" rel=\"noopener noreferrer\">Cluster API and Kubernetes Cluster Management</a></li>\n<li><a href=\"https://pradeepl.com/blog/kubernetes/kubernetes-cluster-api-capi-an-introduction/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes Cluster API (CAPI): An Introduction</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=8yUDUhZ6ako\" target=\"_blank\" rel=\"noopener noreferrer\">YouTube: Kubernetes Cluster API</a></li>\n<li><a href=\"https://www.mirantis.com/blog/how-to-use-cluster-api/\" target=\"_blank\" rel=\"noopener noreferrer\">How to Use Cluster API</a></li>\n<li><a href=\"https://medium.com/@hiroyuki.osaki/illustration-cluster-api-6aac13767062\" target=\"_blank\" rel=\"noopener noreferrer\">Illustration: Cluster API</a></li>\n<li><a href=\"https://cluster-api.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Cluster API Documentation</a></li>\n</ul>\n<br>\n<br>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":5,"rawMarkdownBody":"\n> **Programmatically Configure and Deploy k8s Clusters üï∏**\n\n## üê≥ Preamble\n\nGetting a Kubernetes cluster set up can be done in a bunch of ways. There are more than 125 certified options, including different distributions, hosting services, and tools for installation. You can find a big list [here](https://www.cncf.io/training/certification/software-conformance/).\n\nThe big cloud companies, like [AKS](https://azure.microsoft.com/en-us/services/kubernetes-service/), [EKS](https://aws.amazon.com/eks/), [GKE](https://cloud.google.com/kubernetes-engine), offer managed solutions that make it easy to create a Kubernetes cluster. They hide the complicated parts behind their special tools. This is a great way to start running your Kubernetes work on their platforms.\n\nAnother way is to use tools like [kubeadm](https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm/), [kOps](https://kops.sigs.k8s.io/), [Kubespray](https://github.com/kubernetes-sigs/kubespray), and others like also IAC tools. They help you make clusters on different cloud services or even on your own machines. This is useful for working with more than one cloud or mixing the cloud with your own computers.\n\nIf you‚Äôre feeling bold, you can even build a Kubernetes cluster from scratch. [Kelsey Hightower](https://x.com/kelseyhightower) shows how to do it [here](https://github.com/kelseyhightower/kubernetes-the-hard-way). But fair warning, this means doing everything from setting up custom Linux services to making special certificates. It‚Äôs a bunch of steps, but it‚Äôs a real DIY adventure.\n\n![capi](./capi.jpg)\n\n## ‚ùì What is Cluster API?\n\n[Cluster API (CAPI)](https://cluster-api.sigs.k8s.io/) is a Kubernetes sub-project within the [CNCF‚Äôs Cluster Lifecycle Special Interest Group](https://github.com/kubernetes/community/tree/master/sig-cluster-lifecycle#readme). It focuses on using declarative APIs for Kubernetes cluster management. In essence, Cluster API utilizes the operator pattern prevalent in Kubernetes design to simplify provisioning, upgrading, and operating Kubernetes clusters themselves. (Learn more about this meta-pattern in our CNCF webinar ‚Äò[Kubernetes all the things!](https://community.cncf.io/events/details/cncf-cncf-online-programs-presents-cloud-native-live-k8s-all-the-things/)‚Äô)\n\nThe Cluster API enables us to:\n\n- Provision multi-master Kubernetes clusters.\n- Provision and maintain all the required cluster primitives (compute, networking, storage, security, etc.).\n- Implement security best practices (NSGs, subnets, bastion hosts, etc.).\n- Upgrade Control Plane and Workers on a rolling basis.\n- Support multiple bare metal & public and private cloud providers.\n\n## üí° Components of Cluster API\n\n![components](./components.png)\n\nUnderneath the hood, Cluster API consists of the following components and custom resources:\n\n- **Management Cluster**: Where the various CAPI providers (e.g., infrastructure, bootstrap, and control plane) and resources are stored.\n- Cluster API has an [extensive list](https://cluster-api.sigs.k8s.io/reference/providers) of supported providers ranging from cloud providers like AWS, Azure, GCP as well as bare metal providers like VMware, MAAS, and metal3.io. The flexible nature of the API has allowed the community to create many new providers. In fact, Spectro Cloud created one for [Canonical MAAS](https://github.com/spectrocloud/cluster-api-provider-maas).\n- Deploying Cluster API involves two Kubernetes clusters: one is a temporary cluster called the [bootstrap or management cluster](https://cluster-api.sigs.k8s.io/user/quick-start.html?highlight=management%20cluster#initialize-the-management-cluster), which you use to create a second cluster that becomes the permanent Cluster API management cluster.\n- **Workload Cluster**: Simply a Kubernetes cluster managed by the components declared in the management cluster.\n\n### Providers\n\n- **Infrastructure**: Responsible for provisioning and managing infrastructure components required by Kubernetes such as VMs, load balancers, and VPCs.\n- **Bootstrap**: Responsible for bootstrapping Kubernetes components such as creating cluster certificates, installing control plane components, and joining worker nodes to the control plane.\n- **Control Plane**: Responsible for Kubernetes API components such as kube-apiserver, kube-controller-manager, and kube-scheduler. By default, kubeadm is used for the control plane, but other variants like [microk8s.io](https://microk8s.io/) or [talos](https://www.talos.dev/) can be configured as well.\n\n### Custom Resources\n\n- **Machine**: Spec for the infrastructure backing the Kubernetes node (i.e., VM).\n- **MachineSet**: Spec for maintaining a stable set of Machines (similar to ReplicaSet for pods).\n- **MachineDeployment**: Spec for updating Machines and MachineSets (similar to Deployment).\n- **MachineHealthCheck**: Spec for defining the healthiness of the nodes.\n- **BootstrapData**: Spec for machine-specific initialization data (mostly used for initializing cloud VMs).\n\n![capi-example](./capi-example.png)\n\n## üéØ Hands-on Labs: Setting up the Environment\n\nBefore using Cluster API, you need to set up your environment. Ensure you have the necessary environments, such as GCP or AWS accounts, Kubernetes clusters, and the credentials required to access these resources.\n\n### ‚úÖ Install Clusterctl and Kubectl\n\nClusterctl installs necessary CLI tools, Kubernetes manifests, and the required CRDs on the management cluster. Kubectl is a command-line tool used for interacting with Kubernetes clusters. It is the primary interface for managing and controlling Kubernetes resources and workloads.\n\nFor macOS, you can use Homebrew to install Kubectl and Clusterctl. Run the following commands to install them:\n\n```shell\nbrew install clusterctl\nbrew install kubectl\n```\n\nAlternatively, you can download Clusterctl and Kubectl directly as binaries for other platforms. To install Kubectl, use the guide on the [Kubernetes documentation](https://kubernetes.io/docs/tasks/tools/install-kubectl/). Similarly, install Clusterctl using the steps provided in the [official documentation](https://cluster-api.sigs.k8s.io/user/quick-start.html).\n\n### ‚úÖ Choosing Your Providers\n\nAs discussed before, Cluster API supports three types of providers: infrastructure, bootstrap, and control plane providers.\n\n![provider](./provider.png)\n\nFor this post, we will set up a Cluster API with the AWS provider. Therefore, we need to have the necessary credentials. Create a shell file `capa.sh` and add the environment variables for your AWS environment using the example below as a guide:\n\n```shell\n#!/bin/bash\nexport AWS_ACCESS_KEY_ID=\"YOUR_AWS_ACCESS_KEY\"\nexport AWS_SECRET_ACCESS_KEY=\"YOUR_AWS_SECRET_KEY\"\nexport AWS_REGION=\"eu-west-1\"\nexport CONTROL_PLANE_MACHINE_COUNT=1\nexport WORKER_MACHINE_COUNT=3\nexport KUBERNETES_VERSION=\"v1.27.0\"\nexport CLUSTER_NAME=\"my-demo-cluster\"\nexport NODE_INSTANCE_TYPE=\"t3.medium\"\n```\n\nMake the script executable and run it as shown below:\n\n```shell\nchmod +x capa.sh\n./capa.sh\n```\n\n### ‚úÖ Setting Up Provider Components\n\nThis typically involves installing CRDs, controllers, and a set of custom resources that drive the provider. Run the following command to install the provider components for AWS:\n\n```shell\nclusterctl init --infrastructure aws\n```\n\n### ‚úÖ Creating and Deploying the Cluster\n\nOnce you have set up your environment and installed the providers, you can move on to cluster creation. To create a workload cluster, you need to define a cluster object by specifying the desired state of the cluster. This includes specifications for the number of nodes, Virtual Machines, networks, load balancers, and other required resources. Once created, the controller will ensure that the actual state matches the desired state.\n\nDeploy your first Kubernetes cluster using Cluster API and the desired infrastructure provider:\n\n```shell\nclusterctl config cluster my-demo-cluster --kubernetes-version v1.27.0 --control-plane-machine-count=1 --worker-machine-count=1 --region=eu-west-1 > my-cluster.yaml\nkubectl apply -f my-cluster.yaml\n```\n\nOnce the deployment is successful, verify whether the cluster exists. You can check that the cluster has been created by monitoring the status of the cluster and machines custom resources from the management cluster. An example of how to do this is shown below:\n\n```shell\nkubectl get clusters\nkubectl get machinedeployments\nkubectl get crd\n```\n\nThen, download the kubeconfig file for the target cluster:\n\n```shell\n# Get the kubeconfig for the new cluster\nclusterctl get kubeconfig my-demo-cluster > my-cluster-kubeconfig.yaml\n# Set KUBECONFIG to the new kubeconfig\nexport KUBECONFIG=my-cluster-kubeconfig.yaml\n# Verify connectivity by checking the nodes\nkubectl get nodes\n```\n\n## üîµ Takeaways\n\nThe Cluster API architecture allows for the creation of clusters in a declarative manner. It uses a familiar programming model and enables infrastructure providers to create clusters using an open, extensible model for implementation. It allows teams to use GitOps processes to create clusters in line with how they deploy applications.\n\n**üìªüß°  References:**\n\n- [Getting Started with Kubernetes Cluster API (CAPI)](https://www.spectrocloud.com/blog/getting-started-with-kubernetes-cluster-api-capi)\n- [Cluster API and Kubernetes Cluster Management](https://www.spectrocloud.com/blog/cluster-api-and-kubernetes-cluster-management)\n- [Kubernetes Cluster API (CAPI): An Introduction](https://pradeepl.com/blog/kubernetes/kubernetes-cluster-api-capi-an-introduction/)\n- [YouTube: Kubernetes Cluster API](https://www.youtube.com/watch?v=8yUDUhZ6ako)\n- [How to Use Cluster API](https://www.mirantis.com/blog/how-to-use-cluster-api/)\n- [Illustration: Cluster API](https://medium.com/@hiroyuki.osaki/illustration-cluster-api-6aac13767062)\n- [Cluster API Documentation](https://cluster-api.sigs.k8s.io/)\n\n<br>\n<br>\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  **_Until next time üéâ_**\n\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":1099},"frontmatter":{"id":"1e0e3ef77b79489b4769b005","path":"/blog/k8s-cluster-api-overview/","humanDate":"Oct 20, 2024","fullDate":"2024-10-20","title":"Getting started with Kubernetes Cluster API CAPI: An Overview","keywords":["Kubernetes","Cluster API","CAPI","Kubernetes clusters"],"excerpt":"Explore how to programmatically configure and deploy Kubernetes clusters using Cluster API (CAPI).","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByElEQVR42nWQz08TQRTH98/w6IX/wX/AixePGKJwUw+ejPGiPXnZAxJCQAMxqGisEZqISa00KJXDVgNCGqAttqyKcdlOO7O70+6yu/OLmd1WuPAOM++9eZ/3vvM00yJTK+4mCoQQjIvUGFdezmiMlKyjOM2I7cpOs2nW9xvV2k9CiExqsx/xiA6e/pA0kzE/A1/NvL/4pLJkUen3gvDZwuLzN8uv3uXzxa8diBT8cAHpWfdW1vYFlSgfkPuWd+Hm8tBkbbTYkWEUePjPpg+qPjroNT4TZCp49DG4O4OGX/+7A3/Fie4ULjdRJlefNtqZtbYfJ6JCIIAhQFl0DwVLZOuL7sZudEk/vH5gpqNT5UmHfjS+arw18g70bCdAOKSDGm1sAlzTW1fm/4b89M+iz3OaaPmwtVeqf/c9iN2O57o8qVTweu24UOmtAkwHYHq1HAqxWtVvO+54qhp2ectRj6YVt131pA3k/Z+mzpjw8Zw3V8DSv6GDe3NyZ/z2JBh+ZGOfXb5vPZiHCpa6KOsv6ax92cLlqi+dbPHo0ze18KUSerkiGf6i0C5tq76aOMdIdExJxBhzoN3FUHaPwh6JfZmhJGAsEkKcAEX0GTbC5N0zAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/b0394dc522ed44a20372fa0fdee98442/133b4/capi-cover.png","srcSet":"/static/b0394dc522ed44a20372fa0fdee98442/c3845/capi-cover.png 750w,\n/static/b0394dc522ed44a20372fa0fdee98442/133b4/capi-cover.png 774w","sizes":"100vw"},"sources":[{"srcSet":"/static/b0394dc522ed44a20372fa0fdee98442/9122e/capi-cover.webp 750w,\n/static/b0394dc522ed44a20372fa0fdee98442/9ae52/capi-cover.webp 774w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4844961240310077}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/eks-secure-traffic-istio-alb-acm/","title":"Istio, ALB, and ACM: securing end-to-end traffic on Amazon EKS with TLS certificates","date":"2024-10-20 22:40:00"},"excerpt":"Enhancing Security on Amazon EKS with Istio, ALB, and ACM üï∏ Preamble Renowned for its capabilities in Load Balancing, Service Discovery‚Ä¶","html":"<blockquote>\n<p><strong>Enhancing Security on Amazon EKS with Istio, ALB, and ACM üï∏</strong></p>\n</blockquote>\n<h2 id=\"preamble\" style=\"position:relative;\"><a href=\"#preamble\" aria-label=\"preamble permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Preamble</h2>\n<p>Renowned for its capabilities in Load Balancing, Service Discovery, Rate Limiting, <a href=\"https://istio.io/latest/about/service-mesh/\" target=\"_blank\" rel=\"noopener noreferrer\">Service Mesh</a>, and more within the microservices landscape, Istio holds a pivotal role.</p>\n<p>However, following <a href=\"https://istio.io/latest/docs/setup/getting-started/\" target=\"_blank\" rel=\"noopener noreferrer\">the default installation</a> steps for Istio within an EKS cluster results in the creation of a Classic Load Balancer, rather than an Application Load Balancer (ALB). This scenario prompts the need for ALB installation by DevOps engineers to facilitate service exposure.</p>\n<p>This article draws inspiration from an AWS blog post and takes the concept further, refining the Istio setup to ensure readiness for production environments. The objective is to showcase the implementation of Istio enriched with supplementary features, building upon the foundation of the aforementioned <a href=\"https://aws.amazon.com/blogs/containers/secure-end-to-end-traffic-on-amazon-eks-using-tls-certificate-in-acm-alb-and-istio/\" target=\"_blank\" rel=\"noopener noreferrer\">reference AWS blog</a>. The outcome is a meticulously prepared Istio Mesh tailored to the demands of production scenarios.</p>\n<h3 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Prerequisites</h3>\n<p>In order to move forward, you should possess the following:</p>\n<ul>\n<li>An existing AWS account with proper permissions.</li>\n<li>An existing and working EKS cluster v1.26.</li>\n<li>ALB ingress controller installed.</li>\n<li>An existing and valid certificate in <a href=\"https://aws.amazon.com/certificate-manager/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Certificate Manager (ACM)</a>. You can request one if you do not have one.</li>\n<li><a href=\"https://aws.amazon.com/cli/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS CLI</a></li>\n<li><a href=\"https://eksctl.io/\" target=\"_blank\" rel=\"noopener noreferrer\">eksctl</a></li>\n<li><a href=\"https://helm.sh/\" target=\"_blank\" rel=\"noopener noreferrer\">Helm</a></li>\n<li><a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Git</a></li>\n<li><a href=\"https://www.openssl.org/\" target=\"_blank\" rel=\"noopener noreferrer\">OpenSSL</a></li>\n<li><a href=\"https://istio.io/latest/docs/setup/getting-started/#download\" target=\"_blank\" rel=\"noopener noreferrer\">Istioctl</a></li>\n<li><a href=\"https://kubernetes.io/docs/tasks/tools/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubectl</a></li>\n</ul>\n<p>I will illustrate the installation of a sample Kubernetes application known as <strong>Yelb</strong> and its exposure through a Kubernetes service configured as a load balancer. Subsequently, I will guide you through the process of configuring the ALB ingress controller to direct this traffic to Istio for additional processing.</p>\n<h2 id=\"-deploy-yelb-app\" style=\"position:relative;\"><a href=\"#-deploy-yelb-app\" aria-label=\" deploy yelb app permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Deploy Yelb App</h2>\n<p>To deploy the sample Kubernetes application <strong>Yelb</strong>, follow these steps:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> clone https://github.com/aws-samples/eks-alb-istio-with-tls\n<span class=\"token builtin class-name\">cd</span> eks-alb-istio-with-tls\nkubectl apply <span class=\"token parameter variable\">-f</span> yelb-k8s-loadbalancer.yaml</code></pre></div>\n<h3 id=\"visualizing-the-current-state\" style=\"position:relative;\"><a href=\"#visualizing-the-current-state\" aria-label=\"visualizing the current state permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Visualizing the Current State</h3>\n<p>Let's visualize our current state of the application:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe4qSmD/xAAYEAADAQEAAAAAAAAAAAAAAAAAAREQIf/aAAgBAQABBQJl6Mmf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAABEg/9oACAEBAAY/AhT/AP/EABsQAAEFAQEAAAAAAAAAAAAAABEAARAhQVFx/9oACAEBAAE/IWDXveKtD+hGAEx//9oADAMBAAIAAwAAABCgD//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EKf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCH/8QAHBABAAIBBQAAAAAAAAAAAAAAAQARIUFRcYGR/9oACAEBAAE/ENwKawioJ3o9lHSZVFMTfMCf/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Current State\" title=\"\" src=\"/static/d8abdc36c1b8e2170663248099c968e9/7bf67/current.jpg\" srcset=\"/static/d8abdc36c1b8e2170663248099c968e9/651be/current.jpg 170w,\n/static/d8abdc36c1b8e2170663248099c968e9/d30a3/current.jpg 340w,\n/static/d8abdc36c1b8e2170663248099c968e9/7bf67/current.jpg 680w,\n/static/d8abdc36c1b8e2170663248099c968e9/4b190/current.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"future-state-with-end-to-end-encryption\" style=\"position:relative;\"><a href=\"#future-state-with-end-to-end-encryption\" aria-label=\"future state with end to end encryption permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Future State with End-to-End Encryption</h3>\n<p>In the future state of the application, we will implement end-to-end traffic encryption using a TLS certificate from ACM, ALB, and Istio in Amazon EKS. The target state of the cluster will look like this:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdxXADD/xAAaEAABBQEAAAAAAAAAAAAAAAAAAQIQETEi/9oACAEBAAEFAsL5bilR/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAACBB/9oACAEBAAY/Air/AP/EABwQAAICAgMAAAAAAAAAAAAAAAABITERQWGxwf/aAAgBAQABPyF7S/BXdJKbfLJmAkkf/9oADAMBAAIAAwAAABCXz//EABYRAQEBAAAAAAAAAAAAAAAAAAABIf/aAAgBAwEBPxBdf//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAbEAEBAQACAwAAAAAAAAAAAAABEQBBYZGhsf/aAAgBAQABPxA1SqsYOEUGzn4ZUlYIjF7wADuCPnGQPe//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Target State\" title=\"\" src=\"/static/094b5b066560d873631bf6be7243a780/7bf67/target.jpg\" srcset=\"/static/094b5b066560d873631bf6be7243a780/651be/target.jpg 170w,\n/static/094b5b066560d873631bf6be7243a780/d30a3/target.jpg 340w,\n/static/094b5b066560d873631bf6be7243a780/7bf67/target.jpg 680w,\n/static/094b5b066560d873631bf6be7243a780/4b190/target.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"Ô∏è-setting-up-and-configuring-istio\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-setting-up-and-configuring-istio\" aria-label=\"Ô∏è setting up and configuring istio permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚öôÔ∏è Setting Up and Configuring Istio</h2>\n<p>To install Istio via <code class=\"language-text\">istioctl</code> and modify the service type of <code class=\"language-text\">istio-ingressgateway</code> to <code class=\"language-text\">NodePort</code>, execute the following command. This adjustment is essential for routing traffic from ALB to EC2 instances.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">istioctl <span class=\"token function\">install</span> <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">profile</span><span class=\"token operator\">=</span>demo <span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--set</span> values.gateways.istio-ingressgateway.type<span class=\"token operator\">=</span>NodePort</code></pre></div>\n<h3 id=\"confirm-istio-installation-status\" style=\"position:relative;\"><a href=\"#confirm-istio-installation-status\" aria-label=\"confirm istio installation status permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Confirm Istio Installation Status</h3>\n<p>Ensure Istio installation is operational by executing:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl get pods <span class=\"token parameter variable\">-n</span> istio-system</code></pre></div>\n<p>Active pods should be visible.</p>\n<h3 id=\"enable-istio-integration\" style=\"position:relative;\"><a href=\"#enable-istio-integration\" aria-label=\"enable istio integration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Enable Istio Integration</h3>\n<p>Apply a label to the default namespace to trigger Istio to inject a proxy sidecar into running pods within the namespace. Prior to this, remove any existing pods in the default namespace.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Label default namespace</span>\nkubectl label namespace default istio-injection<span class=\"token operator\">=</span>enabled <span class=\"token parameter variable\">--overwrite</span>\n\n<span class=\"token comment\"># Delete existing pods so that Istio can inject sidecar</span>\nkubectl delete pods <span class=\"token parameter variable\">--all</span>\n\n<span class=\"token comment\"># Get list of pods</span>\nkubectl get pods</code></pre></div>\n<p>You will notice that there are two containers running in each pod.</p>\n<p><strong>üîê Creating Self-Signed TLS Certificates</strong></p>\n<p>To produce self-signed certificates, we'll employ a key pair to secure traffic encryption between ALB and Istio Gateway.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">openssl req <span class=\"token parameter variable\">-x509</span> <span class=\"token parameter variable\">-newkey</span> rsa:4096 <span class=\"token parameter variable\">-sha256</span> <span class=\"token parameter variable\">-days</span> <span class=\"token number\">3650</span> <span class=\"token parameter variable\">-nodes</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">-keyout</span> key.pem <span class=\"token parameter variable\">-out</span> cert.pem <span class=\"token parameter variable\">-subj</span> <span class=\"token string\">\"/CN=*.yourdomain.com\"</span></code></pre></div>\n<p><strong>Example</strong></p>\n<p>Replace <code class=\"language-text\">*.yourdomain.com</code> with the wildcard domain name for your application. For example, in my case, it will be:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">openssl req <span class=\"token parameter variable\">-x509</span> <span class=\"token parameter variable\">-newkey</span> rsa:4096 <span class=\"token parameter variable\">-sha256</span> <span class=\"token parameter variable\">-days</span> <span class=\"token number\">36500</span> <span class=\"token parameter variable\">-nodes</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">-keyout</span> key.pem <span class=\"token parameter variable\">-out</span> cert.pem <span class=\"token parameter variable\">-subj</span> <span class=\"token string\">\"/CN=*.some-domain.cloud\"</span></code></pre></div>\n<h3 id=\"creating-a-kubernetes-secret\" style=\"position:relative;\"><a href=\"#creating-a-kubernetes-secret\" aria-label=\"creating a kubernetes secret permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Creating a Kubernetes Secret</h3>\n<p>Create a Kubernetes secret containing <code class=\"language-text\">key.pem</code> and <code class=\"language-text\">cert.pem</code>. We will use it with Istio Gateway to implement traffic encryption.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl create <span class=\"token parameter variable\">-n</span> istio-system secret generic tls-secret <span class=\"token punctuation\">\\</span>\n    --from-file<span class=\"token operator\">=</span>key<span class=\"token operator\">=</span>key.pem <span class=\"token punctuation\">\\</span>\n    --from-file<span class=\"token operator\">=</span>cert<span class=\"token operator\">=</span>cert.pem</code></pre></div>\n<h2 id=\"-configure-istio-gateway-and-virtual-services\" style=\"position:relative;\"><a href=\"#-configure-istio-gateway-and-virtual-services\" aria-label=\" configure istio gateway and virtual services permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîß Configure Istio Gateway and Virtual Services</h2>\n<p>To configure traffic routing for Istio using gateway and virtual services, follow these steps:</p>\n<h3 id=\"install-and-configure-istio-gateway\" style=\"position:relative;\"><a href=\"#install-and-configure-istio-gateway\" aria-label=\"install and configure istio gateway permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Install and Configure Istio Gateway</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl apply <span class=\"token parameter variable\">-f</span> istio/gateway.yaml</code></pre></div>\n<h3 id=\"install-and-configure-external-services\" style=\"position:relative;\"><a href=\"#install-and-configure-external-services\" aria-label=\"install and configure external services permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Install and Configure External Services</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl apply <span class=\"token parameter variable\">-f</span> istio/external-services.yaml</code></pre></div>\n<h3 id=\"install-and-configure-istio-virtual-services-for-yelb\" style=\"position:relative;\"><a href=\"#install-and-configure-istio-virtual-services-for-yelb\" aria-label=\"install and configure istio virtual services for yelb permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Install and Configure Istio Virtual Services for Yelb</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl apply <span class=\"token parameter variable\">-f</span> istio/yelb-services.yaml</code></pre></div>\n<p>We have applied self-signed certificates to the Ingress Gateway, which Istio will utilize for encrypting the traffic between the Application Load Balancer (ALB) and Istio itself. This step is crucial for establishing comprehensive end-to-end encryption.</p>\n<h2 id=\"-focus-on-the-istio-gateway\" style=\"position:relative;\"><a href=\"#-focus-on-the-istio-gateway\" aria-label=\" focus on the istio gateway permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåê Focus on the Istio Gateway</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> networking.istio.io/v1alpha3\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Gateway\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> yelb<span class=\"token punctuation\">-</span>gateway\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">istio</span><span class=\"token punctuation\">:</span> ingressgateway\n    <span class=\"token key atrule\">servers</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span> <span class=\"token number\">443</span>\n                <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">-</span><span class=\"token number\">443</span>\n                <span class=\"token key atrule\">protocol</span><span class=\"token punctuation\">:</span> HTTPS\n            <span class=\"token key atrule\">tls</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">mode</span><span class=\"token punctuation\">:</span> SIMPLE\n                <span class=\"token key atrule\">credentialName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"tls-secret\"</span>\n            <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> <span class=\"token string\">\"*\"</span></code></pre></div>\n<p>You'll observe that we have employed the Kubernetes secret called <code class=\"language-text\">tls-secret</code> as the <code class=\"language-text\">credentialName</code>, referencing the previously generated OpenSSL key and certificate. This secret encompasses the cryptographic key and certificate. The <code class=\"language-text\">yelb-gateway</code> Gateway is configured to listen on port 443, dedicated to handling encrypted traffic.</p>\n<h2 id=\"Ô∏è-set-up-alb-ingress\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-set-up-alb-ingress\" aria-label=\"Ô∏è set up alb ingress permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèóÔ∏è Set Up ALB Ingress</h2>\n<p>While Istio cannot directly utilize ACM TLS certificates, we can harness AWS Application Load Balancer alongside ACM certificates. This strategy allows us to handle HTTPS traffic termination and then channel it to Istio Ingress Gateway for subsequent handling.</p>\n<p>For this procedure, we will require the ACM public certificate's ARN and the domain previously established in <a href=\"https://aws.amazon.com/route53/\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon Route 53</a>, Amazon's Domain Name System (DNS) web service.</p>\n<p>The approach involves crafting an Ingress resource that captures incoming ALB traffic and conveys it to the Istio gateway. To make the process more streamlined, we have crafted a Helm chart that accommodates parameters such as the ACM certificate ARN and the host name. This setup ensures a seamless generation and installation of the Ingress configuration.</p>\n<h3 id=\"create-a-wildcard-ssl-certificate\" style=\"position:relative;\"><a href=\"#create-a-wildcard-ssl-certificate\" aria-label=\"create a wildcard ssl certificate permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Create a Wildcard SSL Certificate</h3>\n<p>Create a wildcard SSL certificate for your domain using AWS ACM and save the \"arn\" of that resource for later use.</p>\n<h3 id=\"install-alb-istio-ingress\" style=\"position:relative;\"><a href=\"#install-alb-istio-ingress\" aria-label=\"install alb istio ingress permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Install ALB-Istio Ingress</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">helm <span class=\"token function\">install</span> alb-istio-ingress ./helm/ALB-Istio-TLS <span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">host</span><span class=\"token operator\">=</span>blog.yourdomain.com <span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">certificate_arn</span><span class=\"token operator\">=</span>arn:aws:acm:xxxxxx:999999999999:certificate/xxxxxxxxx</code></pre></div>\n<p>After the installation of the Ingress, it will set up an AWS Application Load Balancer accessible on the internet. This Load Balancer will be associated with an ACM certificate to handle HTTPS traffic, and it will then route this traffic to Istio resources within the EKS cluster.</p>\n<p>To access the generated manifest of the Ingress resource, you can use the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl get ingress gw-ingress <span class=\"token parameter variable\">-n</span> istio-system <span class=\"token parameter variable\">-o</span> yaml</code></pre></div>\n<p>The generated output will look like the snippet below. Note the values corresponding to <code class=\"language-text\">alb.ingress.kubernetes.io/backend-protocol</code> and <code class=\"language-text\">host</code> fields.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> networking.k8s.io/v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Ingress\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">annotations</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">kubernetes.io/ingress.class</span><span class=\"token punctuation\">:</span> alb\n        <span class=\"token key atrule\">alb.ingress.kubernetes.io/scheme</span><span class=\"token punctuation\">:</span> internet<span class=\"token punctuation\">-</span>facing\n        <span class=\"token key atrule\">alb.ingress.kubernetes.io/healthcheck-path</span><span class=\"token punctuation\">:</span> /healthz/ready\n        <span class=\"token key atrule\">alb.ingress.kubernetes.io/healthcheck-port</span><span class=\"token punctuation\">:</span> traffic<span class=\"token punctuation\">-</span>port\n        <span class=\"token key atrule\">alb.ingress.kubernetes.io/backend-protocol</span><span class=\"token punctuation\">:</span> HTTPS\n        <span class=\"token key atrule\">alb.ingress.kubernetes.io/listen-ports</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'[{\"HTTP\": 80}, {\"HTTPS\":443}]'</span>\n        <span class=\"token key atrule\">alb.ingress.kubernetes.io/actions.ssl-redirect</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n            {\n                \"Type\": \"redirect\", \n                \"RedirectConfig\": { \n                    \"Protocol\": \"HTTPS\", \n                    \"Port\": \"443\", \n                    \"StatusCode\": \"HTTP_301\"\n                }\n            }    </span>\n        <span class=\"token key atrule\">alb.ingress.kubernetes.io/certificate-arn</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n            arn:aws:acm:xxxxxx:999999999999:certificate/xxxxxxxxx</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> gw<span class=\"token punctuation\">-</span>ingress\n    <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> istio<span class=\"token punctuation\">-</span>system\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> blog.yourdomain.com\n        <span class=\"token key atrule\">http</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>      \n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ssl<span class=\"token punctuation\">-</span>redirect\n                        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> \n                            <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> use<span class=\"token punctuation\">-</span>annotation\n                <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /    \n                <span class=\"token key atrule\">pathType</span><span class=\"token punctuation\">:</span> Prefix  \n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> istio<span class=\"token punctuation\">-</span>ingressgateway\n                        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> \n                            <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span> <span class=\"token number\">15021</span>\n                <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /healthz/ready\n                <span class=\"token key atrule\">pathType</span><span class=\"token punctuation\">:</span> Prefix\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> istio<span class=\"token punctuation\">-</span>ingressgateway\n                        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> \n                            <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span> <span class=\"token number\">443</span>\n                <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /\n                <span class=\"token key atrule\">pathType</span><span class=\"token punctuation\">:</span> Prefix</code></pre></div>\n<p>Now you might be wondering why we created a wildcard SSL ACM in the previous step and in the above step we only attach a subdomain (<code class=\"language-text\">blog.yourdomain.com</code>). How can we use a single Ingress to expose multiple services?</p>\n<p>To address this, due to templating issues, we cannot pass the wildcard domain in the Helm chart above. To fix this, once the ingress is created, we edit the ingress resource to configure annotations for the wildcard domain:</p>\n<h3 id=\"edit-the-ingress-resource\" style=\"position:relative;\"><a href=\"#edit-the-ingress-resource\" aria-label=\"edit the ingress resource permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Edit the Ingress Resource</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl edit ingress gw-ingress <span class=\"token parameter variable\">-n</span> istio-system</code></pre></div>\n<p>Go to <code class=\"language-text\">spec.rules.host</code> and change it to the wildcard domain.</p>\n<h3 id=\"get-alb-load-balancer-dns\" style=\"position:relative;\"><a href=\"#get-alb-load-balancer-dns\" aria-label=\"get alb load balancer dns permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Get ALB Load Balancer DNS</h3>\n<p>Make a note of the ALB load balancer DNS:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>kubectl get ingress gw-ingress <span class=\"token parameter variable\">-n</span> istio-system <span class=\"token parameter variable\">-o</span> <span class=\"token assign-left variable\">jsonpath</span><span class=\"token operator\">=</span><span class=\"token string\">\"{.status.loadBalancer.ingress[*].hostname}\"</span><span class=\"token variable\">)</span></span></code></pre></div>\n<p>You should get an output like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">k8s-istiosys-xxxxxxxxxxxxxxxxxxx.eu-west-1.elb.amazonaws.com</code></pre></div>\n<h2 id=\"-create-a-wildcard-route-53-entry\" style=\"position:relative;\"><a href=\"#-create-a-wildcard-route-53-entry\" aria-label=\" create a wildcard route 53 entry permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåê Create a Wildcard Route 53 Entry</h2>\n<p>The last step is to create a wildcard Route 53 entry for your internet-facing ALB. This ensures that whenever any virtual service with the subdomain DNS is created, it will automatically get routed to the ALB. From there, the traffic will be directed to the Istio Gateway and then to the Virtual Service.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 44.705882352941174%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAd1xBlMzv//EABYQAAMAAAAAAAAAAAAAAAAAAAEgMf/aAAgBAQABBQJTf//EABURAQEAAAAAAAAAAAAAAAAAAAAS/9oACAEDAQE/AUP/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEv/aAAgBAgEBPwFb/8QAFhAAAwAAAAAAAAAAAAAAAAAAAAEg/9oACAEBAAY/ApZ//8QAGhABAAEFAAAAAAAAAAAAAAAAAQARICGB8P/aAAgBAQABPyEHiZpNlm//2gAMAwEAAgADAAAAEDD/AP/EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8QFS0//8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAB/9oACAECAQE/ELRoX//EABwQAQABBAMAAAAAAAAAAAAAAAERACExYRBRof/aAAgBAQABPxAFxgjGU90mBJ2VC3ZNc+6v/9k='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Route 53 Setup\" title=\"\" src=\"/static/0ae88a1afffd69a4121732557e6f95ab/7bf67/route53.jpg\" srcset=\"/static/0ae88a1afffd69a4121732557e6f95ab/651be/route53.jpg 170w,\n/static/0ae88a1afffd69a4121732557e6f95ab/d30a3/route53.jpg 340w,\n/static/0ae88a1afffd69a4121732557e6f95ab/7bf67/route53.jpg 680w,\n/static/0ae88a1afffd69a4121732557e6f95ab/4b190/route53.jpg 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-summary\" style=\"position:relative;\"><a href=\"#-summary\" aria-label=\" summary permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîö Summary</h2>\n<p>Amazon EKS offers a hassle-free way to operate Kubernetes both on AWS and on-premises. Kubernetes, an open-source platform, automates the deployment, scaling, and administration of containerized applications. Amazon EKS is certified as Kubernetes-conformant, ensuring compatibility with existing applications designed for upstream Kubernetes environments.</p>\n<p>Moreover, Amazon EKS seamlessly integrates with community Kubernetes tools and supports popular add-ons, such as <a href=\"https://coredns.io/\" target=\"_blank\" rel=\"noopener noreferrer\">CoreDNS</a> for DNS services, the <a href=\"https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes Dashboard</a> for UI management, and the <a href=\"https://kubernetes.io/docs/reference/kubectl/\" target=\"_blank\" rel=\"noopener noreferrer\">kubectl</a> command-line tool for cluster access and control.</p>\n<p>This article has outlined how you can establish end-to-end security for your Amazon EKS setup using service meshes like Istio, in combination with <a href=\"https://aws.amazon.com/certificate-manager/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Certificate Manager</a> and the <a href=\"https://aws.amazon.com/elasticloadbalancing/\" target=\"_blank\" rel=\"noopener noreferrer\">Application Load Balancer</a>.</p>\n<p>I trust this guide aids your Kubernetes endeavors and streamlines your transition to Amazon EKS. If you have inquiries or insights, feel free to share them in the comments.</p>\n<br>\n<br>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/botkube-kubernetes-monitoring-automation/","title":"Botkube: Making Kubernetes management and automation easier","date":"2024-10-20 22:10:00"},"excerpt":"Making cluster operation automation simple for everyone üìó üìï Introduction Botkube helps operators manage k8s by sending alerts and‚Ä¶","html":"<blockquote>\n<p><strong>Making cluster operation automation simple for everyone üìó</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìï Introduction</h2>\n<p><a href=\"https://github.com/kubeshop/botkube\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube</a> helps operators manage k8s by sending alerts and automating tasks.\nIt's great for both experts and beginners. You can use it to run commands, follow best practices, and integrate with Slack, Teams, Discord, or Mattermost.</p>\n<p>In this blog post, we'll show you how Botkube makes managing Kubernetes simpler. We'll look at some key tasks it can help you with, making your cluster management smoother and more efficient.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZUlEQVR42pWSS4/bVBTH/Z3askLqMBsWwApUWFVUtIPEgn4CKOJLIMQWiRESqCAYTdVpmUknbzuJ7cSxndhx/IgTJ04m88i8mPlxWgHqhgVHOrr3XN17z/9xlIfv3mZj7Qafrt9iY/0NNt66xYO1m3z+zhpf3fuQR/fu8PX9j/jy7vt8cfcDHn18h8/efpP7t2/y4OXdv/OT2zd4+N46ilrYpV4qUS/u09gv0CoVUQt7vDxvlvZR90vsPd2jsLNHQ2q9UsYo72NUJcsvMCovXq1mtSjvd1FmyzOWXZ255xLl54TpAUGcEY0y+sMUP14wyi9IF+cMA1idQxJmjP2I6XxBOsvJ8px0PCGXWplMl1x1K5x6bWqmh9XpEIcBWRIwHA5o6Tr1pk0Sn2OWr5kkoLd0jFoJ13FpGSbVmiZrC8d1UH7eqvHN98/5brNAsdrg8vyE8fKKx9oR10A+m/D70wo//NJl64+Ax08GlCo1OmaFIAjQGi22tnexXAs/HKB07S71ao0fn9Uoay0O8gyzn/Lttk+ez4njkHK1Sc3u0R4E/KZV6Lq+fODhSG1ZnuhqE2cZs+Uhiivata0ahh1Q1drYXQtNrWOZLVRVpd93efKsKOhVwsAn6jZJA4fE7zJMUjwBpFUa+K7LKI5Q2l2Xar1CXeuws1ul1/eYTCYkoxGzfIqq6Wz+tE1DN/D7PcaeSeSahI5JMpkR+w7djkGv0yby+iiWFJVSlXw6YTAYChKdYkUTbQx2dgps/voc3XI5XR0TJRmqbtN2fMk+I9+QN4I6maA2mjgCRhmNUhF3yOHxoSCai/UHVFSN/XKNmtoiScccLJcMggFBGMqIzIjsPgOjiyP0hyJDfrKiISxty5AP05QwkovTKePxlGw+xRIdPYGfjMeMs6k0muHYDv5gwMHxksD26RkuvrjshzHBYoGhN8UgGyUQp1zHplZo4oqwwaQnmkh32UdRRtvsyCy20OsBphFgWD30tiEuu0yFUdvx0MTpvbr8YcrYxLM5jnQZCu1er4+utwWhTV8e2B0HW4a1aTZI2xZ5GHFydsbq5ITVasXF5SWnp6evMpsfMVscoSxkdtJsJtrlTIV2KjTDKGaUxLKOZA6F0tBj6fVYiXH/FecXV5xd/InC/4zr6+t/8/Wzf+IvWH0W+RovJJkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"botkube\" title=\"\" src=\"/static/a27824d6da5df019a4c259ff1dd856ff/c5bb3/botkube.png\" srcset=\"/static/a27824d6da5df019a4c259ff1dd856ff/04472/botkube.png 170w,\n/static/a27824d6da5df019a4c259ff1dd856ff/9f933/botkube.png 340w,\n/static/a27824d6da5df019a4c259ff1dd856ff/c5bb3/botkube.png 680w,\n/static/a27824d6da5df019a4c259ff1dd856ff/b12f7/botkube.png 1020w,\n/static/a27824d6da5df019a4c259ff1dd856ff/c1b63/botkube.png 1200w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"setup-botkube-on-kubernetes\" style=\"position:relative;\"><a href=\"#setup-botkube-on-kubernetes\" aria-label=\"setup botkube on kubernetes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Setup BotKube on Kubernetes</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADyklEQVR42k2T+U/bZRzHv3+HmhgTE5IlxrC4BcZMuKaZiIjTmUzn2NgqAuMoLdBCS1sG46bjKlBOGaVABuUqNxQopdwwxpGNiTG4AXMIcZFsMXn5gL/4w+eXJ9/n9f28j0caffwPg2uvsS//TefcXzxwH9A88ZLG0T3qBnao6fmNFusMptbHGK2b5N3fILtujYyqFfQVy2hKF1HfmyMxf5okMdLQ+ht6HwrY/Cva3Ic0O/+D1ff/Trl9h2brNAeKUFrNfWRYfiG7doUM80N05UtoShZQGWdJzJsmIXuK2AwnUt/KEV0LAjZ9SItzH8voC+oHn1PXv0t17w7mjl+x3x/GZFkjt/EpWTXr6ExLpBYLWOEsylw38XddxNyZIEo3htQtYO3HsMk/sTiOYTtU27fJaVhCZ3ajLZ5AWzmL2jhJQlY/iuyRE1hywQyKHDdxmZNEG8b5Kc2BLGUEqf1/m9UNPD+Bldm2+OjcJd738ODtd8/z1jsXeM9DxqlTnpz2CiG5cEHAJ08kRukdRKSOcFM1yPXEfqTOhSPaZl4J7w7EhvvUD+1RJaSmFgwQn9qATGUhUm3hhkKMvI5bSS0kCaA8a1rIdBFlcBKhHSNcNcJVeS9SWGwtn15KJ+jbbPyC9fh+rsM7UIUsuZ3itmfk/PyEvIZNDBWrpJWvc03ejpe/Cp9PNJwLTMHzvJIPvOSc8dNwOdKGFBCix+eCEr+gFM76JnDWX8GH3lEEXSkgq3YVbck8urIFkeSUmBlxXox3gJzALzT4B6fgFaAUCyjx9IklOMyClFntptm1Q+PYNlbnM2zzh/Q+ekNq4Qh60+JJAJqiWRGAC6UI4cekNmr6ntIytUfX8hE9K69xbEGKcQTfUDOSLLkJlfDreJLz+0WaQ+KynXDh2R1RXKVxAV3dJrHZbpSia6HXq4jRPyClaFjUZlCkPYC21MFlWTl+X1UjaUtGRd+eUNm1QWX3hkh6C8v4LgpRkVzzIleyFom0/IHStIbyrpMweTNFrUs0TezS4trHOvGCDlE9eWYPXhfLkCI1rcLwceGTA0P5OJk100LquNjQiubeLJEiyavpM8jSxritHyPkmpnEXDvplc6TO8ff5jbM8110tQCWIqnF2mW2Ryd/LW1fFbXZFh5tEWfoFs/JRXymk+i0UW6ph8QM8310I8amOSqEGpNtlfLOdVqnXhJjsHHaz4iUnO/gtq6bqLRuItQd3Exs44e4ZmRqu+jalCjuGDJR3BtJA6JnfXwZbiXwaxOB3wjPQkv5OFikfrGAM4H5eH1Wxb+aQAiUiCSiXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"botkube\" title=\"\" src=\"/static/04177d71e405c88119b8c9d0e3d5db9c/c5bb3/botkube-setup.png\" srcset=\"/static/04177d71e405c88119b8c9d0e3d5db9c/04472/botkube-setup.png 170w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/9f933/botkube-setup.png 340w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/c5bb3/botkube-setup.png 680w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/b12f7/botkube-setup.png 1020w,\n/static/04177d71e405c88119b8c9d0e3d5db9c/7960f/botkube-setup.png 1274w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<div class=\"image-title\"><a href=\"https://kubetools.io/botkube-the-ultimate-tool-for-kubernetes-alerts-and-notifications/\">Source</a></div>\n<p>The following steps guide you through the setup process of BotKube on your Kubernetes cluster, enabling efficient monitoring and management.</p>\n<h3 id=\"create-a-bot-account\" style=\"position:relative;\"><a href=\"#create-a-bot-account\" aria-label=\"create a bot account permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Create a Bot Account</h3>\n<p>To initiate the configuration of BotKube on Kubernetes, begin by creating a Bot account. This account serves as the communication bridge between BotKube and your Kubernetes cluster, facilitating seamless interaction and data exchange necessary for effective monitoring and troubleshooting.</p>\n<h3 id=\"deploying-botkube-within-k8s\" style=\"position:relative;\"><a href=\"#deploying-botkube-within-k8s\" aria-label=\"deploying botkube within k8s permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deploying BotKube within K8s</h3>\n<p>Upon creating the Bot account, proceed to deploy BotKube on your Kubernetes cluster. This deployment process involves configuring BotKube to operate within your cluster setup, granting it the required access to monitor and manage resources efficiently.</p>\n<blockquote>\n<p><strong>Note:</strong> Helm must be installed to use the charts. Please refer to <a href=\"https://helm.sh/docs/intro/install/\" target=\"_blank\" rel=\"noopener noreferrer\">Helm's documentation</a> to get started.</p>\n</blockquote>\n<p>Once Helm is set up properly, add the repo as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm repo <span class=\"token function\">add</span> botkube https://charts.botkube.io</code></pre></div>\n<p>You can then run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm search repo botkube</code></pre></div>\n<p>to see the charts.</p>\n<p>Then install Botkube with Slack configured:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm <span class=\"token function\">install</span> botkube botkube/botkube <span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">config.bot.slack.enabled</span><span class=\"token operator\">=</span>true <span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">config.bot.slack.token</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>SLACK_BOT_TOKEN<span class=\"token operator\">></span> <span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--set</span> <span class=\"token assign-left variable\">config.bot.slack.channel</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>SLACK_CHANNEL_NAME<span class=\"token operator\">></span></code></pre></div>\n<p>Replace <code class=\"language-text\">&lt;SLACK_BOT_TOKEN></code> and <code class=\"language-text\">&lt;SLACK_CHANNEL_NAME></code> with your Slack bot token and the name of the Slack channel you want to use for notifications.</p>\n<p><img src=\"/ff29cb49206d120bd531c71b16621596/example.gif\" alt=\"example\" loading=\"lazy\">\n          </p>\n<h2 id=\"automating-k8s-tasks\" style=\"position:relative;\"><a href=\"#automating-k8s-tasks\" aria-label=\"automating k8s tasks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Automating K8s Tasks</h2>\n<p>In the final part of this blog, we're going to talk about some important jobs in Kubernetes that we can make easier by using Botkube. When we automate these tasks, it helps keep our Kubernetes system running smoothly and efficiently.</p>\n<h3 id=\"-monitoring-and-alerting-kubernetes-clusters\" style=\"position:relative;\"><a href=\"#-monitoring-and-alerting-kubernetes-clusters\" aria-label=\" monitoring and alerting kubernetes clusters permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìà Monitoring and Alerting Kubernetes Clusters</h3>\n<p>Watching out for issues in Kubernetes clusters is really important to keep everything running smoothly. Normally, setting up alerts from Prometheus in Slack involves a lot of manual work, like defining alert conditions and configuring Alertmanager.</p>\n<p>But with Botkube, you just need to put in the Prometheus endpoint and pick how you want to get alerts and log information. Unlike doing it by hand, Botkube gives you more choices for where alerts can go, like Slack, PagerDuty, email, MS Teams, or Discord. It's a simpler way to make sure you're alerted to any problems in your Kubernetes setup.</p>\n<p><img src=\"/ccc714040859f0cf3bd24f05773876a1/example2.gif\" alt=\"example2\" loading=\"lazy\">\n          </p>\n<h3 id=\"Ô∏è-resource-scaling\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-resource-scaling\" aria-label=\"Ô∏è resource scaling permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚¨ÜÔ∏è Resource Scaling</h3>\n<p>Automation of resource scaling empowers Kubernetes clusters to dynamically adjust resource allocation based on workload demands. This automated scaling capability optimizes resource utilization, improves application performance, and ensures efficient use of infrastructure resources, leading to cost savings and enhanced scalability.</p>\n<p>Botkube offers a valuable solution for automating resource scaling within a team. It simplifies access to Kubernetes clusters by providing actionable notifications and the ability to execute <code class=\"language-text\">kubectl</code>, <code class=\"language-text\">helm</code>, and GitOps commands directly from a shared team channel.</p>\n<p><img src=\"/4cb8604904f773dc88c72ebf376e4340/example3.gif\" alt=\"example3\" loading=\"lazy\">\n          </p>\n<p>One example of this is the ability to automate the process of creating GitHub issues for failing Kubernetes resources such as jobs, deployments, statefulsets, and pods. This plugin can create GitHub issues that include Kubernetes-specific information, making debugging more efficient.</p>\n<h3 id=\"-kubernetes-log-management\" style=\"position:relative;\"><a href=\"#-kubernetes-log-management\" aria-label=\" kubernetes log management permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìú Kubernetes Log Management</h3>\n<p>Automating log management in Kubernetes simplifies the collection, analysis, and storage of logs generated by cluster components and applications. Automated log management enhances troubleshooting capabilities, provides valuable insights into system behavior, and facilitates compliance with auditing requirements.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoklEQVR42oWSS27bMBRFvYgCtvWXqA8lkpJISZadwIgHRQAnRYHOOkiAjjptinYDXUWXe/NII0YCBM7g4JEEed+Hd+FHKeKsRMkFyloiTgv4UeZiEDO3PhOmF/GIxadliCTnUHqC7EeIbkCtNFgpkBb1mTDN4QWJe3SJxc1hDyUlNuOEaRxRFiV4WYFl7A1RkmH9gZgTHEyHaneL/viAdPcV4XzviOYvJ7YEnQd8gOdH9Ci7LJjxHsntT/SP/7C+e8Ly+ITVC3e/af8Ly/s/WLcHeF4AL/pA8Pvf/zh++wFeMGq9hRIKUkgIik0jIIhWteC1wMqPsaY5vvCuoBfnaJTBfLXHMF+D0QfE9AFJZimQsIrgzgkh3Y2S3DnA7v13ql0svZDsorA/fMZoNCZZYeokZtNDK4HN9hpm2qEzG2wpqSInVE1LRWiEJL4KYljrnQVt6c42dLHrNIwZMIwz+nHnhPR0iv0ww4xbyNagogKsZ6umg2i1q9qOwwmuSLAoKhLSND+BXjZgObVDprat2SpeE9GZpeDylJCS2ESsrN1cnwHMiiTrWM7/gwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"logs\" title=\"\" src=\"/static/e4502a3df1b8d5c0f6e536d4eedf9c08/c5bb3/logs.png\" srcset=\"/static/e4502a3df1b8d5c0f6e536d4eedf9c08/04472/logs.png 170w,\n/static/e4502a3df1b8d5c0f6e536d4eedf9c08/9f933/logs.png 340w,\n/static/e4502a3df1b8d5c0f6e536d4eedf9c08/c5bb3/logs.png 680w,\n/static/e4502a3df1b8d5c0f6e536d4eedf9c08/d2cbc/logs.png 705w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-gitops-workflows\" style=\"position:relative;\"><a href=\"#-gitops-workflows\" aria-label=\" gitops workflows permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ GitOps Workflows</h3>\n<p>Automation of GitOps workflows streamlines the deployment and management of applications in Kubernetes by leveraging version-controlled repositories. Automated GitOps workflows promote consistency, reliability, and traceability in application deployments, enabling teams to adopt a robust continuous delivery pipeline.</p>\n<p>An important aspect is the Botkube Flux plugin, which simplifies connecting Kubernetes clusters, GitHub repositories, and the Flux CLI. This plugin enables users to run Flux CLI commands directly from their chosen communication platforms, ensuring convenient interaction even on mobile devices.</p>\n<h3 id=\"Ô∏è-k8s-configuration-management\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-k8s-configuration-management\" aria-label=\"Ô∏è k8s configuration management permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚öôÔ∏è K8s Configuration Management</h3>\n<p>Automating configuration management tasks in Kubernetes ensures consistent configuration across clusters, reduces manual errors, and simplifies maintenance efforts. Automated configuration management enhances system stability, accelerates deployment processes, and fosters standardization across environments.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.94117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPklEQVR42oWQfY+DIAzG/f5f7rZk540tvpyKiqKCCBRFPfCW3V+3PfmlNLRP0zQ4fZzuV1RmOeuHcWCSi3VeLBgL8yNqcyQHCuyyLGberN33PSC4nJmAjhkhYeCGspmLeRgdpufgaAfouGvwNL0cheyZm+LNYEyBcUVqxrkCLaZpFII7xnGchDagAXx8JuBRWltrAyml2/xyuSCEbgg1pGnbltRetKVaazVJJR3qiO7xci5vduXz+RyGYZIkhBBjjPuBQ975j/7M6IowxpRSxtiz9qt3ZqW+wjCOojzzclMe671ETpM7uz9YnH7fozhO06zAbddpY5Q7yUskgF3XQOfJECGW3KEuNlqvjrZ6D8E7rQKdpVVdlUUxCTEb45bZVvseO2+kCtYG9xHqItRHt+b6qct875utI29oq43WPxrLbz5kG2vuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"conf\" title=\"\" src=\"/static/dce337f2cbb6e27a5e3be089f397174f/c5bb3/conf.png\" srcset=\"/static/dce337f2cbb6e27a5e3be089f397174f/04472/conf.png 170w,\n/static/dce337f2cbb6e27a5e3be089f397174f/9f933/conf.png 340w,\n/static/dce337f2cbb6e27a5e3be089f397174f/c5bb3/conf.png 680w,\n/static/dce337f2cbb6e27a5e3be089f397174f/b12f7/conf.png 1020w,\n/static/dce337f2cbb6e27a5e3be089f397174f/a9965/conf.png 1171w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîö Conclusion</h2>\n<p>In conclusion, Botkube simplifies Kubernetes management by automating tasks like monitoring, alerting, and log management. With Botkube, setting up alerts from Prometheus in Slack becomes easier, offering more integration options like Slack, PagerDuty, email, MS Teams, or Discord. Overall, Botkube enhances operational efficiency and system reliability, ensuring a smoother Kubernetes experience for users.</p>\n<p><strong>üìö References:</strong></p>\n<ul>\n<li><a href=\"https://medium.com/kubeshop-i/5-essential-k8s-troubleshooting-monitoring-tasks-with-botkube-e1420bb5d49e\" target=\"_blank\" rel=\"noopener noreferrer\">5 Essential K8s Troubleshooting &#x26; Monitoring Tasks with Botkube</a></li>\n<li><a href=\"https://docs.botkube.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube Documentation</a></li>\n<li><a href=\"https://github.com/kubeshop/botkube/tree/main?tab=readme-ov-file#overview\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube GitHub Repository</a></li>\n<li><a href=\"https://medium.com/kubeshop-i/5-essential-k8s-tasks-to-automate-a6f33bd3420b\" target=\"_blank\" rel=\"noopener noreferrer\">5 Essential K8s Tasks to Automate</a></li>\n<li><a href=\"https://kubetools.io/botkube-the-ultimate-tool-for-kubernetes-alerts-and-notifications/\" target=\"_blank\" rel=\"noopener noreferrer\">Botkube: The Ultimate Tool for Kubernetes Alerts and Notifications</a></li>\n<li><a href=\"https://www.infracloud.io/blogs/monitoring-triliovault-kubernetes-resources-botkube/\" target=\"_blank\" rel=\"noopener noreferrer\">Monitoring TrilioVault Kubernetes Resources with Botkube</a></li>\n</ul>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}