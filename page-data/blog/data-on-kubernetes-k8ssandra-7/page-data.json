{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/data-on-kubernetes-k8ssandra-7/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>K8ssandra: simple Cassandra management on Kubernetes 📈</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📚 Introduction</h2>\n<p>In this part of my data on Kubernetes series, I will look at how <a href=\"https://k8ssandra.io/\" target=\"_blank\" rel=\"noopener noreferrer\">K8ssandra</a> makes it easy to use <a href=\"https://cassandra.apache.org/_/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Apache Cassandra</a> on Kubernetes.</p>\n<p><a href=\"https://k8ssandra.io/\" target=\"_blank\" rel=\"noopener noreferrer\">K8ssandra</a> is a tool that helps you set up and manage Cassandra in a Kubernetes environment. It includes everything you need, like automated operations, monitoring, and backup solutions. This makes it simpler to handle Cassandra clusters.</p>\n<h2 id=\"-apache-cassandra-overview\" style=\"position:relative;\"><a href=\"#-apache-cassandra-overview\" aria-label=\" apache cassandra overview permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📖 Apache Cassandra Overview</h2>\n<p>Apache Cassandra is a highly scalable, distributed NoSQL database designed to handle large amounts of data across many servers without any single point of failure. It was originally developed at Facebook to power their inbox search feature and later became an open-source project under the Apache Software Foundation.</p>\n<h3 id=\"key-features-and-benefits\" style=\"position:relative;\"><a href=\"#key-features-and-benefits\" aria-label=\"key features and benefits permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Key Features and Benefits</h3>\n<ul>\n<li><strong>Scalability</strong>: Cassandra is designed to scale horizontally by adding more nodes to the cluster. This allows it to handle more data and more requests without any downtime.</li>\n<li><strong>High Availability</strong>: With its peer-to-peer architecture, Cassandra ensures that there is no single point of failure. Data is replicated across multiple nodes, ensuring that it remains available even if some nodes fail.</li>\n<li><strong>Fault Tolerance</strong>: Cassandra's replication strategy ensures that data is copied to multiple nodes. If one node goes down, another node can take over, ensuring continuous availability.</li>\n<li><strong>Flexible Data Model</strong>: Cassandra uses a wide-column store model, which allows for dynamic and flexible schema design. This is particularly useful for applications that require high write throughput.</li>\n<li><strong>Tunable Consistency</strong>: Cassandra offers tunable consistency levels, allowing you to balance between consistency and availability based on your application's needs.</li>\n<li><strong>High Performance</strong>: Designed for high write and read throughput, Cassandra can handle large volumes of data with low latency.</li>\n</ul>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 99.41176470588235%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE90lEQVR42m2Ua0yTVxjH3y/7tpltyZIZP7gsi35espm5bPuweYnOOSNDjTq3KSoaBcnACQpjXkABLUVEuZS7gJQKtLVQLiIg1CJEiqVQQaHIUOaltNByKe1vh5vRZSd58p73w/M7//9zcv4Sry2fzzf7nZiYpL3VyrVcPWeOp1NY1IgnOxTnjvdxn/VjsjIVn/PZXJN3eqbzFUPiP8ts6iUx9ip/HJYTEXyRcPHNzqxmIjkAxwYJx6a3cHwvMbr3I6aqMmZUvNEvzUvD65lGr2kmPDiJk8fSOH86D1lMPsfFf05WDRMp+3Buf4/RwGWMHliO89fFODZKuMVB3vHRBYtIPu/cCf22YcIOyTkTkY4ipZR8hZa8dC2xkRnkZgvgpQBG93+C69wW3HFbGQtdgWPbOzhWS3hvq+Z40545hVPGViZSM2ltNBEXW8D5kzlcOl9MUlwhZyMV5OfWzlp2CsBY2ErGfv+cEaHWteVtptQyGkxXuP9IN2fZJy5g7FgUIxu34o2Np++OiYQEJUcPyog+eoWQgDgyFdVMXtrDyCoxQwEZEbOc2LsMZ3MRWpMMWckqsip24Rp/geQxtODw3yVmEoh98w4mDx7B0XiHvPwaokJTxE1X8qh/mGmbGVdKoLC5iKkTqxns1JBTH0Ri8Xekqv2Qq9bQ3luGNJ6civOX/cJGxGw5gsNw7dyDW1PB46EXTHsm8Uy6cY9P4JnxZOuiu7uMzJv7ydHtIq9qLwU1B0jT+FPedALJdTqeschTuBOTcSfIcctTcB4MwRWXOAuwPBwQdm6h0FSj1lVgd07S0HEZhXY7FcYYNM1/om85h0K3g6s1gUhjEdE4D4cyGhKOI+goIwdCxMB3M6bW8dRuR23oIEbXjEzfQlGZFudLJ9aBehJVa8m4sZNsfYBQuY9UzU+zUGlGjf0Hf1z+PzO9ay8I2754OZ6eXoZfvsRiNtNkMFJbW0tvzwOcThfP7Tbq2uIovRVI1o0fSS5dg0y5isvlfkjTOVeZTklnuKKaRmMbGe1mdre0E2Uy89Rmw2g0crfFyB2DAYOol08HuXrfTkTdM/JMf6PvttBs1VN/T05DeyLSrSf/4G9oY+XNJpaLOS1RalhaVM7iojKSWtsZdTgYF69ofMrDqNOBtnOIVflWvs7u5JscK2sL+thRNsSR6mfU9jmRSvsHWZSrZHmxho3VDQQ0tuB38zZLi9WsrKjDYrVg0GtoEmV7YOFA5SDf5nYRUmUj4uZjgir72XTNyqdpHRSYnyNNer2sr6pniVC1urKOPQL4pbaGDwpKOdPRRVNhGoqoQ2RGB1OdEce1jmG2qB4SWj3A4UobYTUDBGj62KrqxT4+//QqBp/wsVLLptrbbBa1Tl/HZ7o6jGYTusvnKLsSzw2FHHVKLB2tBn7TDQmVFtYVWFkv6qvsLsof2Oeennc+fhLM3bybr2JZiVaou05keyd3r+eiTDpFXXEm9SXZqJJjqc9LIt80LGbYxYZCK18oLMQ3P1kImzmFC8F6QUA/FLDl5VU0d3ZQEheOOv0Ct5TZ1BSkoU6NpzA2DFPbXbapB1mRYUZmfIpnPrF8C3k4s1lQWtb3mIyHNm4XZ5Fx4iDXL56mNDlmtlRir4gKoibrAjd6Rijrtr8C+f4vsWeh8+DBHgtN5QVohUJl4l8oZdFo0hJouJ5Hn/neGz2vZ/a/gPLkMwjugRgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"features\" title=\"\" src=\"/static/beede0121234ed9d584966a7da901e5a/0b533/features.png\" srcset=\"/static/beede0121234ed9d584966a7da901e5a/04472/features.png 170w,\n/static/beede0121234ed9d584966a7da901e5a/9f933/features.png 340w,\n/static/beede0121234ed9d584966a7da901e5a/0b533/features.png 500w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"use-cases\" style=\"position:relative;\"><a href=\"#use-cases\" aria-label=\"use cases permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Use Cases</h3>\n<ul>\n<li><strong>Time-Series Data</strong>: Ideal for applications that need to store and query time-series data, such as IoT sensors and log data.</li>\n<li><strong>Real-Time Analytics</strong>: Used in applications that require real-time data processing and analytics, such as recommendation engines and fraud detection.</li>\n<li><strong>Messaging Systems</strong>: Suitable for high-throughput messaging systems where low latency is crucial.</li>\n<li><strong>E-commerce</strong>: Powers e-commerce platforms that need to handle large volumes of transactions and user data.</li>\n<li><strong>Social Media</strong>: Supports social media applications that require high availability and scalability to manage user interactions and content.</li>\n</ul>\n<h3 id=\"components\" style=\"position:relative;\"><a href=\"#components\" aria-label=\"components permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Components</h3>\n<ul>\n<li><strong>Nodes</strong>: The basic unit of storage in Cassandra. Each node stores a part of the data.</li>\n<li><strong>Clusters</strong>: A collection of nodes that work together. Data is distributed across the nodes in a cluster.</li>\n<li><strong>Keyspaces</strong>: The top-level namespace in Cassandra, similar to a database in relational databases.</li>\n<li><strong>Tables</strong>: Within keyspaces, tables store data in a structured format.</li>\n<li><strong>Commit Log</strong>: A log of all write operations, used for crash recovery.</li>\n<li><strong>SSTables</strong>: Immutable data files that store data on disk.</li>\n<li><strong>Cassandra Query Language (CQL)</strong>: A SQL-like language used to interact with Cassandra.</li>\n</ul>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 101.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADPElEQVR42m1TbXPaRhDm/39oMpPU4yRtjA32OMYYDIQXAwJJ3Ek66V70epIAgw22yIe209r0cxewE7uTmWdu9nbvmd3bZzcnF4HMRJxxgLyHU4RLpz44L7dPKlenLb0KRn1QilcCos8Am01XSU7ee9FqHGa3YXYTZvPwfh7czcXNhF7Hum8bsQsGXMG/webNBkE2nX5Lc/G9R2d/6v5a9/8eBQ84fERwRo+q+9dFTza066H4A64ofACMgn/gme4/mOnjeDXNxVlgJXcm8d1AKho+r9br7a7FXOGHBksQTYUXGA6v1JuVWnM4MkUgLZujYDX5NsslWWDGt0L4kc1czbD7KlU0adLQoYbjmSwKGQuxA35H0YKRJQkXnOEgeyJbycJh7hhzs2Y2i532cc/tsMRiyPYxlZJQv8vaJ/1W8QpVjTFyqU1xuM28KTtecO5JxMoH6PO73uHesHmCU5vhLTmhTDk3D94P8r8qp5/0YEhdxtAPcrJg3IsxaxRx/l2rsNfrl6wd2QCyw/SqXdjr59+3KvlRqDFBX5MpcyfEW9rJ3IrmVnjnJAnh2PYMJiNC4br1Rws7npGQOQ5+lZl5KeZKiV58VmtHBrpkKWEbMpWxQ+0mrx7iSl7vfqGxLgSlPzJvux0QFZWP24XfK8WDWu1LhxumSQOTxa5tN8tdcELorNBCPV1wkCp7lTkhIoFfqtgdjq6JGxFmOL7JZOiwqSV8FXlDBA/Gtscc+r+y3bHhqhfkMq80CrrVgLL5c9mMtUXtSK0fDZQSSUcud34m1dlv6v4vzU9vu43iKLX5d6n6JePDm87HN63i/tD/iVRQNmaDMq0capdHCNV2DfN3DSNNXitAw9SrM1vq/FXDNlJRd0q8GytINApYkCh9IdXSlonOYo3ODG8OUn2fsO1sL2C2JaKNIinuDU4/ot4ZgSGBhgE5pUyr2CcfRsf7w+ohgQnzOJT9YrYNkxoa6jR6Xy87X2tXvZZiIaSbQrcCgrHSGYATQu1GF8NmGeaTVHK7z6NgbcgHM15byb9WsjaTNY5gq9db7PxPIUPCwj/CPk9gn+XS824nYr4U8wWAzzbY2S+x8z+Hlnw+G2fpf7zjwE5x6SHzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Cassandra components\" title=\"\" src=\"/static/ba33289753141b9941381764017f1208/c5bb3/components.png\" srcset=\"/static/ba33289753141b9941381764017f1208/04472/components.png 170w,\n/static/ba33289753141b9941381764017f1208/9f933/components.png 340w,\n/static/ba33289753141b9941381764017f1208/c5bb3/components.png 680w,\n/static/ba33289753141b9941381764017f1208/b12f7/components.png 1020w,\n/static/ba33289753141b9941381764017f1208/99f37/components.png 1100w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"why-choose-cassandra\" style=\"position:relative;\"><a href=\"#why-choose-cassandra\" aria-label=\"why choose cassandra permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Why Choose Cassandra?</h3>\n<ul>\n<li><strong>Scalability</strong>: Cassandra's ability to scale horizontally without downtime makes it ideal for growing applications.</li>\n<li><strong>High Availability</strong>: Its peer-to-peer architecture ensures no single point of failure, providing continuous availability.</li>\n<li><strong>Performance</strong>: Optimized for high write and read throughput, making it suitable for applications with heavy data loads.</li>\n<li><strong>Flexibility</strong>: The wide-column store model allows for flexible schema design, accommodating various data types and structures.</li>\n<li><strong>Community and Support</strong>: As an open-source project, Cassandra has a large and active community, providing extensive resources and support.</li>\n</ul>\n<blockquote>\n<p>Some alternatives to Apache Cassandra are <a href=\"https://www.scylladb.com/\" target=\"_blank\" rel=\"noopener noreferrer\">ScyllaDB</a>, which is a high-performance, low-latency NoSQL database designed as a drop-in replacement for Cassandra, and <a href=\"https://aws.amazon.com/keyspaces/\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon Keyspaces</a>, which is a scalable, highly available, and managed Apache Cassandra–compatible database service.</p>\n</blockquote>\n<h2 id=\"-k8ssandra-overview\" style=\"position:relative;\"><a href=\"#-k8ssandra-overview\" aria-label=\" k8ssandra overview permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🌟 K8ssandra Overview</h2>\n<p>K8ssandra is an open-source distribution of Apache Cassandra that is optimized for Kubernetes. It includes everything you need to run Cassandra in a Kubernetes environment, such as automated operations, monitoring, and backup solutions. K8ssandra simplifies the deployment and management of Cassandra clusters on Kubernetes, making it easier to achieve scalability and high availability.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 108.8235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFTElEQVR42mWT2W8aRxzH9w9InvMP9HpKRB+a9qVPVUysqpXaKNiJqh6q+tSqh5pUrZJWqe1YxEedVj4abKihGALGgDHmBpszxlw2hiwGY/CFDfHBsWB2WX6dXVtJk4z02fnN97sz+9XODKZQKM6IxeILVqv1/PJy8HwweEJ591n9f5YRB5sv66FQ6ILD4TiDRSKRlkKhAJVKpYEa3WhQdK1O0antGl0nKXZMUSew3jFFr+0880iS9RqAWjKZ5GLMA05ak6abbKFwEfB5fwFUboIdM3LzxAJruAa3xYeg91efesxc5pFIJFqZBVtOFyQRFMOkp0rdlhSpfnWZHdOnOoPERlBfDx1QQjPxVDudC6lU6vJzCU9SNGE7T4DGU4S9/eqpcRoBtb2DKlhCJcgfVNl3my8mRJtxLpFIteN4kscQi+G8eMT/0X7addXntiMN5yURm5nMx6trmSs+n5u3lfTx7HYLLxqN8WJoTpSZE4+3M2thAl3fWzJ3r8+8Kph3bklc9ozQPjo98o7ItqxQ+nGf1Llk18d3lmTBNC84ob65OmuP4Hr3XD2MOyv+OGLFeRyIz1cWYr6Ixn4RcyRF3FDZAXzdFj1g2YTAvoE0LCk/9O7Ws6IFgDuTJLlQBDCnt3+CeGosEwfokRGNRfchwHoBROoyjEyWm3SmCJvuxVYsnL1/Seixwc0HVO27EYKSPDJUQuuCVlngMDmor8AtYbHSYyRhLpv9gfJHRvqkJbghq1U7BLk67srW+3RE/bPB0rHXtAG1BQcXs+BiLt6Ygy5tnO43P4aVqpHULak+CByRGUUU4DdlhVxGe2jN5G4Cnh07TAN0CwuN1QBKuFEApe4JjKsKTdgowrov1IrJLH+9ZkuMDZiW+D2zoe4+48oI/+/pP9/QBtZ+UT0KDzx0zPM1wbWhUVvw3R2T40re7hra1qvu5W3zvds2b29ao+ld12p7NkzzA36N4XVMoHW8IjSEu5XO5Q5TvNCpjxcRu/dnYzt3Z+N7HQZ8r9O5nutwZXL9WjzXo8L3OlT4fifqWSyb+53W7cMOVWK3e9jsexUzriS54QrA8PxxUxpuQPQYIFgGCKNLEkFHbQkhWgSQBAGWUR0hnhGtAYgDyAtA8zG6fLOxVCtmjz5ukQUJ+GbwoP4JP0/KQyXSnauS9ixBelAvC5bIbwcL5PXuPCn1l1iN8dw5gnwYLpHfDz8h2+/u1SX+MjhwnMsm9OQBfpUTzZ+lBLhyTQii/+3fB7Z35QB+V9bghpgA5w7Sjk48Zk/cuwBdqhr8+E+l6d5DR4tJKHZGLto2yovywIZHEd7wmjIl7+zaEYs+deQ1Z0teWSDjVYQybM1orP/US3vlgbTHkikuihxLb2Parq5zloF717akPW11zVBbQjralnqBdbmI5SVdKmrLK+RtOYW0bfVfwTWfYOAcFhELuHWDEhZkpmZE7QGY0wE49M9jZ5h5Saft01AxyYAwKZrgNkFCPt6KVdRDLWmdE758UG1cHyboBYWTBvsU3TBP02DW0OCYoSvScRamZrSGWU2DzUgvqnrprx68T98aa29UzQrYUcouY0eqEW5WPw+fDhabV/8oQFA5h76uBtqCklqmUT0D9ckJoLQKlBJp1mloWDRIN4NT2QXv3efAF8OXmlWrEnYm5a1YVDJ6CaxT4JboSLNQS4Fpkjo2qKj6KaRxisqrpVRhaoKtGe3YMEk1jGqqMCOhjOI7lEfWTZImFeBiERdz8/ln43Lhm6Dp5cBsLyc2Mc5ZnRh9jtj4EMtz2sQQ51Cp5IByjgOaOU4GraEZ5Z/9D6YHY0uVBaYPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"K8ssandra\" title=\"\" src=\"/static/c74c3735ed2a70b2c4249bda916fde70/c5bb3/k8ssandra.png\" srcset=\"/static/c74c3735ed2a70b2c4249bda916fde70/04472/k8ssandra.png 170w,\n/static/c74c3735ed2a70b2c4249bda916fde70/9f933/k8ssandra.png 340w,\n/static/c74c3735ed2a70b2c4249bda916fde70/c5bb3/k8ssandra.png 680w,\n/static/c74c3735ed2a70b2c4249bda916fde70/c0255/k8ssandra.png 920w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"️-key-features-and-benefits\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-key-features-and-benefits\" aria-label=\"️ key features and benefits permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🛠️ Key Features and Benefits</h3>\n<ul>\n<li><strong>Kubernetes Native</strong>: K8ssandra is designed to run seamlessly on Kubernetes, leveraging Kubernetes' orchestration capabilities to manage Cassandra clusters.</li>\n<li><strong>Automated Operations</strong>: K8ssandra includes tools for automated deployment, scaling, and maintenance of Cassandra clusters, reducing the operational overhead.</li>\n<li><strong>Monitoring and Management</strong>: Integrated with tools like <a href=\"https://prometheus.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Prometheus</a> and <a href=\"https://grafana.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Grafana</a>, K8ssandra provides robust monitoring and management capabilities, allowing you to keep an eye on your Cassandra clusters' health and performance.</li>\n<li><strong>Backup and Restore</strong>: K8ssandra includes backup and restore solutions, ensuring that your data is safe and can be recovered in case of failures.</li>\n<li><strong>Helm Charts</strong>: K8ssandra uses <a href=\"https://helm.sh/\" target=\"_blank\" rel=\"noopener noreferrer\">Helm charts</a> for easy installation and configuration, making it simple to deploy Cassandra clusters on Kubernetes.</li>\n<li><strong>Community Support</strong>: As an open-source project, K8ssandra benefits from a vibrant community that contributes to its development and provides support.</li>\n</ul>\n<h2 id=\"-installing-k8ssandra-on-eks\" style=\"position:relative;\"><a href=\"#-installing-k8ssandra-on-eks\" aria-label=\" installing k8ssandra on eks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🚀 Installing K8ssandra on EKS</h2>\n<p>K8ssandra Operator may be deployed in one of two modes:</p>\n<ul>\n<li><strong>Control-Plane mode</strong>: The default method of installation. A Control-Plane instance of K8ssandra Operator watches for the creation and changes to K8ssandraCluster custom resources. When Control-Plane is active, Cassandra resources may be created within the local Kubernetes cluster and/or remote Kubernetes clusters (in the case of multi-region deployments). Only one instance should run in Control-Plane mode.</li>\n<li><strong>Data-Plane mode</strong>: Kubernetes clusters acting as remote regions for Cassandra deployments should be run in Data-Plane mode. In this mode, K8ssandra Operator does not directly reconcile K8ssandraCluster resources.</li>\n</ul>\n<h3 id=\"-requirements\" style=\"position:relative;\"><a href=\"#-requirements\" aria-label=\" requirements permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📋 Requirements</h3>\n<p>Before you start, ensure you have the following:</p>\n<ul>\n<li><strong>Amazon S3 Bucket</strong>: Backups for K8ssandra are stored within an Amazon Simple Storage Service (S3) Bucket. <a href=\"https://aws.amazon.com/s3/\" target=\"_blank\" rel=\"noopener noreferrer\">Learn more about Amazon S3</a>.</li>\n<li><strong>AWS Identity &#x26; Access Management (IAM) Role</strong>: This role is used by the EKS worker nodes to control access to the S3 bucket used for backups. See this <a href=\"https://github.com/k8ssandra/k8ssandra-terraform/blob/main/aws/scripts/policy_document.json#L157-L190\" target=\"_blank\" rel=\"noopener noreferrer\">IAM policy</a> as an example. Note your policy should limit requests to specific buckets and operations. <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html\" target=\"_blank\" rel=\"noopener noreferrer\">Learn more about IAM roles</a>.</li>\n<li><strong>kubectl</strong>: Installed and configured to access the cluster. <a href=\"https://kubernetes.io/docs/tasks/tools/install-kubectl/\" target=\"_blank\" rel=\"noopener noreferrer\">Install kubectl</a>.</li>\n<li><strong>Helm</strong>: Installed and configured to access the cluster. <a href=\"https://helm.sh/docs/intro/install/\" target=\"_blank\" rel=\"noopener noreferrer\">Install Helm</a>.</li>\n<li><strong>AWS CLI</strong>: Installed and configured. <a href=\"https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html\" target=\"_blank\" rel=\"noopener noreferrer\">Install AWS CLI</a>.</li>\n<li><strong>Cert Manager</strong>: Cert Manager provides a common API for management of Transport Layer Security (TLS) certificates. K8ssandra Operator uses this API for certificates used by the various K8ssandra components. <a href=\"https://cert-manager.io/docs/installation/kubernetes/\" target=\"_blank\" rel=\"noopener noreferrer\">Learn more about Cert Manager</a>.</li>\n<li><strong>eksctl</strong>: Installed. <a href=\"https://eksctl.io/getting-started/\" target=\"_blank\" rel=\"noopener noreferrer\">Install eksctl</a>.</li>\n</ul>\n<h3 id=\"️-create-the-eks-cluster\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-create-the-eks-cluster\" aria-label=\"️ create the eks cluster permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🛠️ Create the EKS Cluster</h3>\n<p>Create an EKS Cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ eksctl create cluster <span class=\"token parameter variable\">--name</span> k8ssandra-cluster <span class=\"token parameter variable\">--version</span> <span class=\"token number\">1.31</span><span class=\"token punctuation\">\\</span>\n<span class=\"token parameter variable\">--region</span> eu-west-1 --nodegroup-name standard-workers <span class=\"token punctuation\">\\</span>\n--node-type t3.medium <span class=\"token parameter variable\">--nodes</span> <span class=\"token number\">3</span> --nodes-min <span class=\"token number\">1</span> --nodes-max <span class=\"token number\">4</span> <span class=\"token parameter variable\">--managed</span></code></pre></div>\n<p>This command creates an EKS cluster named <code class=\"language-text\">k8ssandra-cluster</code> in the <code class=\"language-text\">eu-west-1</code> region with Kubernetes version 1.31. It sets up a managed node group with <code class=\"language-text\">t3.medium</code> instances, starting with 3 nodes and scaling between 1 and 4 nodes.</p>\n<p>Verify the Cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ eksctl get cluster <span class=\"token parameter variable\">--name</span> k8ssandra-cluster <span class=\"token parameter variable\">--region</span> eu-west-1</code></pre></div>\n<p>Ensure the cluster is up and running.</p>\n<h3 id=\"️-prepare-the-eks-cluster-for-k8ssandra\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-prepare-the-eks-cluster-for-k8ssandra\" aria-label=\"️ prepare the eks cluster for k8ssandra permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>⚙️ Prepare the EKS Cluster for K8ssandra</h3>\n<p>We can deploy K8ssandra Operator for namespace-scoped operations (the default), or cluster-scoped operations.</p>\n<ul>\n<li><strong>Namespace-scoped</strong>: Operations are specific only to the identified namespace within a cluster.</li>\n<li><strong>Cluster-scoped</strong>: Operations are global to all namespace(s) in the cluster.</li>\n</ul>\n<p>Add the K8ssandra Helm Repository:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ helm repo <span class=\"token function\">add</span> k8ssandra https://helm.k8ssandra.io/stable \n$ helm repo update</code></pre></div>\n<p>Create a namespace for K8ssandra:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl create namespace k8ssandra</code></pre></div>\n<p>Install K8ssandra:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ helm <span class=\"token function\">install</span> k8ssandra-operator k8ssandra/k8ssandra-operator <span class=\"token parameter variable\">-n</span> k8ssandra</code></pre></div>\n<p>This command installs K8ssandra in the <code class=\"language-text\">k8ssandra</code> namespace.</p>\n<p>Verify the Installation:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl get pods <span class=\"token parameter variable\">-n</span> k8ssandra</code></pre></div>\n<p>Ensure all pods are running and the installation is successful.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 11.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAaUlEQVR42h1NywoAEBD0OUIcJAqJpBw5+P8/Ge0eptndeax472GMgd47o7WGOSfPtVaEEOC9h3OOtVIK1lrYeyPnzDt5KKOUgjjngErvvVwQY2RjSolnYgoQqNQYww9Is9ZCSgmtNd+IP7QqQ3J4xabvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"pods\" title=\"\" src=\"/static/ac87c91e0a24e9d6b9e527db29536091/c5bb3/pods.png\" srcset=\"/static/ac87c91e0a24e9d6b9e527db29536091/04472/pods.png 170w,\n/static/ac87c91e0a24e9d6b9e527db29536091/9f933/pods.png 340w,\n/static/ac87c91e0a24e9d6b9e527db29536091/c5bb3/pods.png 680w,\n/static/ac87c91e0a24e9d6b9e527db29536091/b12f7/pods.png 1020w,\n/static/ac87c91e0a24e9d6b9e527db29536091/b5a09/pods.png 1360w,\n/static/ac87c91e0a24e9d6b9e527db29536091/5faa8/pods.png 1444w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-deploying-a-k8ssandracluster-with-medusa-reaper-and-metrics\" style=\"position:relative;\"><a href=\"#-deploying-a-k8ssandracluster-with-medusa-reaper-and-metrics\" aria-label=\" deploying a k8ssandracluster with medusa reaper and metrics permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>📦 Deploying a K8ssandraCluster with Medusa, Reaper, and Metrics</h3>\n<p>After installing the K8ssandra operator, we can now deploy a K8ssandraCluster with <a href=\"https://docs.k8ssandra.io/components/medusa/\" target=\"_blank\" rel=\"noopener noreferrer\">Medusa</a>, <a href=\"https://docs.k8ssandra.io/components/reaper/\" target=\"_blank\" rel=\"noopener noreferrer\">Reaper</a>, and <a href=\"https://docs.k8ssandra.io/components/metrics-collector/\" target=\"_blank\" rel=\"noopener noreferrer\">metrics</a> enabled.</p>\n<p>The following YAML configuration includes the necessary components and annotations to ensure proper functionality and permissions.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> eksctl.io/v1alpha5\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> ClusterConfig\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>eks<span class=\"token punctuation\">-</span>demo\n  <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> eu<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n<span class=\"token key atrule\">addons</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws<span class=\"token punctuation\">-</span>ebs<span class=\"token punctuation\">-</span>csi<span class=\"token punctuation\">-</span>driver\n\n<span class=\"token key atrule\">nodeGroups</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> admin\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> admin\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>1a\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1a\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c5.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>1b\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1b\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c5.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>1c\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1c\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c5.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">-</span>1a\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1a\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c7g.xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">-</span>1b\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1b\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c7g.xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">-</span>1c\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1c\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c7g.xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">-</span>1a\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1a\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> r5b.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">-</span>1b\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1b\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> r5b.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">-</span>1c\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1c\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> r5b.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>where:</p>\n<p><strong>Medusa</strong></p>\n<p>Medusa is a backup and restore tool for Apache Cassandra. It integrates with Kubernetes to provide automated backups to cloud storage (e.g., S3). Ensure the service account has the necessary role annotation to write to the backup bucket.</p>\n<p><strong>Reaper</strong></p>\n<p>Reaper is a tool for managing and scheduling repairs in Apache Cassandra. It helps maintain the health of your Cassandra cluster by performing regular repairs to prevent data inconsistencies.</p>\n<p>Key features include:</p>\n<ul>\n<li><strong>Auto-scheduling</strong>: Automatically schedules repairs based on defined thresholds and intervals.</li>\n<li><strong>Deployment mode</strong>: Can be deployed per datacenter (PER_DC) for better control.</li>\n<li><strong>Heap size</strong>: Configurable heap size for managing memory usage.</li>\n<li><strong>Keyspace</strong>: Uses a dedicated keyspace (<code class=\"language-text\">reaper_db</code>) for storing repair schedules and state.</li>\n</ul>\n<p><strong>Stargate</strong></p>\n<p><a href=\"https://docs.k8ssandra.io/components/stargate/\" target=\"_blank\" rel=\"noopener noreferrer\">Stargate</a> is an open-source data gateway that provides a unified API layer for accessing Cassandra data. It supports multiple APIs, including REST, GraphQL, and CQL, making it easier to interact with Cassandra.</p>\n<p>Key features include:</p>\n<ul>\n<li><strong>API Gateway</strong>: Provides REST, GraphQL, and CQL APIs for accessing Cassandra data.</li>\n<li><strong>Scalability</strong>: Can be scaled independently of the Cassandra nodes.</li>\n<li><strong>Telemetry</strong>: Supports Prometheus for monitoring and metrics collection.</li>\n</ul>\n<p>Create the K8ssandraCluster with <code class=\"language-text\">kubectl apply</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl apply <span class=\"token parameter variable\">-n</span> k8ssandra <span class=\"token parameter variable\">-f</span> k8sc.yaml</code></pre></div>\n<h3 id=\"-access-reaper\" style=\"position:relative;\"><a href=\"#-access-reaper\" aria-label=\" access reaper permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🔧 Access Reaper</h3>\n<p><a href=\"http://cassandra-reaper.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Reaper</a> is an interface for managing K8ssandra cluster repairs. Reaper is deployed as part of the K8ssandra Operator installation.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 45.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHklEQVR42oXQSW8SARwF8PkI2sRYbTxQSalpoVW0WKVsZaAMA2F32IayFIZhr2EpuEAMl8YtrYfGeOjZNFGTXkxsrBfqdygHD6WfwpnngIlNmqiHX/Lyf+/0J76nJnHEK9FLT+GIHcdXZgwHgQs4DF7Et9DYvw037FUcstfE3uoE9pmJE+JBpgZ3ogJ7tAhbKIc5SwTzdAYyfQSXbntx5W5gZFzj/5MvL/jO3PFKPOKwl2nsp4Q/XYN3rQqaLcLM5GF1+/C86UN3nUa7QKKZMaCa1KLFGVFf0410CpZzSLFdtEFtogZEIFOHK74OOloAGcxDTznR4KzY4CxoZpexuxnH590q3naj+LhTkBTxKEdKvWnU/2YSN3gStwy2AcFwDQSzDfhWK6DCOagsYczb01DaUlCuJBAuddHafAd/to1SexvlzhvMSfcZM4tZMjYiZVFlTeCGzjMgqEgBK9LvzAEOS+4kdJ4k4sUWvKmH8HKPYUtUoY9WYUk2YYrVYWJrcHBP4cieobknoiv/DGp7bEDItS5BvuQWpnQeYXLRKeh9aYHJtQRjvCQw+ztC+csnQbm3JXklqPZej8y8f3nOi5+zH7agSK2dENNGPxQGP6aNAci0btAMj+1qB2y8DKrEw8NXQGd42DPZv6LSnOjk81DTzCkhv0cfX1+k+0MyDdVXWUP9ZU+iv2D29W+aQxKmryZD/3OstoR/KO47er8AwzVuj5/ZwVgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"reaper\" title=\"\" src=\"/static/99343368881581dcf2778846abe57cb2/c5bb3/reaper.png\" srcset=\"/static/99343368881581dcf2778846abe57cb2/04472/reaper.png 170w,\n/static/99343368881581dcf2778846abe57cb2/9f933/reaper.png 340w,\n/static/99343368881581dcf2778846abe57cb2/c5bb3/reaper.png 680w,\n/static/99343368881581dcf2778846abe57cb2/b12f7/reaper.png 1020w,\n/static/99343368881581dcf2778846abe57cb2/b5a09/reaper.png 1360w,\n/static/99343368881581dcf2778846abe57cb2/29007/reaper.png 1600w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>For details, start in the <a href=\"https://docs.k8ssandra.io/components/reaper/\" target=\"_blank\" rel=\"noopener noreferrer\">Reaper</a> topic. Then read about the <a href=\"https://docs.k8ssandra.io/tasks/repair/\" target=\"_blank\" rel=\"noopener noreferrer\">repair</a> tasks you can perform with Reaper.</p>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>🔚 Conclusion</h2>\n<p>K8ssandra simplifies the deployment and management of Apache Cassandra on Kubernetes, providing robust features like automated backups with Medusa, repairs with Reaper, and comprehensive monitoring with MCAC and Vector.</p>\n<br>\n<br>\n<blockquote>\n<p>💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  <strong><em>Until next time 🎉</em></strong></p>\n</blockquote>\n<p>🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>♻️ LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>♻️ X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ✌🏻</strong></p>\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n<p><strong>📻🧡 References:</strong></p>\n<ul>\n<li><a href=\"https://k8ssandra.io/\" target=\"_blank\" rel=\"noopener noreferrer\">https://k8ssandra.io/</a></li>\n<li><a href=\"https://dok.community/blog/1000-node-cassandra-cluster-on-amazons-eks\" target=\"_blank\" rel=\"noopener noreferrer\">https://dok.community/blog/1000-node-cassandra-cluster-on-amazons-eks</a></li>\n<li><a href=\"https://medium.com/rahasak/deploy-cassandra-cluster-on-kubernetes-with-k8ssandra-fd19c535376c\" target=\"_blank\" rel=\"noopener noreferrer\">https://medium.com/rahasak/deploy-cassandra-cluster-on-kubernetes-with-k8ssandra-fd19c535376c</a></li>\n<li><a href=\"https://docs.k8ssandra.io/install/eks/\" target=\"_blank\" rel=\"noopener noreferrer\">https://docs.k8ssandra.io/install/eks/</a></li>\n<li><a href=\"https://github.com/k8ssandra/k8ssandra\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/k8ssandra/k8ssandra</a></li>\n<li><a href=\"https://github.com/k8ssandra/k8ssandra-operator\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/k8ssandra/k8ssandra-operator</a></li>\n<li><a href=\"https://cassandra.apache.org/_/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://cassandra.apache.org/_/index.html</a></li>\n</ul>\n<p><strong>📅 Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":8,"rawMarkdownBody":"\n> **K8ssandra: simple Cassandra management on Kubernetes 📈**\n\n## 📚 Introduction\n\nIn this part of my data on Kubernetes series, I will look at how [K8ssandra](https://k8ssandra.io/) makes it easy to use [Apache Cassandra](https://cassandra.apache.org/_/index.html) on Kubernetes.\n\n[K8ssandra](https://k8ssandra.io/) is a tool that helps you set up and manage Cassandra in a Kubernetes environment. It includes everything you need, like automated operations, monitoring, and backup solutions. This makes it simpler to handle Cassandra clusters.\n\n## 📖 Apache Cassandra Overview\n\nApache Cassandra is a highly scalable, distributed NoSQL database designed to handle large amounts of data across many servers without any single point of failure. It was originally developed at Facebook to power their inbox search feature and later became an open-source project under the Apache Software Foundation.\n\n### Key Features and Benefits\n\n- **Scalability**: Cassandra is designed to scale horizontally by adding more nodes to the cluster. This allows it to handle more data and more requests without any downtime.\n- **High Availability**: With its peer-to-peer architecture, Cassandra ensures that there is no single point of failure. Data is replicated across multiple nodes, ensuring that it remains available even if some nodes fail.\n- **Fault Tolerance**: Cassandra's replication strategy ensures that data is copied to multiple nodes. If one node goes down, another node can take over, ensuring continuous availability.\n- **Flexible Data Model**: Cassandra uses a wide-column store model, which allows for dynamic and flexible schema design. This is particularly useful for applications that require high write throughput.\n- **Tunable Consistency**: Cassandra offers tunable consistency levels, allowing you to balance between consistency and availability based on your application's needs.\n- **High Performance**: Designed for high write and read throughput, Cassandra can handle large volumes of data with low latency.\n\n![features](./features.png)\n\n### Use Cases\n\n- **Time-Series Data**: Ideal for applications that need to store and query time-series data, such as IoT sensors and log data.\n- **Real-Time Analytics**: Used in applications that require real-time data processing and analytics, such as recommendation engines and fraud detection.\n- **Messaging Systems**: Suitable for high-throughput messaging systems where low latency is crucial.\n- **E-commerce**: Powers e-commerce platforms that need to handle large volumes of transactions and user data.\n- **Social Media**: Supports social media applications that require high availability and scalability to manage user interactions and content.\n\n### Components\n\n- **Nodes**: The basic unit of storage in Cassandra. Each node stores a part of the data.\n- **Clusters**: A collection of nodes that work together. Data is distributed across the nodes in a cluster.\n- **Keyspaces**: The top-level namespace in Cassandra, similar to a database in relational databases.\n- **Tables**: Within keyspaces, tables store data in a structured format.\n- **Commit Log**: A log of all write operations, used for crash recovery.\n- **SSTables**: Immutable data files that store data on disk.\n- **Cassandra Query Language (CQL)**: A SQL-like language used to interact with Cassandra.\n\n![Cassandra components](./components.png)\n\n### Why Choose Cassandra?\n\n- **Scalability**: Cassandra's ability to scale horizontally without downtime makes it ideal for growing applications.\n- **High Availability**: Its peer-to-peer architecture ensures no single point of failure, providing continuous availability.\n- **Performance**: Optimized for high write and read throughput, making it suitable for applications with heavy data loads.\n- **Flexibility**: The wide-column store model allows for flexible schema design, accommodating various data types and structures.\n- **Community and Support**: As an open-source project, Cassandra has a large and active community, providing extensive resources and support.\n\n> Some alternatives to Apache Cassandra are [ScyllaDB](https://www.scylladb.com/), which is a high-performance, low-latency NoSQL database designed as a drop-in replacement for Cassandra, and [Amazon Keyspaces](https://aws.amazon.com/keyspaces/), which is a scalable, highly available, and managed Apache Cassandra–compatible database service.\n\n## 🌟 K8ssandra Overview\n\nK8ssandra is an open-source distribution of Apache Cassandra that is optimized for Kubernetes. It includes everything you need to run Cassandra in a Kubernetes environment, such as automated operations, monitoring, and backup solutions. K8ssandra simplifies the deployment and management of Cassandra clusters on Kubernetes, making it easier to achieve scalability and high availability.\n\n![K8ssandra](./k8ssandra.png)\n\n### 🛠️ Key Features and Benefits\n\n- **Kubernetes Native**: K8ssandra is designed to run seamlessly on Kubernetes, leveraging Kubernetes' orchestration capabilities to manage Cassandra clusters.\n- **Automated Operations**: K8ssandra includes tools for automated deployment, scaling, and maintenance of Cassandra clusters, reducing the operational overhead.\n- **Monitoring and Management**: Integrated with tools like [Prometheus](https://prometheus.io/) and [Grafana](https://grafana.com/), K8ssandra provides robust monitoring and management capabilities, allowing you to keep an eye on your Cassandra clusters' health and performance.\n- **Backup and Restore**: K8ssandra includes backup and restore solutions, ensuring that your data is safe and can be recovered in case of failures.\n- **Helm Charts**: K8ssandra uses [Helm charts](https://helm.sh/) for easy installation and configuration, making it simple to deploy Cassandra clusters on Kubernetes.\n- **Community Support**: As an open-source project, K8ssandra benefits from a vibrant community that contributes to its development and provides support.\n\n## 🚀 Installing K8ssandra on EKS\n\nK8ssandra Operator may be deployed in one of two modes:\n\n- **Control-Plane mode**: The default method of installation. A Control-Plane instance of K8ssandra Operator watches for the creation and changes to K8ssandraCluster custom resources. When Control-Plane is active, Cassandra resources may be created within the local Kubernetes cluster and/or remote Kubernetes clusters (in the case of multi-region deployments). Only one instance should run in Control-Plane mode.\n- **Data-Plane mode**: Kubernetes clusters acting as remote regions for Cassandra deployments should be run in Data-Plane mode. In this mode, K8ssandra Operator does not directly reconcile K8ssandraCluster resources.\n\n### 📋 Requirements\n\nBefore you start, ensure you have the following:\n\n- **Amazon S3 Bucket**: Backups for K8ssandra are stored within an Amazon Simple Storage Service (S3) Bucket. [Learn more about Amazon S3](https://aws.amazon.com/s3/).\n- **AWS Identity & Access Management (IAM) Role**: This role is used by the EKS worker nodes to control access to the S3 bucket used for backups. See this [IAM policy](https://github.com/k8ssandra/k8ssandra-terraform/blob/main/aws/scripts/policy_document.json#L157-L190) as an example. Note your policy should limit requests to specific buckets and operations. [Learn more about IAM roles](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html).\n- **kubectl**: Installed and configured to access the cluster. [Install kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/).\n- **Helm**: Installed and configured to access the cluster. [Install Helm](https://helm.sh/docs/intro/install/).\n- **AWS CLI**: Installed and configured. [Install AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html).\n- **Cert Manager**: Cert Manager provides a common API for management of Transport Layer Security (TLS) certificates. K8ssandra Operator uses this API for certificates used by the various K8ssandra components. [Learn more about Cert Manager](https://cert-manager.io/docs/installation/kubernetes/).\n- **eksctl**: Installed. [Install eksctl](https://eksctl.io/getting-started/).\n\n### 🛠️ Create the EKS Cluster\n\nCreate an EKS Cluster:\n\n```shell\n$ eksctl create cluster --name k8ssandra-cluster --version 1.31\\\n--region eu-west-1 --nodegroup-name standard-workers \\\n--node-type t3.medium --nodes 3 --nodes-min 1 --nodes-max 4 --managed\n```\n\nThis command creates an EKS cluster named `k8ssandra-cluster` in the `eu-west-1` region with Kubernetes version 1.31. It sets up a managed node group with `t3.medium` instances, starting with 3 nodes and scaling between 1 and 4 nodes.\n\nVerify the Cluster:\n\n```shell\n$ eksctl get cluster --name k8ssandra-cluster --region eu-west-1\n```\n\nEnsure the cluster is up and running.\n\n### ⚙️ Prepare the EKS Cluster for K8ssandra\n\nWe can deploy K8ssandra Operator for namespace-scoped operations (the default), or cluster-scoped operations.\n\n- **Namespace-scoped**: Operations are specific only to the identified namespace within a cluster.\n- **Cluster-scoped**: Operations are global to all namespace(s) in the cluster.\n\nAdd the K8ssandra Helm Repository:\n\n```shell\n$ helm repo add k8ssandra https://helm.k8ssandra.io/stable \n$ helm repo update\n```\n\nCreate a namespace for K8ssandra:\n\n```shell\n$ kubectl create namespace k8ssandra\n```\n\nInstall K8ssandra:\n\n```shell\n$ helm install k8ssandra-operator k8ssandra/k8ssandra-operator -n k8ssandra\n```\n\nThis command installs K8ssandra in the `k8ssandra` namespace.\n\nVerify the Installation:\n\n```shell\n$ kubectl get pods -n k8ssandra\n```\n\nEnsure all pods are running and the installation is successful.\n\n![pods](./pods.png)\n\n### 📦 Deploying a K8ssandraCluster with Medusa, Reaper, and Metrics\n\nAfter installing the K8ssandra operator, we can now deploy a K8ssandraCluster with [Medusa](https://docs.k8ssandra.io/components/medusa/), [Reaper](https://docs.k8ssandra.io/components/reaper/), and [metrics](https://docs.k8ssandra.io/components/metrics-collector/) enabled.\n\nThe following YAML configuration includes the necessary components and annotations to ensure proper functionality and permissions.\n\n```yaml\napiVersion: eksctl.io/v1alpha5\nkind: ClusterConfig\nmetadata:\n  name: tidb-eks-demo\n  region: eu-west-1\naddons:\n  - name: aws-ebs-csi-driver\n\nnodeGroups:\n  - name: admin\n    desiredCapacity: 1\n    privateNetworking: true\n    labels:\n      dedicated: admin\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1b\n    desiredCapacity: 0\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1b\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1b\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n```\n\nwhere:\n\n**Medusa**\n\nMedusa is a backup and restore tool for Apache Cassandra. It integrates with Kubernetes to provide automated backups to cloud storage (e.g., S3). Ensure the service account has the necessary role annotation to write to the backup bucket.\n\n**Reaper**\n\nReaper is a tool for managing and scheduling repairs in Apache Cassandra. It helps maintain the health of your Cassandra cluster by performing regular repairs to prevent data inconsistencies.\n\nKey features include:\n\n- **Auto-scheduling**: Automatically schedules repairs based on defined thresholds and intervals.\n- **Deployment mode**: Can be deployed per datacenter (PER_DC) for better control.\n- **Heap size**: Configurable heap size for managing memory usage.\n- **Keyspace**: Uses a dedicated keyspace (`reaper_db`) for storing repair schedules and state.\n\n**Stargate**\n\n[Stargate](https://docs.k8ssandra.io/components/stargate/) is an open-source data gateway that provides a unified API layer for accessing Cassandra data. It supports multiple APIs, including REST, GraphQL, and CQL, making it easier to interact with Cassandra.\n\nKey features include:\n\n- **API Gateway**: Provides REST, GraphQL, and CQL APIs for accessing Cassandra data.\n- **Scalability**: Can be scaled independently of the Cassandra nodes.\n- **Telemetry**: Supports Prometheus for monitoring and metrics collection.\n\nCreate the K8ssandraCluster with `kubectl apply`:\n\n```shell\n$ kubectl apply -n k8ssandra -f k8sc.yaml\n```\n\n### 🔧 Access Reaper\n\n[Reaper](http://cassandra-reaper.io/) is an interface for managing K8ssandra cluster repairs. Reaper is deployed as part of the K8ssandra Operator installation.\n\n![reaper](./reaper.png)\n\nFor details, start in the [Reaper](https://docs.k8ssandra.io/components/reaper/) topic. Then read about the [repair](https://docs.k8ssandra.io/tasks/repair/) tasks you can perform with Reaper.\n\n## 🔚 Conclusion\n\nK8ssandra simplifies the deployment and management of Apache Cassandra on Kubernetes, providing robust features like automated backups with Medusa, repairs with Reaper, and comprehensive monitoring with MCAC and Vector.\n\n\n\n<br>\n<br>\n\n> 💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  **_Until next time 🎉_**\n\n\n🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**♻️ LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**♻️ X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ✌🏻**\n\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n\n**📻🧡 References:**\n\n- https://k8ssandra.io/\n- https://dok.community/blog/1000-node-cassandra-cluster-on-amazons-eks\n- https://medium.com/rahasak/deploy-cassandra-cluster-on-kubernetes-with-k8ssandra-fd19c535376c\n- https://docs.k8ssandra.io/install/eks/\n- https://github.com/k8ssandra/k8ssandra\n- https://github.com/k8ssandra/k8ssandra-operator\n- https://cassandra.apache.org/_/index.html\n\n**📅 Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":1519},"frontmatter":{"id":"f705b0fe8ba552f413fe8b15","path":"/blog/data-on-kubernetes-k8ssandra-7/","humanDate":"Oct 26, 2024","fullDate":"2024-10-26","title":"Data on Kubernetes: Part 7 - K8ssandra: Bring Apache Cassandra to Kubernetes","keywords":["Kubernetes","AWS EKS","Apache Cassandra","K8ssandra","Data Management"],"excerpt":"Discover how K8ssandra simplifies the management of Apache Cassandra on Kubernetes for seamless data handling.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADK0lEQVR42g2SbVDTBQCH/3e93/Ul+5KVHygqoU50kFlHEnBFoJ7Z1S1T0PNDd9qZHKkXiUxpXLAgEbEJ03HIlFex5E3FtTEXbGO3cWOMwWCC07KgPMfY+/a0j7/n0/Pc/YToi3WEUxsIZysIfygndKCV0DdK/LI2Aqo+fO1X8d+8zvKta3iNapZHu1nRK/DNG/F6xvDNthO8Iwf3t8RnDyL4f7GxrJwkoHQQqTKx0u8kojIQ0I4TnnQSNBsJWkcImQcJjfcSsV8haj1L0KHA62zC7zjBI9sRlie/Jnb/OIJnTwXuk0eZKS9mSrofe/U+1OViRurEDMi20VPzMf3yj+iS56A6k0mdVESH4j06Fe/w4/G11MkyqP3pbVqbcwkvViO07s5NwGTO/ZDC+apU1BcyaDmRwmBNGgOV67gpXY9Flo6hLA3LsQ3YSjPwVGaxVJnNQ0k2vv1phMSvEBG/nkg+hRD7fC+xkg+IHywgvnMTscJs4oW5xIq2JHYBbM0h9sWnsKOAWN5WYqIMops3E303k8im94k/9zwIAjz9JL7ReoRw0h4CG7MJpOcTTNpIMCWLwGtZrKzPx7shn39EeSxkbqe26DtcB/LwFe/CXV2Dq0HOYn0V4caT+NtqWew7i2X2KkL8cSXxpxphVRux5F5Y10vn7htoCnuxFP6GvqSPqQET3/cEmLDvw7rUxe//gjYSwxCKMv33febumNDdM6C6O4zAE5qEtoHIGjPetSb+TL+NfouBbrGOr7a30SU9zeWO81zc2YDk6BDbNDr+e/AltjEjjiE9tsQLbkwYaZoeo2zBjDCSNMb4ah2TqzUYk3VoRXrsyRJuiSo5ktNCeZEEWf8why93U1JagWrvJYL6Mh726Lh3uoXRRgVnnA4Ouxx8tjCF0JzqoOPlUbpfUNPyqpamNCPX1pTSnlpB5yELhosW9H1D9CuPccoqQdtwnaraRfSaIA/Mj7h0e4Ji+zSfzM3z1l0Pwq+PjdH+jJ0Lq1z8/NIMZW/YOJRuQ5pvRadwMPfHPG7rDCa1jp6RTgYGB5Ges1Lf4aR52EGx2cUOxwJvuv/iWc8S/wO5wHhwpCto4AAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/aab91ecbf1bcf94ad5cecbf2f1048d01/b5f6a/dok7.png","srcSet":"/static/aab91ecbf1bcf94ad5cecbf2f1048d01/d0df2/dok7.png 750w,\n/static/aab91ecbf1bcf94ad5cecbf2f1048d01/fa96f/dok7.png 1080w,\n/static/aab91ecbf1bcf94ad5cecbf2f1048d01/ad399/dok7.png 1366w,\n/static/aab91ecbf1bcf94ad5cecbf2f1048d01/b5f6a/dok7.png 1600w","sizes":"100vw"},"sources":[{"srcSet":"/static/aab91ecbf1bcf94ad5cecbf2f1048d01/b9516/dok7.webp 750w,\n/static/aab91ecbf1bcf94ad5cecbf2f1048d01/c4814/dok7.webp 1080w,\n/static/aab91ecbf1bcf94ad5cecbf2f1048d01/2a401/dok7.webp 1366w,\n/static/aab91ecbf1bcf94ad5cecbf2f1048d01/0bc69/dok7.webp 1600w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5612499999999999}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/ephemeral-environments-kubernetes-cicd/","title":"Ephemeral Environments for Cost-Effective and Reliable CI/CD Pipelines with Kubernetes 🐳","date":"2024-10-26 17:34:00"},"excerpt":"Build Reliable Software Faster with Ephemeral Environments and Kubernetes 🐋 🏞 Introduction Building high-quality software quickly is…"},"nextThought":{"frontmatter":{"path":"/blog/data-on-kubernetes-strimzi-kafka-6/","title":"Data on Kubernetes: Part 6- Strimzi for running Apache Kafka","date":"2024-10-26 13:06:00"},"excerpt":"Kubernetes-native data streaming powered by Apache Kafka 🎆 Introduction In this part six of my series about data on Kubernetes, we will…"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}