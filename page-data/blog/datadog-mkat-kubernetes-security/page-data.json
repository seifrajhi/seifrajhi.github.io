{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/datadog-mkat-kubernetes-security/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Enhancing Security in Managed Kubernetes üõ°Ô∏è</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìå Introduction</h2>\n<p>At KubeCon EU 2023, Datadog released the <a href=\"https://github.com/DataDog/managed-kubernetes-auditing-toolkit\" target=\"_blank\" rel=\"noopener noreferrer\">Managed Kubernetes Auditing Toolkit (MKAT)</a>, a comprehensive solution designed to identify common security issues within managed Kubernetes environments. Initially focused on Amazon EKS, MKAT is a versatile tool that will be expanded to support other managed Kubernetes environments in the future. This all-in-one auditing toolkit offers features such as identifying trust relationships between K8s service accounts and AWS IAM roles, finding hardcoded AWS credentials in K8s resources, and testing if pods can access the AWS Instance Metadata Service (IMDS). With easy installation via Homebrew or pre-compiled binary, MKAT provides a valuable resource for enhancing the security of Kubernetes clusters. In this blog post, we will explore the key features of MKAT, its benefits for users, and how it can help improve the overall security of managed Kubernetes environments.</p>\n<h3 id=\"Ô∏è-mkat-the-all-in-one-auditing-toolkit-for-kubernetes-security\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-mkat-the-all-in-one-auditing-toolkit-for-kubernetes-security\" aria-label=\"Ô∏è mkat the all in one auditing toolkit for kubernetes security permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è MKAT: The All-in-One Auditing Toolkit for Kubernetes Security</h3>\n<p>MKAT is an all-in-one auditing toolkit for identifying common security issues within managed Kubernetes environments. It is currently focused on Amazon EKS and will be extended to other managed Kubernetes environments in the future. The tool provides a range of features, including:</p>\n<ul>\n<li>üîé <a href=\"https://github.com/DataDog/managed-kubernetes-auditing-toolkit#identify-trust-relationships-between-k8s-service-accounts-and-aws-iam-roles\" target=\"_blank\" rel=\"noopener noreferrer\">Identify trust relationships between K8s service accounts and AWS IAM roles</a> - Supports both IAM Roles for Service Accounts (IRSA), and <a href=\"https://aws.amazon.com/blogs/aws/amazon-eks-pod-identity-simplifies-iam-permissions-for-applications-on-amazon-eks-clusters/\" target=\"_blank\" rel=\"noopener noreferrer\">Pod Identity</a>, released on November 26, 2023.</li>\n<li>üîë <a href=\"https://github.com/DataDog/managed-kubernetes-auditing-toolkit#find-hardcoded-aws-credentials-in-k8s-resources\" target=\"_blank\" rel=\"noopener noreferrer\">Find hardcoded AWS credentials in K8s resources</a>.</li>\n<li>üíÄ <a href=\"https://github.com/DataDog/managed-kubernetes-auditing-toolkit?tab=readme-ov-file#test-if-pods-can-access-the-aws-instance-metadata-service-imds\" target=\"_blank\" rel=\"noopener noreferrer\">Test if pods can access the AWS Instance Metadata Service (IMDS)</a>.</li>\n</ul>\n<p>For more details, visit the <a href=\"https://github.com/DataDog/managed-kubernetes-auditing-toolkit\" target=\"_blank\" rel=\"noopener noreferrer\">official MKAT documentation</a>.</p>\n<h2 id=\"-installation-and-setup\" style=\"position:relative;\"><a href=\"#-installation-and-setup\" aria-label=\" installation and setup permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Installation and Setup</h2>\n<p>To install and set up the Managed Kubernetes Auditing Toolkit (MKAT), follow these steps:</p>\n<ol>\n<li>\n<p><strong>Add the MKAT Homebrew Tap:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">brew tap datadog/mkat https://github.com/datadog/managed-kubernetes-auditing-toolkit</code></pre></div>\n</li>\n<li>\n<p><strong>Install MKAT:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">brew <span class=\"token function\">install</span> datadog/mkat/managed-kubernetes-auditing-toolkit</code></pre></div>\n</li>\n<li>\n<p><strong>Check the Installed MKAT Version:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">mkat version</code></pre></div>\n</li>\n</ol>\n<p>Alternatively, you can use a pre-compiled binary for installation. After installation, ensure that you are authenticated against your cluster and to AWS, as MKAT uses your current AWS and <code class=\"language-text\">kubectl</code> authentication contexts.</p>\n<h2 id=\"-practical-usage-of-mkat\" style=\"position:relative;\"><a href=\"#-practical-usage-of-mkat\" aria-label=\" practical usage of mkat permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîç Practical Usage of MKAT</h2>\n<h3 id=\"analyzing-role-relationships\" style=\"position:relative;\"><a href=\"#analyzing-role-relationships\" aria-label=\"analyzing role relationships permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Analyzing Role Relationships</h3>\n<p>Running <code class=\"language-text\">mkat eks find-role-relationships</code> will analyze your Kubernetes service accounts and the trust policy of IAM roles in your AWS account, then output a summary of which Kubernetes workload can assume AWS roles.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 112.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACyElEQVR42o1U/U/aUBTt/5/sB83cfpnGjG2amCjIMNvAZBqjMQwEWkGlH9AvKFSgtH0t/YAd+pShQ7eTy8t9tPe9e889t8w0wWw2cxPAWfxDsew/AxPHcRRFWLvdrmEYeDUMQ2wXb8TTKR5Tg0+NbpkgCIrF4vHx8cnJyenpaaFQKJVKnudNJhN/Mgl9n5XkFCt9um5/bsgpbu7s3CrbXOtcMebBLMueJ7i4uDg7O6vVaoQQ3/c93w88r95W94VuWjQOBGOf78DSkrHHd4tan0lyeVJVnGC2VPRzmz04K4KxBQvTJbxIGH6maSqKout6p9PRNG00Gi0H4OzmvXU7cJojtzl0eIvAbofOiHjzYNScyWS+JsjlchzH0bbZtu0RIojS+yt+vSq945S1srDByu9YZaOu3/QH8+BerydJUisBHGThOA4aRu8Ho43esG6O66ZFrWFa131r6BJmZTEIcBKgYf+o+SWAS/QMRyA1rBBTuEAQgIvXghfIsM1Ulc9KvQP0uamnhe7ejTL0Jsz/aDhdlzar/J5g7N5pX27U3Ts9VZcHxGcQgk4vyyFp/JQeB50hYVnTTGtMghAcuInZno8BeBAJenufYDweU8LQKvio+YnanhGGxxCJqqrtdluWcYemqlq/byKeZmMSTxm7qk2oabZHHd12GYRls1moAzrJ5Y4ODw/h4yAMlkuIrio75cabX823FXG9zK+V+PUrAbZWET/UJMayLFEUpQTiI2jy83ujSBjY5Xu3ajpXpl0x7WSF79R6FrOypL+nZXXNdIBeCaa8P7rT5cbO+wyS8DGpVCrlcvny8hJ6Wo4Hoz8l/UjsFmTzR6v3XTLy7f43yRhRkaDafD6PDxBWTBXP82CLatv3PIzqTrW5yckfG+oW29q+lrfryhYn910PIplC/V4CSAL3PDbpT4IkjEgUu1jD+MEPwiiOfwNvqgR+WgDoBQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"mkat\" title=\"\" src=\"/static/b367d1857c84c640d6fb559377dbc3cd/c5bb3/mkat.png\" srcset=\"/static/b367d1857c84c640d6fb559377dbc3cd/04472/mkat.png 170w,\n/static/b367d1857c84c640d6fb559377dbc3cd/9f933/mkat.png 340w,\n/static/b367d1857c84c640d6fb559377dbc3cd/c5bb3/mkat.png 680w,\n/static/b367d1857c84c640d6fb559377dbc3cd/b12f7/mkat.png 1020w,\n/static/b367d1857c84c640d6fb559377dbc3cd/f43e4/mkat.png 1120w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>MKAT works by analyzing both the IAM roles in the AWS account and the K8s service accounts in the cluster, and then matching them together based on these two mechanisms.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ mkat eks find-role-relationships\n _ __ ___   <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> __   __ _  <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_\n <span class=\"token operator\">|</span> '_ <span class=\"token variable\"><span class=\"token variable\">`</span> _ <span class=\"token punctuation\">\\</span>  <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>/ /  / _<span class=\"token variable\">`</span></span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> __<span class=\"token operator\">|</span>\n <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>   <span class=\"token operator\">&lt;</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_\n <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>_<span class=\"token punctuation\">\\</span>  <span class=\"token punctuation\">\\</span>__,_<span class=\"token operator\">|</span>  <span class=\"token punctuation\">\\</span>__<span class=\"token operator\">|</span>\n\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:05:59 Connected to EKS cluster mkat-cluster\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:05:59 Retrieving cluster information\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:06:00 Listing K8s <span class=\"token function\">service</span> accounts <span class=\"token keyword\">in</span> all namespaces\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:06:02 Listing roles <span class=\"token keyword\">in</span> the AWS account\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:06:03 Found <span class=\"token number\">286</span> IAM roles <span class=\"token keyword\">in</span> the AWS account\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:06:03 Analyzing IAM Roles For Service Accounts <span class=\"token punctuation\">(</span>IRSA<span class=\"token punctuation\">)</span> configuration\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:06:03 Analyzing Pod Identity configuration of your cluster\n<span class=\"token number\">2023</span>/11/28 <span class=\"token number\">21</span>:06:04 Analyzing namespace microservices <span class=\"token function\">which</span> has <span class=\"token number\">1</span> Pod Identity associations\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n<span class=\"token operator\">|</span> NAMESPACE        <span class=\"token operator\">|</span> SERVICE ACCOUNT           <span class=\"token operator\">|</span> POD                               <span class=\"token operator\">|</span> ASSUMABLE ROLE              <span class=\"token operator\">|</span> MECHANISM                      <span class=\"token operator\">|</span>\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n<span class=\"token operator\">|</span> microservices    <span class=\"token operator\">|</span> inventory-service-sa      <span class=\"token operator\">|</span> inventory-service                 <span class=\"token operator\">|</span> inventory-service-role      <span class=\"token operator\">|</span> IAM Roles <span class=\"token keyword\">for</span> Service Accounts <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>                  <span class=\"token operator\">|</span>                           <span class=\"token operator\">|</span>                                   <span class=\"token operator\">|</span> s3-backup-role              <span class=\"token operator\">|</span> IAM Roles <span class=\"token keyword\">for</span> Service Accounts <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>                  <span class=\"token operator\">|</span> rate-limiter-sa           <span class=\"token operator\">|</span> rate-limiter-1                    <span class=\"token operator\">|</span> rate-limiter-role           <span class=\"token operator\">|</span> IAM Roles <span class=\"token keyword\">for</span> Service Accounts <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>                  <span class=\"token operator\">|</span>                           <span class=\"token operator\">|</span>                                   <span class=\"token operator\">|</span> webserver-role              <span class=\"token operator\">|</span> Pod Identity                   <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>                  <span class=\"token operator\">|</span>                           <span class=\"token operator\">|</span> rate-limiter-2                    <span class=\"token operator\">|</span> rate-limiter-role           <span class=\"token operator\">|</span> IAM Roles <span class=\"token keyword\">for</span> Service Accounts <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>                  <span class=\"token operator\">|</span>                           <span class=\"token operator\">|</span>                                   <span class=\"token operator\">|</span> webserver-role              <span class=\"token operator\">|</span> Pod Identity                   <span class=\"token operator\">|</span>\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n<span class=\"token operator\">|</span> default          <span class=\"token operator\">|</span> vulnerable-application-sa <span class=\"token operator\">|</span> vulnerable-application            <span class=\"token operator\">|</span> vulnerable-application-role <span class=\"token operator\">|</span> IAM Roles <span class=\"token keyword\">for</span> Service Accounts <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>                  <span class=\"token operator\">|</span> webserver-sa              <span class=\"token operator\">|</span> webserver                         <span class=\"token operator\">|</span> webserver-role              <span class=\"token operator\">|</span> IAM Roles <span class=\"token keyword\">for</span> Service Accounts <span class=\"token operator\">|</span>\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n<span class=\"token operator\">|</span> external-secrets <span class=\"token operator\">|</span> external-secrets-sa       <span class=\"token operator\">|</span> external-secrets-66cfb84c9b-kldt9 <span class=\"token operator\">|</span> ExternalSecretsRole         <span class=\"token operator\">|</span> IAM Roles <span class=\"token keyword\">for</span> Service Accounts <span class=\"token operator\">|</span>\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+</code></pre></div>\n<h3 id=\"identifying-hardcoded-aws-access-keys\" style=\"position:relative;\"><a href=\"#identifying-hardcoded-aws-access-keys\" aria-label=\"identifying hardcoded aws access keys permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Identifying Hardcoded AWS Access Keys</h3>\n<p>MKAT can also identify hardcoded AWS access keys in the definition of Kubernetes ConfigMaps, Secrets, and Pods, with minimal false positives.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ mkat eks find-secrets\n                  _              _\n  _ __ ___   <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> __   __ _  <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_\n <span class=\"token operator\">|</span> '_ <span class=\"token variable\"><span class=\"token variable\">`</span> _ <span class=\"token punctuation\">\\</span>  <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>/ /  / _<span class=\"token variable\">`</span></span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> __<span class=\"token operator\">|</span>\n <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>   <span class=\"token operator\">&lt;</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_\n <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>_<span class=\"token punctuation\">\\</span>  <span class=\"token punctuation\">\\</span>__,_<span class=\"token operator\">|</span>  <span class=\"token punctuation\">\\</span>__<span class=\"token operator\">|</span>\n\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Connected to EKS cluster mkat-cluster\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Searching <span class=\"token keyword\">for</span> AWS secrets <span class=\"token keyword\">in</span> ConfigMaps<span class=\"token punctuation\">..</span>.\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Analyzing <span class=\"token number\">10</span> ConfigMaps<span class=\"token punctuation\">..</span>.\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Searching <span class=\"token keyword\">for</span> AWS secrets <span class=\"token keyword\">in</span> Secrets<span class=\"token punctuation\">..</span>.\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Analyzing <span class=\"token number\">45</span> Secrets<span class=\"token punctuation\">..</span>.\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Searching <span class=\"token keyword\">for</span> AWS secrets <span class=\"token keyword\">in</span> Pod definitions<span class=\"token punctuation\">..</span>.\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Analyzing <span class=\"token number\">8</span> Pod definitions<span class=\"token punctuation\">..</span>.\n+-----------+--------+-----------------------------------------+------------------------------------------+\n<span class=\"token operator\">|</span> NAMESPACE <span class=\"token operator\">|</span> TYPE   <span class=\"token operator\">|</span> NAME                                    <span class=\"token operator\">|</span> VALUE                                    <span class=\"token operator\">|</span>\n+-----------+--------+-----------------------------------------+------------------------------------------+\n<span class=\"token operator\">|</span> default   <span class=\"token operator\">|</span> Secret <span class=\"token operator\">|</span> kafka-proxy-aws <span class=\"token punctuation\">(</span>aws access key<span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> XXXXXXXXXXXXXXXXXXXX                     <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> default   <span class=\"token operator\">|</span> Secret <span class=\"token operator\">|</span> kafka-proxy-aws <span class=\"token punctuation\">(</span>aws secret<span class=\"token punctuation\">)</span>    <span class=\"token operator\">|</span> XXXXXXXX/XXCAXXXXXXXXXqEPXX+XXX/XXXXXXXX <span class=\"token operator\">|</span>\n+-----------+--------+-----------------------------------------+------------------------------------------+</code></pre></div>\n<h3 id=\"validating-imds-access\" style=\"position:relative;\"><a href=\"#validating-imds-access\" aria-label=\"validating imds access permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Validating IMDS Access</h3>\n<p>Finally, you can use MKAT to validate that you properly blocked pod access to the IMDS:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ mkat eks test-imds-access\n                  _              _\n  _ __ ___   <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> __   __ _  <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_\n <span class=\"token operator\">|</span> '_ <span class=\"token variable\"><span class=\"token variable\">`</span> _ <span class=\"token punctuation\">\\</span>  <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>/ /  / _<span class=\"token variable\">`</span></span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> __<span class=\"token operator\">|</span>\n <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>   <span class=\"token operator\">&lt;</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_\n <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>_<span class=\"token punctuation\">\\</span>  <span class=\"token punctuation\">\\</span>__,_<span class=\"token operator\">|</span>  <span class=\"token punctuation\">\\</span>__<span class=\"token operator\">|</span>\n\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Connected to EKS cluster mkat-cluster\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:19 Testing <span class=\"token keyword\">if</span> IMDSv1 and IMDSv2 are accessible from pods by creating a pod that attempts to access it\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:23 IMDSv2 is accessible: any pod can retrieve credentials <span class=\"token keyword\">for</span> the AWS role eksctl-mkat-cluster-nodegroup-ng-NodeInstanceRole-AXWUFF35602Z\n<span class=\"token number\">2023</span>/04/12 <span class=\"token number\">21</span>:56:23 IMDSv1 is not accessible to pods <span class=\"token keyword\">in</span> your cluster: able to establish a network connection to the IMDS, but no credentials were returned</code></pre></div>\n<h2 id=\"-comparison-with-other-tools\" style=\"position:relative;\"><a href=\"#-comparison-with-other-tools\" aria-label=\" comparison with other tools permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Comparison with Other Tools</h2>\n<table>\n<thead>\n<tr>\n<th align=\"center\"><strong>Tool</strong></th>\n<th align=\"center\"><strong>Description</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/aquasecurity/kube-bench\" target=\"_blank\" rel=\"noopener noreferrer\">kube-bench</a></td>\n<td align=\"center\">kube-bench is a general-purpose auditing tool for Kubernetes cluster, checking for compliance against the CIS benchmarks.</td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/cyberark/KubiScan\" target=\"_blank\" rel=\"noopener noreferrer\">kubiscan</a></td>\n<td align=\"center\">kubiscan focuses on identifying dangerous in-cluster RBAC permissions.</td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/inguardians/peirates\" target=\"_blank\" rel=\"noopener noreferrer\">peirates</a></td>\n<td align=\"center\">peirates is a generic Kubernetes penetration testing tool. Although it has a <code class=\"language-text\">get-aws-token</code> command that retrieves node credentials from the IMDS, it is not specific to managed K8s environments.</td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/brompwnie/botb\" target=\"_blank\" rel=\"noopener noreferrer\">botb</a></td>\n<td align=\"center\">botb is a generic Kubernetes penetration testing tool. It also has a command to retrieve node credentials from the IMDS, but it is not specific to managed K8s environments.</td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/PaloAltoNetworks/rbac-police\" target=\"_blank\" rel=\"noopener noreferrer\">rbac-police</a></td>\n<td align=\"center\">rbac-police focuses on identifying in-cluster RBAC relationships.</td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/quarkslab/kdigger\" target=\"_blank\" rel=\"noopener noreferrer\">kdigger</a></td>\n<td align=\"center\">kdigger is a general-purpose context discovery tool for Kubernetes penetration testing. It does not attempt to be specific to managed K8s environments.</td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/4ARMED/kubeletmein\" target=\"_blank\" rel=\"noopener noreferrer\">kubeletmein</a></td>\n<td align=\"center\">kubeletmein <em>is</em> specific to managed K8s environments. It's a utility to generate a kubeconfig file using the node's IAM credentials, to then use it in a compromised pod.</td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"https://github.com/aws-samples/hardeneks\" target=\"_blank\" rel=\"noopener noreferrer\">hardeneks</a></td>\n<td align=\"center\">hardeneks <em>is</em> specific to managed K8s environments, but only for EKS. It identifies issues and lack of best practices inside of the cluster, and does not focus on cluster to cloud pivots.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèÅ Conclusion</h2>\n<p>In conclusion, MKAT is a valuable tool for enhancing security in managed Kubernetes environments. It provides a comprehensive set of audits that can help identify and remediate common security risks. MKAT is easy to use and can be integrated into your existing security workflows. Additionally, MKAT is open source and free to use. If you are responsible for securing a managed Kubernetes environment, I encourage you to give MKAT a try.</p>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<p><br><br></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":5,"rawMarkdownBody":"\n> **Enhancing Security in Managed Kubernetes üõ°Ô∏è**\n\n## üìå Introduction\n\nAt KubeCon EU 2023, Datadog released the [Managed Kubernetes Auditing Toolkit (MKAT)](https://github.com/DataDog/managed-kubernetes-auditing-toolkit), a comprehensive solution designed to identify common security issues within managed Kubernetes environments. Initially focused on Amazon EKS, MKAT is a versatile tool that will be expanded to support other managed Kubernetes environments in the future. This all-in-one auditing toolkit offers features such as identifying trust relationships between K8s service accounts and AWS IAM roles, finding hardcoded AWS credentials in K8s resources, and testing if pods can access the AWS Instance Metadata Service (IMDS). With easy installation via Homebrew or pre-compiled binary, MKAT provides a valuable resource for enhancing the security of Kubernetes clusters. In this blog post, we will explore the key features of MKAT, its benefits for users, and how it can help improve the overall security of managed Kubernetes environments.\n\n### üõ†Ô∏è MKAT: The All-in-One Auditing Toolkit for Kubernetes Security\n\nMKAT is an all-in-one auditing toolkit for identifying common security issues within managed Kubernetes environments. It is currently focused on Amazon EKS and will be extended to other managed Kubernetes environments in the future. The tool provides a range of features, including:\n\n- üîé [Identify trust relationships between K8s service accounts and AWS IAM roles](https://github.com/DataDog/managed-kubernetes-auditing-toolkit#identify-trust-relationships-between-k8s-service-accounts-and-aws-iam-roles) - Supports both IAM Roles for Service Accounts (IRSA), and [Pod Identity](https://aws.amazon.com/blogs/aws/amazon-eks-pod-identity-simplifies-iam-permissions-for-applications-on-amazon-eks-clusters/), released on November 26, 2023.\n- üîë [Find hardcoded AWS credentials in K8s resources](https://github.com/DataDog/managed-kubernetes-auditing-toolkit#find-hardcoded-aws-credentials-in-k8s-resources).\n- üíÄ [Test if pods can access the AWS Instance Metadata Service (IMDS)](https://github.com/DataDog/managed-kubernetes-auditing-toolkit?tab=readme-ov-file#test-if-pods-can-access-the-aws-instance-metadata-service-imds).\n\nFor more details, visit the [official MKAT documentation](https://github.com/DataDog/managed-kubernetes-auditing-toolkit).\n\n## üöÄ Installation and Setup\n\nTo install and set up the Managed Kubernetes Auditing Toolkit (MKAT), follow these steps:\n\n1. **Add the MKAT Homebrew Tap:**\n    ```sh\n    brew tap datadog/mkat https://github.com/datadog/managed-kubernetes-auditing-toolkit\n    ```\n\n2. **Install MKAT:**\n    ```sh\n    brew install datadog/mkat/managed-kubernetes-auditing-toolkit\n    ```\n\n3. **Check the Installed MKAT Version:**\n    ```sh\n    mkat version\n    ```\n\nAlternatively, you can use a pre-compiled binary for installation. After installation, ensure that you are authenticated against your cluster and to AWS, as MKAT uses your current AWS and `kubectl` authentication contexts.\n\n## üîç Practical Usage of MKAT\n\n### Analyzing Role Relationships\n\nRunning `mkat eks find-role-relationships` will analyze your Kubernetes service accounts and the trust policy of IAM roles in your AWS account, then output a summary of which Kubernetes workload can assume AWS roles.\n\n![mkat](./mkat.png)\n\nMKAT works by analyzing both the IAM roles in the AWS account and the K8s service accounts in the cluster, and then matching them together based on these two mechanisms.\n\n```sh\n$ mkat eks find-role-relationships\n _ __ ___   | | __   __ _  | |_\n | '_ ` _ \\  | |/ /  / _` | | __|\n | | | | | | |   <  | (_| | | |_\n |_| |_| |_| |_|\\_\\  \\__,_|  \\__|\n\n2023/11/28 21:05:59 Connected to EKS cluster mkat-cluster\n2023/11/28 21:05:59 Retrieving cluster information\n2023/11/28 21:06:00 Listing K8s service accounts in all namespaces\n2023/11/28 21:06:02 Listing roles in the AWS account\n2023/11/28 21:06:03 Found 286 IAM roles in the AWS account\n2023/11/28 21:06:03 Analyzing IAM Roles For Service Accounts (IRSA) configuration\n2023/11/28 21:06:03 Analyzing Pod Identity configuration of your cluster\n2023/11/28 21:06:04 Analyzing namespace microservices which has 1 Pod Identity associations\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n| NAMESPACE        | SERVICE ACCOUNT           | POD                               | ASSUMABLE ROLE              | MECHANISM                      |\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n| microservices    | inventory-service-sa      | inventory-service                 | inventory-service-role      | IAM Roles for Service Accounts |\n|                  |                           |                                   | s3-backup-role              | IAM Roles for Service Accounts |\n|                  | rate-limiter-sa           | rate-limiter-1                    | rate-limiter-role           | IAM Roles for Service Accounts |\n|                  |                           |                                   | webserver-role              | Pod Identity                   |\n|                  |                           | rate-limiter-2                    | rate-limiter-role           | IAM Roles for Service Accounts |\n|                  |                           |                                   | webserver-role              | Pod Identity                   |\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n| default          | vulnerable-application-sa | vulnerable-application            | vulnerable-application-role | IAM Roles for Service Accounts |\n|                  | webserver-sa              | webserver                         | webserver-role              | IAM Roles for Service Accounts |\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n| external-secrets | external-secrets-sa       | external-secrets-66cfb84c9b-kldt9 | ExternalSecretsRole         | IAM Roles for Service Accounts |\n+------------------+---------------------------+-----------------------------------+-----------------------------+--------------------------------+\n```\n\n### Identifying Hardcoded AWS Access Keys\n\nMKAT can also identify hardcoded AWS access keys in the definition of Kubernetes ConfigMaps, Secrets, and Pods, with minimal false positives.\n\n```sh\n$ mkat eks find-secrets\n                  _              _\n  _ __ ___   | | __   __ _  | |_\n | '_ ` _ \\  | |/ /  / _` | | __|\n | | | | | | |   <  | (_| | | |_\n |_| |_| |_| |_|\\_\\  \\__,_|  \\__|\n\n2023/04/12 21:56:19 Connected to EKS cluster mkat-cluster\n2023/04/12 21:56:19 Searching for AWS secrets in ConfigMaps...\n2023/04/12 21:56:19 Analyzing 10 ConfigMaps...\n2023/04/12 21:56:19 Searching for AWS secrets in Secrets...\n2023/04/12 21:56:19 Analyzing 45 Secrets...\n2023/04/12 21:56:19 Searching for AWS secrets in Pod definitions...\n2023/04/12 21:56:19 Analyzing 8 Pod definitions...\n+-----------+--------+-----------------------------------------+------------------------------------------+\n| NAMESPACE | TYPE   | NAME                                    | VALUE                                    |\n+-----------+--------+-----------------------------------------+------------------------------------------+\n| default   | Secret | kafka-proxy-aws (aws access key) | XXXXXXXXXXXXXXXXXXXX                     |\n| default   | Secret | kafka-proxy-aws (aws secret)    | XXXXXXXX/XXCAXXXXXXXXXqEPXX+XXX/XXXXXXXX |\n+-----------+--------+-----------------------------------------+------------------------------------------+\n```\n\n### Validating IMDS Access\n\nFinally, you can use MKAT to validate that you properly blocked pod access to the IMDS:\n\n```sh\n$ mkat eks test-imds-access\n                  _              _\n  _ __ ___   | | __   __ _  | |_\n | '_ ` _ \\  | |/ /  / _` | | __|\n | | | | | | |   <  | (_| | | |_\n |_| |_| |_| |_|\\_\\  \\__,_|  \\__|\n\n2023/04/12 21:56:19 Connected to EKS cluster mkat-cluster\n2023/04/12 21:56:19 Testing if IMDSv1 and IMDSv2 are accessible from pods by creating a pod that attempts to access it\n2023/04/12 21:56:23 IMDSv2 is accessible: any pod can retrieve credentials for the AWS role eksctl-mkat-cluster-nodegroup-ng-NodeInstanceRole-AXWUFF35602Z\n2023/04/12 21:56:23 IMDSv1 is not accessible to pods in your cluster: able to establish a network connection to the IMDS, but no credentials were returned\n```\n\n## üîÑ Comparison with Other Tools\n\n| **Tool** | **Description** |\n|:---:|:---:|\n| [kube-bench](https://github.com/aquasecurity/kube-bench) | kube-bench is a general-purpose auditing tool for Kubernetes cluster, checking for compliance against the CIS benchmarks. |\n| [kubiscan](https://github.com/cyberark/KubiScan) | kubiscan focuses on identifying dangerous in-cluster RBAC permissions. |\n| [peirates](https://github.com/inguardians/peirates) | peirates is a generic Kubernetes penetration testing tool. Although it has a `get-aws-token` command that retrieves node credentials from the IMDS, it is not specific to managed K8s environments. |\n| [botb](https://github.com/brompwnie/botb) | botb is a generic Kubernetes penetration testing tool. It also has a command to retrieve node credentials from the IMDS, but it is not specific to managed K8s environments. |\n| [rbac-police](https://github.com/PaloAltoNetworks/rbac-police) | rbac-police focuses on identifying in-cluster RBAC relationships. |\n| [kdigger](https://github.com/quarkslab/kdigger) | kdigger is a general-purpose context discovery tool for Kubernetes penetration testing. It does not attempt to be specific to managed K8s environments. |\n| [kubeletmein](https://github.com/4ARMED/kubeletmein) | kubeletmein _is_ specific to managed K8s environments. It's a utility to generate a kubeconfig file using the node's IAM credentials, to then use it in a compromised pod. |\n| [hardeneks](https://github.com/aws-samples/hardeneks) | hardeneks _is_ specific to managed K8s environments, but only for EKS. It identifies issues and lack of best practices inside of the cluster, and does not focus on cluster to cloud pivots. |\n\n## üèÅ Conclusion\n\nIn conclusion, MKAT is a valuable tool for enhancing security in managed Kubernetes environments. It provides a comprehensive set of audits that can help identify and remediate common security risks. MKAT is easy to use and can be integrated into your existing security workflows. Additionally, MKAT is open source and free to use. If you are responsible for securing a managed Kubernetes environment, I encourage you to give MKAT a try.\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n\n<br><br>\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  **_Until next time üéâ_**\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":744},"frontmatter":{"id":"0f34df281fa7fd233ea0ec11","path":"/blog/datadog-mkat-kubernetes-security/","humanDate":"Oct 21, 2024","fullDate":"2024-10-21","title":"Introducing MKAT: The Managed Kubernetes Auditing Toolkit from DataDog üõ°Ô∏è","keywords":["MKAT","DataDog","Kubernetes Security","Auditing"],"excerpt":"Discover MKAT, the Managed Kubernetes Auditing Toolkit from DataDog. Learn how this powerful tool enhances security and compliance in your Kubernetes environments.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVR42gHEBDv7AAcUHgsdKA4hLg8kMxMqOhkzRR8+USZLXy1YbjNjejdnfjRhdy1WbCRHXBw5SxUvPxAmNQ0fLQoaJgcXIwAOEygWIDMTLDoZNkYjRlkwXHJAdYxRkKZcn7NXkaFWjp5en7NZm7FKhp05bYIqUmcePU8UKzsOIzEMGCUAHixKM0BnJUJUMFxxPnWMV5mubLPHcbjIPUlJMCgjHBEMWYeQgM7ecbnKYqq9TYugNGJ5IENWM1ZnFxorACErSC9DbDVWY2Sfs1+kuXrC04LL2o3b6zZISSsjHwsFA2aYoJTi8YTN2n7I1m62yE+QpUZ2i0xmhBAUIgAjIEElNVgzVmFxtMR/wtKJ0+KW3+2KwcpYeYQ/YHUVIisyOjmVzNSb5PCM1OGBy9p5wM9ThptIYoQNEh4APiFNWCFkM09fYqKzgMDPneDul9XieZidlr3Nm7W7f1xGPhwMg4h/uPj/lNzok9nmgMTTQX6ON151HRQrAAg0NhpKWDlGXHx3pnm1yKTj7Y23vrLj6oqxu8nDtbR8VaV9YbvX2Lvy+abo85/g7nS+y0lvhk5GcxQWIQAFJCUAOi4hQktPkp2GqLGg092OpaeLv8iurZ99bmKFbVfPrYrc//+98Paw7feb3Op4tsI+cH0sXG8MERQANA47SStiLlNgb2JUjW9WgJebxPT3zertejoxRDw2UUs/fCkYysvLwv//rur1mdvlX7nJKnyLI1tlHhAkACcaOlpmmTdoeUE3OmZORn+6xs/19MSCfEoBATo2NEhLSE4KC7tiVtPc1Lv3/p7l8GO0wEFbeUgvZhYSHwACIB4AQjgKLztDaW2LqKV5y9iqYl1zEgxWBwVpbXJ3hIlfCwpxCQCtSTjF8PCe6fNeusMkYGsYRVEJDg8ABBUZARgYDy02VGFbZWJgcUdQZw8MKwIDOwAAUSwwTjM2TAYEQywuZgUAr4mHet7qSqiwG1tgEUdKCQoPAAsgIAolHhczOhxCQSAAAEQDChgAASUDATkDAi0DAiwBAUIJBjEUFC0AAIImJV24wTmTmxdJTxI/RAkNEQACExYADwsQJCsOSUgKAAAhKi9yq7IvLC0oAAAiBAQuBQM3AAAmFBVGW11GAAA/aW4vjZQRPUQMOj8HCg4AAhMXABQSDyIqE1FVD0BDPZWcnfL/VXiCCQAAIgkJLQ4NIQAAP0lMleHrHQ8RIBkZKH+GE1JbEUpPBgkRAAMeIwEkJQ4lLxdYYCFibT57iXfL2liUpAUAABgDAyAHCBcAADtSWXXX5CYXFiceIjZ3hxhPXBRFTwcTHwAIIywGJS0PIi8jRlQoR1c7antiuslKg5cLAAMWBgYcAgUXAAAvOkFlmpxVPjE4dnw+d4oiQVEXMT8JGigACRomCBgkECEuIjtKJ0lZNmd3U6e2OWJ3AwAADwcJFwgJFQMGFwEDQzAqRWttLGl0OHGCI0NSGS89DBwpAAsXIw4bKBQmMyFATSpOXjRmdkaRoyY9TwIAAAsJCw8ICw8CBQwAAA0bHythax08RDZvgSdLWRw2QxEiLwATJDAYKzccNEIlR1YuV2c0ZXc5d4oTIi0CAAEHBgkKBwoLAQUGAQMDBggxancaO0EvXW4tVWYhP00XLDlnA5GgPDEwqgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/44502cc7402cf803917a9330e54145ad/ccc41/mkat-cover.png","srcSet":"/static/44502cc7402cf803917a9330e54145ad/ccc41/mkat-cover.png 512w","sizes":"100vw"},"sources":[{"srcSet":"/static/44502cc7402cf803917a9330e54145ad/d689f/mkat-cover.webp 512w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/monitoring-coredns-dns-performance/","title":"Everything You Need to Know About Monitoring CoreDNS for DNS Performance","date":"2024-10-21 22:22:00"},"excerpt":"üìö Introduction Running DNS-intensive workloads can sometimes lead to intermittent CoreDNS failures caused by DNS throttling. These issues‚Ä¶"},"nextThought":{"frontmatter":{"path":"/blog/kubernetes-probes/","title":"Understanding Kubernetes Probes: Better Apps Health Checks üåÅ","date":"2024-10-21 22:16:00"},"excerpt":"Guide to Liveness, Readiness, and Startup Probes¬†‚ôªÔ∏è üìå Introduction Kubernetes offers a feature called probes, which play an important role‚Ä¶"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}