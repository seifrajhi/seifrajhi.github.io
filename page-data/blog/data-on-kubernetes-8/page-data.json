{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/data-on-kubernetes-8/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>TiDB: A Cloud-Native Database for hybrid workloads</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö Introduction</h2>\n<p>The idea of a Kubernetes-native database like TiDB came up to solve the problems of running traditional databases on Kubernetes. Databases like MySQL and Cassandra have been around for a long time and work well, but they can be hard to manage on Kubernetes.¬†</p>\n<p><a href=\"https://docs.pingcap.com/tidb/stable\" target=\"_blank\" rel=\"noopener noreferrer\">TiDB</a>, created by PingCAP, is built from the start to work well with Kubernetes. It can handle both <a href=\"https://www.fivetran.com/blog/databases-demystified-analytical-vs-transactional\" target=\"_blank\" rel=\"noopener noreferrer\">transactional and analytical workloads</a> without needing a separate ETL process. This makes TiDB a very useful  for managing data on Kubernetes.</p>\n<p>Traditional databases often face challenges when adapted to Kubernetes, such as managing multiple nodes and integrating with Kubernetes storage. TiDB addresses these issues by being designed as a cloud-native database from day one.¬†</p>\n<p>It makes use of Kubernetes resources like Pods, StatefulSets, and PersistentVolumes, and is managed by an operator, making deployment and scaling easier. With TiDB, you get the benefits of both transactional and analytical processing in one system, simplifying your data management tasks.</p>\n<h2 id=\"Ô∏è-history-and-development-oftidb\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-history-and-development-oftidb\" aria-label=\"Ô∏è history and development oftidb permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚úçÔ∏è History and development of¬†TiDB</h2>\n<p>TiDB, <a href=\"https://docs.pingcap.com/tidb/stable/overview\" target=\"_blank\" rel=\"noopener noreferrer\">short for \"Titanium Database,\"</a> is an open-source, MySQL-compatible database developed by PingCAP. The development of TiDB began in 2015 with the goal of creating a database that could handle both transactional and analytical workloads efficiently. The inspiration for TiDB came from Google's F1 project, which built on top of Spanner, a globally distributed database.</p>\n<p>TiDB was designed to address the limitations of traditional databases, such as scalability and flexibility, by making use of a cloud-native architecture.</p>\n<h3 id=\"overview-of-pingcap-and-their-role-in-the-development-oftidb\" style=\"position:relative;\"><a href=\"#overview-of-pingcap-and-their-role-in-the-development-oftidb\" aria-label=\"overview of pingcap and their role in the development oftidb permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Overview of PingCAP and their role in the development of¬†TiDB</h3>\n<p>PingCAP, the company behind TiDB, was founded by a group of engineers with extensive experience in database systems and distributed computing. Their mission was to build a database that could meet the demands of modern applications, which require both high availability and the ability to process large volumes of data in real-time.</p>\n<p>PingCAP has been the primary contributor to TiDB, continuously improving its features and performance. They have also fostered a strong community around TiDB, encouraging collaboration and contributions from developers worldwide.</p>\n<h3 id=\"key-features-oftidb\" style=\"position:relative;\"><a href=\"#key-features-oftidb\" aria-label=\"key features oftidb permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Key Features of¬†TiDB</h3>\n<p><strong><em>‚úÖ Hybrid Transactional and Analytical Processing (HTAP):</em></strong></p>\n<p>One of the standout features of TiDB is its support for Hybrid Transactional and Analytical Processing (HTAP). This means TiDB can handle both transactional (OLTP) and analytical (OLAP) workloads without the need for a separate ETL process. TiDB achieves this by using two different storage engines: TiKV for transactional workloads and TiFlash for analytical workloads. This dual-engine approach allows TiDB to provide real-time analytics on fresh transactional data, making it highly efficient for applications that require both types of operations.</p>\n<p><strong><em>‚úÖ MySQL compatibility:</em></strong></p>\n<p>TiDB is fully compatible with MySQL, which means it can be used as a drop-in replacement for MySQL databases. This compatibility extends to MySQL protocols and SQL syntax, making it easy for developers to migrate their applications to TiDB without significant changes. This feature also allows TiDB to integrate seamlessly with existing MySQL tools and ecosystems.</p>\n<p><strong><em>‚úÖ Scalability and flexibility:</em></strong></p>\n<p>TiDB is designed to scale horizontally, which means it can handle increasing amounts of data and traffic by adding more nodes to the cluster. This scalability is achieved through a distributed architecture where data is automatically sharded and balanced across multiple nodes. TiDB's flexibility allows it to run on various environments, including on-premises data centers, public clouds, and Kubernetes clusters. This makes TiDB a versatile solution for different deployment scenarios.</p>\n<p><strong><em>‚úÖ High availability and fault tolerance:</em></strong></p>\n<p>TiDB ensures high availability and fault tolerance through its distributed architecture. Data is replicated across multiple nodes, typically with at least three replicas, to provide redundancy. In the event of a node failure, TiDB can automatically failover to another replica, ensuring continuous availability. The Placement Driver (PD) component of TiDB manages metadata and coordinates data placement, further enhancing the system's resilience and ability to recover from failures.</p>\n<h2 id=\"tidb-architecture\" style=\"position:relative;\"><a href=\"#tidb-architecture\" aria-label=\"tidb architecture permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>TiDB Architecture</h2>\n<p>TiDB's architecture is designed for high performance, scalability, and flexibility by separating compute and storage into distinct, independently scalable components.</p>\n<p>Let's look at each component:</p>\n<p><strong><em>‚ùé TiDB:</em></strong></p>\n<p>Each TiDB instance is a stateless service exposing a MySQL endpoint. It parses SQL requests, uses metadata from the Placement Driver to create execution plans, and queries TiKV and TiFlash nodes. Results are assembled and returned to the client. A proxy typically provides load balancing for the TiDB cluster.</p>\n<p><strong><em>‚ùé TiKV:</em></strong></p>\n<p>TiKV is an open-source, distributed key-value database for transactional workloads. It uses RocksDB and provides a custom Distributed SQL API. TiKV ensures high availability and fault tolerance by storing multiple replicas of data across nodes, supporting automatic failover. It is a CNCF Graduated project recognized for its reliability.</p>\n<p><strong><em>‚ùé TiFlash:</em></strong></p>\n<p>TiFlash is a columnar storage engine for analytical workloads, based on ClickHouse. Data is replicated from TiKV to TiFlash in real-time, enabling analytical queries on fresh transactional data without a separate ETL process. Columnar storage offers significant performance advantages for analytical queries.</p>\n<p><strong><em>‚ùé TiSpark:</em></strong></p>\n<p>TiSpark is a library for Apache Spark, supporting complex analytical (OLAP) queries. It integrates with Spark to ingest data from TiFlash using the Distributed SQL API, leveraging Spark's data processing capabilities for large-scale analytics.</p>\n<p><strong><em>‚ùé Placement Driver (PD):</em></strong></p>\n<p>The PD manages metadata for TiDB, deployed in a cluster of at least three nodes. It uses range-based sharding to divide table keys into regions, assigning them to TiKV nodes. PD monitors data amounts, splitting large regions to scale up and merging smaller ones to scale down.</p>\n<p><strong><em>‚ùé TiDB Operator:</em></strong></p>\n<p>The TiDB Operator automates deployment, management, and scaling of TiDB clusters on Kubernetes. It handles tasks like deployment, scaling, upgrades, monitoring, and backup/restore operations, leveraging Kubernetes resources like Pods, StatefulSets, and PersistentVolumes.</p>\n<h3 id=\"how-tidb-uses-kubernetes-resources\" style=\"position:relative;\"><a href=\"#how-tidb-uses-kubernetes-resources\" aria-label=\"how tidb uses kubernetes resources permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How TiDB uses Kubernetes resources</h3>\n<p>TiDB integrates seamlessly with Kubernetes, using its resources to manage and scale efficiently:</p>\n<ul>\n<li><strong><em>Pods:</em></strong> Each TiDB instance runs as a stateless service in a Pod, easily scalable based on demand.</li>\n<li><strong><em>StatefulSets:</em></strong> TiKV and TiFlash nodes are deployed using StatefulSets, ensuring stable network identities and persistent storage.</li>\n<li><strong><em>PersistentVolumes (PVs) and PersistentVolumeClaims (PVCs):</em></strong> TiDB uses PVs for durable storage and PVCs for specific storage requests.</li>\n</ul>\n<h3 id=\"role-of-the-tidb-operator-in-managing-the-databases\" style=\"position:relative;\"><a href=\"#role-of-the-tidb-operator-in-managing-the-databases\" aria-label=\"role of the tidb operator in managing the databases permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Role of the TiDB operator in managing the databases:</h3>\n<p>The TiDB Operator simplifies running TiDB on Kubernetes by automating:</p>\n<ul>\n<li><strong><em>Deployment:</em></strong> Automates deployment of TiDB components using Kubernetes resources.</li>\n<li><strong><em>Scaling:</em></strong> Automatically scales TiDB clusters based on resource usage and demand.</li>\n<li><strong>Upgrades:</strong> Manages rolling upgrades, minimizing downtime.</li>\n<li><strong><em>Monitoring and alerts:</em></strong> Integrates with Prometheus and Grafana for metrics and alerts.</li>\n<li><strong><em>Backup and restore:</em></strong> Supports backup and restore operations for data durability and recovery.</li>\n</ul>\n<h2 id=\"deploy-tidb-oneks\" style=\"position:relative;\"><a href=\"#deploy-tidb-oneks\" aria-label=\"deploy tidb oneks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deploy TiDB on¬†EKS</h2>\n<p>Deploying TiDB on AWS Elastic Kubernetes Service EKS involves several steps to ensure a smooth and efficient setup. Below is a guide to help you through the process.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACC0lEQVR42mNgYGBgRMIoQEtLi01fXl8AyOTJ8sqS31q4dW6mc6YSkM9tbGzMyoAP/P8PMXTt2gLJ5cuz/GfNSvTRs1QSA4rBNf6v/88SGhrKzBC6inlCeZpcc2641a7pNao3NvWIQMz4z8iQu20iu3NsgLBHtIcMyCWrFmba795evPTE4eqO0FAnaS0ZLSF3Y1vJ+vh4DqA806pVQAOBYEVzUvS2/pxFe6YXzFvenpQPN7BoV1ZV7trk+UU7suaUrEl1OZpZWr4+NW/ZzsziZXuLikJ3FM8s3pA3Ye+2oinbjmRPtuw9c0x3/pEjC2fsO7Bs5rHDUbOmXfCZPf3M9CXzr0xdNPuSK0PZge1lhdvWTqg8vKe3fO9Wp/8MDOxnZvaIHGqtFN1UX8+1v34Kz/36+QLH6lcJ/a/fz1I+cyZ/94YNWn0bN2pXTpgtPnlDY2DPsurJPcur+yesrnVmKNlzOLD6yKnwikMnYot37teBO50AgKlZtr81ZNr6sr7ZW6u7Fu9tc8OmlvE/ZqzDxMCgvr6eCURPnDiR/djkEwXbWvf07us53HVkyvFUYIStYoZhmEISAGPrsnmuVdMnZdXNmZ7avHCuDQOloL5/jl1J86T06o5ZyWUd080oNrCnY6ZNU/20tAndi+N72ucYkmUINBMwzJwZLXn8eObc7dvjl+7dm7T4yLGsqQBg8uNIePtjBgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\" alt text\" title=\"\" src=\"/static/bfa9f3f9d874c5d9e5e293a116ad888c/c5bb3/tidb-eks-steps.png\" srcset=\"/static/bfa9f3f9d874c5d9e5e293a116ad888c/04472/tidb-eks-steps.png 170w,\n/static/bfa9f3f9d874c5d9e5e293a116ad888c/9f933/tidb-eks-steps.png 340w,\n/static/bfa9f3f9d874c5d9e5e293a116ad888c/c5bb3/tidb-eks-steps.png 680w,\n/static/bfa9f3f9d874c5d9e5e293a116ad888c/b12f7/tidb-eks-steps.png 1020w,\n/static/bfa9f3f9d874c5d9e5e293a116ad888c/b5a09/tidb-eks-steps.png 1360w,\n/static/bfa9f3f9d874c5d9e5e293a116ad888c/65781/tidb-eks-steps.png 2778w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Before deploying a TiDB cluster on EKS, make sure the below requirements are satisfied:</p>\n<ul>\n<li><a href=\"https://helm.sh/docs/intro/install/\" target=\"_blank\" rel=\"noopener noreferrer\">Install Helm 3</a>: used for deploying TiDB Operator.</li>\n<li><a href=\"https://docs.aws.amazon.com/eks/latest/userguide/getting-started-eksctl.html\" target=\"_blank\" rel=\"noopener noreferrer\">Complete all operations in Getting started with eksctl</a>. The guide includes the steps to install and configure <code class=\"language-text\">awscli</code>, <code class=\"language-text\">eksctl</code> used for creating Kubernetes clusters and <code class=\"language-text\">kubectl</code>.</li>\n</ul>\n<h3 id=\"create-eks-cluster-and-nodepool\" style=\"position:relative;\"><a href=\"#create-eks-cluster-and-nodepool\" aria-label=\"create eks cluster and nodepool permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Create EKS Cluster and Node¬†Pool</h3>\n<p>The Recommended instance types and storage are:\nInstance types: to gain better performance, the following is recommended:</p>\n<ul>\n<li><strong><em>PD nodes:</em></strong> <code class=\"language-text\">c7g.xlarge</code></li>\n<li><strong><em>TiDB nodes:</em></strong> <code class=\"language-text\">c7g.4xlarge</code></li>\n<li><strong><em>TiKV or TiFlash nodes:</em></strong> <code class=\"language-text\">m7g.4xlarge</code></li>\n<li><strong><em>Storage:</em></strong> Because AWS supports the EBS <code class=\"language-text\">gp3</code> volume type, it is recommended to use <code class=\"language-text\">EBS gp3</code>. For gp3 provisioning, the following is recommended:</li>\n<li><strong><em>TiKV:</em></strong> 400 MiB/s, 4000 IOPS</li>\n<li><strong><em>TiFlash:</em></strong> 625 MiB/s, 6000 IOPS</li>\n<li><strong><em>AMI type:</em></strong> <code class=\"language-text\">Amazon Linux 2</code></li>\n</ul>\n<p><strong>Create EKS Cluster:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> eksctl.io/v1alpha5\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> ClusterConfig\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>eks<span class=\"token punctuation\">-</span>demo\n  <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> eu<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n<span class=\"token key atrule\">addons</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws<span class=\"token punctuation\">-</span>ebs<span class=\"token punctuation\">-</span>csi<span class=\"token punctuation\">-</span>driver\n\n<span class=\"token key atrule\">nodeGroups</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> admin\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> admin\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>1a\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1a\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c5.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>1b\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1b\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c5.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">-</span>1c\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1c\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c5.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tidb<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">-</span>1a\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1a\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c7g.xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">-</span>1b\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1b\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c7g.xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">-</span>1c\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1c\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> c7g.xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">-</span>1a\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1a\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> r5b.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">-</span>1b\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1b\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> r5b.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">-</span>1c\n    <span class=\"token key atrule\">desiredCapacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">privateNetworking</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">availabilityZones</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"eu-west-1c\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">instanceType</span><span class=\"token punctuation\">:</span> r5b.2xlarge\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv\n    <span class=\"token key atrule\">taints</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">dedicated</span><span class=\"token punctuation\">:</span> tikv<span class=\"token punctuation\">:</span>NoSchedule\n    <span class=\"token key atrule\">iam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">withAddonPolicies</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ebs</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>By default, only two TiDB nodes are required, so you can set the desiredCapacity of the <code class=\"language-text\">tidb-1b</code> node group to 0. You can scale out this node group any time if necessary.</p>\n<p>Execute the following command to create the cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ eksctl create cluster <span class=\"token parameter variable\">-f</span> cluster.yaml</code></pre></div>\n<h3 id=\"configure-storage\" style=\"position:relative;\"><a href=\"#configure-storage\" aria-label=\"configure storage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Configure Storage</h3>\n<p>**Deploy AWS EBS CSI Driver: **</p>\n<p>If you are using the gp3 storage type, deploy the AWS EBS Container Storage Interface (CSI) driver.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl patch <span class=\"token parameter variable\">-n</span> kube-system ds ebs-csi-node <span class=\"token parameter variable\">-p</span> <span class=\"token string\">'{\"spec\":{\"template\":{\"spec\":{\"tolerations\":[{\"operator\":\"Exists\"}]}}}}'</span></code></pre></div>\n<p>Expected output:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ daemonset.apps/ebs-csi-node patched</code></pre></div>\n<p><strong>Create StorageClass for gp3:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kind: StorageClass\napiVersion: storage.k8s.io/v1\nmetadata:\n  name: gp3\nprovisioner: ebs.csi.aws.com\nallowVolumeExpansion: <span class=\"token boolean\">true</span>\nvolumeBindingMode: WaitForFirstConsumer\nparameters:\n  type: gp3\n  fsType: ext4\n  iops: <span class=\"token string\">\"4000\"</span>\n  throughput: <span class=\"token string\">\"400\"</span>\nmountOptions:\n  - nodelalloc\n  - noatime</code></pre></div>\n<h3 id=\"deploy-tidb-operator\" style=\"position:relative;\"><a href=\"#deploy-tidb-operator\" aria-label=\"deploy tidb operator permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deploy TiDB Operator</h3>\n<p>To deploy TiDB Operator in the EKS cluster, follow the below steps.</p>\n<p><strong>Install TiDB Operator CRDs:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl create <span class=\"token parameter variable\">-f</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/manifests/crd.yaml</code></pre></div>\n<p><strong>Install TiDB Operator:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ helm repo <span class=\"token function\">add</span> pingcap https://charts.pingcap.org/ \n$ kubectl create namespace tidb-admin \n$ helm <span class=\"token function\">install</span> <span class=\"token parameter variable\">--namespace</span> tidb-admin tidb-operator pingcap/tidb-operator <span class=\"token parameter variable\">--version</span> v1.6.0</code></pre></div>\n<p><strong>Confirm TiDB Operator Components:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl get pods <span class=\"token parameter variable\">--namespace</span> tidb-admin <span class=\"token parameter variable\">-l</span> app.kubernetes.io/instance<span class=\"token operator\">=</span>tidb-operator</code></pre></div>\n<h3 id=\"deploy-tidb-cluster-and-monitoring-component\" style=\"position:relative;\"><a href=\"#deploy-tidb-cluster-and-monitoring-component\" aria-label=\"deploy tidb cluster and monitoring component permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Deploy TiDB Cluster and Monitoring Component:</h3>\n<p><strong>Create Namespace:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl create namespace tidb-cluster</code></pre></div>\n<p><strong>Deploy TiDB Cluster and Monitor:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-O</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-cluster.yaml\n$ <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-O</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-monitor.yaml\n$ <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-O</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-dashboard.yaml\n$ kubectl apply <span class=\"token parameter variable\">-f</span> tidb-cluster.yaml <span class=\"token parameter variable\">-n</span> tidb-cluster\n$ kubectl apply <span class=\"token parameter variable\">-f</span> tidb-monitor.yaml <span class=\"token parameter variable\">-n</span> tidb-cluster\n$ kubectl apply <span class=\"token parameter variable\">-f</span> tidb-dashboard.yaml <span class=\"token parameter variable\">-n</span> tidb-cluster</code></pre></div>\n<p><strong>View Cluster Status:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ kubectl get pods <span class=\"token parameter variable\">-n</span> tidb-cluster</code></pre></div>\n<p>When all the Pods are in the Running or Ready state, the TiDB cluster is successfully started.</p>\n<p><strong>It's your turn to set up TiDB. Good luck and have fun! üòÑ</strong></p>\n<h2 id=\"-closing-thoughts\" style=\"position:relative;\"><a href=\"#-closing-thoughts\" aria-label=\" closing thoughts permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîö Closing thoughts</h2>\n<p>TiDB offers a modern solution to the challenges of running traditional databases on Kubernetes. By being designed as a cloud-native database from the start, TiDB seamlessly integrates with Kubernetes resources, making deployment and scaling straightforward. It efficiently handles both transactional and analytical workloads, eliminating the need for separate ETL processes.</p>\n<br>\n<br>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìªüß° References:</strong></p>\n<ul>\n<li><a href=\"https://docs.pingcap.com/tidb/stable\" target=\"_blank\" rel=\"noopener noreferrer\">https://docs.pingcap.com/tidb/stable</a></li>\n<li><a href=\"https://docs.pingcap.com/tidb-in-kubernetes/stable/deploy-on-aws-eks\" target=\"_blank\" rel=\"noopener noreferrer\">https://docs.pingcap.com/tidb-in-kubernetes/stable/deploy-on-aws-eks</a></li>\n<li><a href=\"https://docs.pingcap.com/tidb/stable/tidb-in-kubernetes\" target=\"_blank\" rel=\"noopener noreferrer\">https://docs.pingcap.com/tidb/stable/tidb-in-kubernetes</a></li>\n<li><a href=\"https://github.com/pingcap/tidb-operator\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/pingcap/tidb-operator</a></li>\n<li>\n<iframe width=\"100%\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/FqMcwv_FL7Q?rel=0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n</li>\n<li><a href=\"https://surrealdb.com/docs/surrealdb/deployment/amazon\" target=\"_blank\" rel=\"noopener noreferrer\">https://surrealdb.com/docs/surrealdb/deployment/amazon</a></li>\n</ul>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":9,"rawMarkdownBody":"> **TiDB: A Cloud-Native Database for hybrid workloads**\n\n## üìö Introduction\n\nThe idea of a Kubernetes-native database like TiDB came up to solve the problems of running traditional databases on Kubernetes. Databases like MySQL and Cassandra have been around for a long time and work well, but they can be hard to manage on Kubernetes.¬†\n\n[TiDB](https://docs.pingcap.com/tidb/stable), created by PingCAP, is built from the start to work well with Kubernetes. It can handle both [transactional and analytical workloads](https://www.fivetran.com/blog/databases-demystified-analytical-vs-transactional) without needing a separate ETL process. This makes TiDB a very useful  for managing data on Kubernetes.\n\nTraditional databases often face challenges when adapted to Kubernetes, such as managing multiple nodes and integrating with Kubernetes storage. TiDB addresses these issues by being designed as a cloud-native database from day one.¬†\n\nIt makes use of Kubernetes resources like Pods, StatefulSets, and PersistentVolumes, and is managed by an operator, making deployment and scaling easier. With TiDB, you get the benefits of both transactional and analytical processing in one system, simplifying your data management tasks.\n\n## ‚úçÔ∏è History and development of¬†TiDB\n\n\nTiDB, [short for \"Titanium Database,\"](https://docs.pingcap.com/tidb/stable/overview) is an open-source, MySQL-compatible database developed by PingCAP. The development of TiDB began in 2015 with the goal of creating a database that could handle both transactional and analytical workloads efficiently. The inspiration for TiDB came from Google's F1 project, which built on top of Spanner, a globally distributed database. \n\nTiDB was designed to address the limitations of traditional databases, such as scalability and flexibility, by making use of a cloud-native architecture.\n\n\n### Overview of PingCAP and their role in the development of¬†TiDB\n\nPingCAP, the company behind TiDB, was founded by a group of engineers with extensive experience in database systems and distributed computing. Their mission was to build a database that could meet the demands of modern applications, which require both high availability and the ability to process large volumes of data in real-time. \n\nPingCAP has been the primary contributor to TiDB, continuously improving its features and performance. They have also fostered a strong community around TiDB, encouraging collaboration and contributions from developers worldwide.\n\n### Key Features of¬†TiDB\n\n**_‚úÖ Hybrid Transactional and Analytical Processing (HTAP):_**\n\nOne of the standout features of TiDB is its support for Hybrid Transactional and Analytical Processing (HTAP). This means TiDB can handle both transactional (OLTP) and analytical (OLAP) workloads without the need for a separate ETL process. TiDB achieves this by using two different storage engines: TiKV for transactional workloads and TiFlash for analytical workloads. This dual-engine approach allows TiDB to provide real-time analytics on fresh transactional data, making it highly efficient for applications that require both types of operations.\n\n**_‚úÖ MySQL compatibility:_**\n\nTiDB is fully compatible with MySQL, which means it can be used as a drop-in replacement for MySQL databases. This compatibility extends to MySQL protocols and SQL syntax, making it easy for developers to migrate their applications to TiDB without significant changes. This feature also allows TiDB to integrate seamlessly with existing MySQL tools and ecosystems.\n\n**_‚úÖ Scalability and flexibility:_**\n\nTiDB is designed to scale horizontally, which means it can handle increasing amounts of data and traffic by adding more nodes to the cluster. This scalability is achieved through a distributed architecture where data is automatically sharded and balanced across multiple nodes. TiDB's flexibility allows it to run on various environments, including on-premises data centers, public clouds, and Kubernetes clusters. This makes TiDB a versatile solution for different deployment scenarios.\n\n**_‚úÖ High availability and fault tolerance:_**\n\nTiDB ensures high availability and fault tolerance through its distributed architecture. Data is replicated across multiple nodes, typically with at least three replicas, to provide redundancy. In the event of a node failure, TiDB can automatically failover to another replica, ensuring continuous availability. The Placement Driver (PD) component of TiDB manages metadata and coordinates data placement, further enhancing the system's resilience and ability to recover from failures.\n\n## TiDB Architecture\n\nTiDB's architecture is designed for high performance, scalability, and flexibility by separating compute and storage into distinct, independently scalable components. \n\nLet's look at each component:\n\n**_‚ùé TiDB:_**\n\nEach TiDB instance is a stateless service exposing a MySQL endpoint. It parses SQL requests, uses metadata from the Placement Driver to create execution plans, and queries TiKV and TiFlash nodes. Results are assembled and returned to the client. A proxy typically provides load balancing for the TiDB cluster.\n\n**_‚ùé TiKV:_**\n\nTiKV is an open-source, distributed key-value database for transactional workloads. It uses RocksDB and provides a custom Distributed SQL API. TiKV ensures high availability and fault tolerance by storing multiple replicas of data across nodes, supporting automatic failover. It is a CNCF Graduated project recognized for its reliability.\n\n**_‚ùé TiFlash:_**\n\nTiFlash is a columnar storage engine for analytical workloads, based on ClickHouse. Data is replicated from TiKV to TiFlash in real-time, enabling analytical queries on fresh transactional data without a separate ETL process. Columnar storage offers significant performance advantages for analytical queries.\n\n**_‚ùé TiSpark:_**\n\nTiSpark is a library for Apache Spark, supporting complex analytical (OLAP) queries. It integrates with Spark to ingest data from TiFlash using the Distributed SQL API, leveraging Spark's data processing capabilities for large-scale analytics.\n\n**_‚ùé Placement Driver (PD):_**\n\nThe PD manages metadata for TiDB, deployed in a cluster of at least three nodes. It uses range-based sharding to divide table keys into regions, assigning them to TiKV nodes. PD monitors data amounts, splitting large regions to scale up and merging smaller ones to scale down.\n\n**_‚ùé TiDB Operator:_**\n\nThe TiDB Operator automates deployment, management, and scaling of TiDB clusters on Kubernetes. It handles tasks like deployment, scaling, upgrades, monitoring, and backup/restore operations, leveraging Kubernetes resources like Pods, StatefulSets, and PersistentVolumes.\n\n\n### How TiDB uses Kubernetes resources\n\nTiDB integrates seamlessly with Kubernetes, using its resources to manage and scale efficiently:\n\n- **_Pods:_** Each TiDB instance runs as a stateless service in a Pod, easily scalable based on demand.\n- **_StatefulSets:_** TiKV and TiFlash nodes are deployed using StatefulSets, ensuring stable network identities and persistent storage.\n- **_PersistentVolumes (PVs) and PersistentVolumeClaims (PVCs):_** TiDB uses PVs for durable storage and PVCs for specific storage requests.\n\n### Role of the TiDB operator in managing the databases:\n\nThe TiDB Operator simplifies running TiDB on Kubernetes by automating:\n\n- **_Deployment:_** Automates deployment of TiDB components using Kubernetes resources.\n- **_Scaling:_** Automatically scales TiDB clusters based on resource usage and demand.\n- **Upgrades:** Manages rolling upgrades, minimizing downtime.\n- **_Monitoring and alerts:_** Integrates with Prometheus and Grafana for metrics and alerts.\n- **_Backup and restore:_** Supports backup and restore operations for data durability and recovery.\n\n## Deploy TiDB on¬†EKS\n\nDeploying TiDB on AWS Elastic Kubernetes Service EKS involves several steps to ensure a smooth and efficient setup. Below is a guide to help you through the process.\n\n\n![ alt text](./tidb-eks-steps.png)\n\nBefore deploying a TiDB cluster on EKS, make sure the below requirements are satisfied:\n\n- [Install Helm 3](https://helm.sh/docs/intro/install/): used for deploying TiDB Operator.\n- [Complete all operations in Getting started with eksctl](https://docs.aws.amazon.com/eks/latest/userguide/getting-started-eksctl.html). The guide includes the steps to install and configure `awscli`, `eksctl` used for creating Kubernetes clusters and `kubectl`.\n\n\n\n### Create EKS Cluster and Node¬†Pool\n\nThe Recommended instance types and storage are:\nInstance types: to gain better performance, the following is recommended:\n\n- **_PD nodes:_** `c7g.xlarge`\n- **_TiDB nodes:_** `c7g.4xlarge`\n- **_TiKV or TiFlash nodes:_** `m7g.4xlarge`\n- **_Storage:_** Because AWS supports the EBS `gp3` volume type, it is recommended to use `EBS gp3`. For gp3 provisioning, the following is recommended:\n- **_TiKV:_** 400 MiB/s, 4000 IOPS\n- **_TiFlash:_** 625 MiB/s, 6000 IOPS\n- **_AMI type:_** `Amazon Linux 2`\n\n\n**Create EKS Cluster:**\n\n\n```Yaml\napiVersion: eksctl.io/v1alpha5\nkind: ClusterConfig\nmetadata:\n  name: tidb-eks-demo\n  region: eu-west-1\naddons:\n  - name: aws-ebs-csi-driver\n\nnodeGroups:\n  - name: admin\n    desiredCapacity: 1\n    privateNetworking: true\n    labels:\n      dedicated: admin\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1b\n    desiredCapacity: 0\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1b\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1b\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n```\n\n\nBy default, only two TiDB nodes are required, so you can set the desiredCapacity of the `tidb-1b` node group to 0. You can scale out this node group any time if necessary.\n\nExecute the following command to create the cluster:\n\n```Shell\n$ eksctl create cluster -f cluster.yaml\n```\n\n### Configure Storage\n\n**Deploy AWS EBS CSI Driver: **\n\nIf you are using the gp3 storage type, deploy the AWS EBS Container Storage Interface (CSI) driver.\n\n```Shell\n$ kubectl patch -n kube-system ds ebs-csi-node -p '{\"spec\":{\"template\":{\"spec\":{\"tolerations\":[{\"operator\":\"Exists\"}]}}}}'\n```\n\nExpected output:\n```Shell\n$ daemonset.apps/ebs-csi-node patched\n```\n\n**Create StorageClass for gp3:**\n\n```Shell\nkind: StorageClass\napiVersion: storage.k8s.io/v1\nmetadata:\n  name: gp3\nprovisioner: ebs.csi.aws.com\nallowVolumeExpansion: true\nvolumeBindingMode: WaitForFirstConsumer\nparameters:\n  type: gp3\n  fsType: ext4\n  iops: \"4000\"\n  throughput: \"400\"\nmountOptions:\n  - nodelalloc\n  - noatime\n```\n\n### Deploy TiDB Operator\n\nTo deploy TiDB Operator in the EKS cluster, follow the below steps.\n\n**Install TiDB Operator CRDs:**\n\n```Shell\n$ kubectl create -f https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/manifests/crd.yaml\n```\n\n**Install TiDB Operator:**\n\n```Shell\n$ helm repo add pingcap https://charts.pingcap.org/ \n$ kubectl create namespace tidb-admin \n$ helm install --namespace tidb-admin tidb-operator pingcap/tidb-operator --version v1.6.0\n```\n\n**Confirm TiDB Operator Components:**\n```Shell\n$ kubectl get pods --namespace tidb-admin -l app.kubernetes.io/instance=tidb-operator\n```\n\n### Deploy TiDB Cluster and Monitoring Component:\n\n**Create Namespace:**\n```Shell\n$ kubectl create namespace tidb-cluster\n```\n\n**Deploy TiDB Cluster and Monitor:**\n\n```Shell\n$ curl -O https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-cluster.yaml\n$ curl -O https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-monitor.yaml\n$ curl -O https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-dashboard.yaml\n$ kubectl apply -f tidb-cluster.yaml -n tidb-cluster\n$ kubectl apply -f tidb-monitor.yaml -n tidb-cluster\n$ kubectl apply -f tidb-dashboard.yaml -n tidb-cluster\n```\n\n**View Cluster Status:**\n\n```Shell\n$ kubectl get pods -n tidb-cluster\n```\n\nWhen all the Pods are in the Running or Ready state, the TiDB cluster is successfully started.\n\n**It's your turn to set up TiDB. Good luck and have fun! üòÑ**\n\n## üîö Closing thoughts\n\n\nTiDB offers a modern solution to the challenges of running traditional databases on Kubernetes. By being designed as a cloud-native database from the start, TiDB seamlessly integrates with Kubernetes resources, making deployment and scaling straightforward. It efficiently handles both transactional and analytical workloads, eliminating the need for separate ETL processes.\n\n<br>\n<br>\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  _**Until next time üéâ**_\n\n\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìªüß° References:**\n\n- https://docs.pingcap.com/tidb/stable\n- https://docs.pingcap.com/tidb-in-kubernetes/stable/deploy-on-aws-eks\n- https://docs.pingcap.com/tidb/stable/tidb-in-kubernetes\n- https://github.com/pingcap/tidb-operator\n- https://www.youtube.com/watch?v=FqMcwv_FL7Q\n- https://surrealdb.com/docs/surrealdb/deployment/amazon\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":1494},"frontmatter":{"id":"54e37b96a691ae61cbad4dca","path":"/blog/data-on-kubernetes-8/","humanDate":"Sep 27, 2024","fullDate":"2024-09-27","title":"Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database","keywords":["Open source","Kubernetes","TiDB","AWS EKS","Cloud Native"],"excerpt":"EKS, Databases, Cloud Native DB","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACy0lEQVR42j2Sy09TWRzHbyYyI5Q+KH0JfV76uFza0mJbaDv0Ta0taKGABcIjVhgVzBiDY2Iyycxk3BkTM7vZzCxd4c6NLlwY49KVbl36D7j+eO4xcfHL7/zu+eV7vo+rdDsHzM9fYW6uzfR0lVisTDzeoFhcJZlcYmHhKrOzl8S5KeeLF9vMzNRwu9OcH4lQya5w9uIt/77+iGk4jJJKXaLX+4Vu9waXL++yvHwg+h6rq4fyvLFxk62tE9rtPVnr6zc5OnqAqhYZNU9jMWtEtRrP3n/m4X9vUAqFLpubt6jV+jQaWxLM683Sau2KeVuCdTr78s4AL5V6VCobDAannJz8TjCYZ+hcAD29wuOzDyihUIF0uiUAr5HNLktJxuuZTFt+M0AWF3vkcitShcFyZqZOubxOvd6XNlks09jMMe7s3UMxwJaWtr9LGwzuC7k3aDZ3WFs7Ynf3V3F3SzLe2bkj7Dni9PRv+v1jrguW/f5t7PYEY2MJfN4cysREhkCwIGTm8PvnMRhPirMxBwILTE5mCInu832b/X6jz0tbXK5ZGY7dHsdsjmIyRVGMxXSyghYtous1mWBcLwkpJZFuU/QKvkiRmFYmGl0kkajLUtWCANEYGgpw7scp8UCRiYksyrgjhUMbYPe1GRkJM2rRcWt7eHxrDA9PCW80Ov48MQEQDOXFTgST2DPb4rjCDcrVbQabd2nUj+mt/4XiGE8wVXuCN3lIeFIl6E0R/PlPgsnbWK06Pk+ah+kO5XyXkgjC4UiIEKLCrwLN5WM+vXwHZ6949s9z/OoSiqo3sVvDOF0JPE4dlzOHw1PCKWrcuUAkWsEdrOK5IPxV89Lnn86rNGqCVesPttYe8Oj+UyrVQ+xCibL//xci1d8wm8JYhQyDldWqYbVosttsKZyORZHiHGZLTP4iVpvOmD2D19di3F3hh6EQI6MxHBeyfAWXI3PkcrT8rgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png","srcSet":"/static/3f9ae8abfe1eb936c594e896bdbf5667/9ae6a/eks-tidb.png 750w,\n/static/3f9ae8abfe1eb936c594e896bdbf5667/be7fa/eks-tidb.png 1080w,\n/static/3f9ae8abfe1eb936c594e896bdbf5667/ee3cf/eks-tidb.png 1366w,\n/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/3f9ae8abfe1eb936c594e896bdbf5667/8d8ff/eks-tidb.webp 750w,\n/static/3f9ae8abfe1eb936c594e896bdbf5667/eedfa/eks-tidb.webp 1080w,\n/static/3f9ae8abfe1eb936c594e896bdbf5667/e048d/eks-tidb.webp 1366w,\n/static/3f9ae8abfe1eb936c594e896bdbf5667/f594a/eks-tidb.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5593750000000001}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/data-on-kubernetes/","title":"Managing Data on Kubernetes","date":"2024-09-27 20:06:00"},"excerpt":"From databases to Big data: how k8s handles stateful workloads üìó\nThis is a blog series about Data on Kubernetes DoK üî• I have been inspired‚Ä¶"},"nextThought":{"frontmatter":{"path":"/blog/opentelemtry-sdk/","title":"Get Started with OpenTelemetry SDKs","date":"2024-09-26 13:06:00"},"excerpt":"OpenTelemetry is an observability framework and an active CNCF project that provides a vendor-neutral and tool-agnostic way to collect‚Ä¶"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}