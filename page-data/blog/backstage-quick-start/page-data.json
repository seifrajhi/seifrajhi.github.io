{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/backstage-quick-start/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Introduction to Backstage and Its Key Features</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìï Introduction</h2>\n<p>Are you tired of managing multiple infrastructure tooling, services, and documentation for your software development projects? Then consider using Backstage. Backstage is powered by a centralized software catalog that restores order to your microservices and infrastructure, unifying all your infrastructure tooling, services, and documentation to create a streamlined development environment from end to end.</p>\n<p>In this quick start guide, we will introduce you to Backstage and its features. We will cover the Backstage software catalog for managing all your software, software templates for quickly spinning up new projects, and TechDocs for making it easy to create, maintain, find, and use technical documentation.</p>\n<p>We will also explore the growing ecosystem of open-source plugins that further expand Backstage's customizability.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWElEQVR42k2SaU9aQRiF+QkWkUXZZJF93y4IFMQLUhUXFCi4VNKAporVGiWNsbVpkzb2mz/46cxt2vjhZCY3uc+c95xXp+TzLJfLZHM54rEY8XicSDhCKBgiEAgQTcRZWlrC7XThWlzE6/PhcDiwWW3MWyxYzBbm5+cxzs0xZzSiK9dqnD4/Mfz5qGn/04TDb/fsXp6xvFbn6McDx78e2Zqc0r79SOfzDXvTazYvxmxdfWBDnOvnI4LZNPqZGXSFUpE3gx6bJ0cM7u/Yv75gd3LGzvmY0nqT1e4ejaM+r7c3WenskqvXUI/7NEcnKOsNKv19Mo1V3MEAs3r9X+D7p+90by45eJgyfv5N9/aK2t4O/Yc7DoXDloB3hbO3X6aUtjbICUBLTNAcD9m+mdD9OmXBbsNgMKDLFwo09tuo7W3W+l0awpHaaZPOKxTqq6wdH6Ae9KgLl413A3JqjXA6hdKsk1FXSFbLKJtNXAE/htlZdDlRRiqRJBmLEwuHiYgyQv4AoZAoRRTgdbnwuNy4HE4W7Q6cdjt2m40FsxmL0YRpzojhlV4rxShLySkK2WyWTCZDKpUinkwSE21HImENGhQP+MXrPr8Pj9eL2+1mUbTtdDqxC7hNwq0LmEXjEqpTBFDqHzApgHJ1otGogEY0qN/vx+PxaJJACZOrYxEQk8mkOZP5aRlWq1VGoxHD4ZDBYEC/39fU6/XodDravdVqkU6n/wOlQ+msVCohI5MGEokEVqsVXbFYRFVVKpUKEl4WSy4lv790L396CZTjymjCInefyFpOIhf8D3vzU4EoV62NAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Backstage Overview\" title=\"\" src=\"/static/4dea7da7456ea35b3b461656d86fbb6a/c5bb3/bckstg1.png\" srcset=\"/static/4dea7da7456ea35b3b461656d86fbb6a/04472/bckstg1.png 170w,\n/static/4dea7da7456ea35b3b461656d86fbb6a/9f933/bckstg1.png 340w,\n/static/4dea7da7456ea35b3b461656d86fbb6a/c5bb3/bckstg1.png 680w,\n/static/4dea7da7456ea35b3b461656d86fbb6a/b12f7/bckstg1.png 1020w,\n/static/4dea7da7456ea35b3b461656d86fbb6a/21b4d/bckstg1.png 1280w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-developer-portal\" style=\"position:relative;\"><a href=\"#-developer-portal\" aria-label=\" developer portal permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üßë‚Äçüíª Developer Portal</h2>\n<p>A developer portal is a go-to place for developers, engineers, and managers when they need to learn about their ecosystem and contribute to it; a sort of window into your IT landscape. Developer portals balance autonomy and discoverability by allowing teams to work independently while exposing their work to others. They serve three purposes: navigating the ecosystem, empowering engineers, and providing insight into tech's health. Automated and centralized discoverability through a software catalog helps developers explore, track ownership, and find useful information while providing leadership with tech insights.</p>\n<h2 id=\"-what-is-backstage\" style=\"position:relative;\"><a href=\"#-what-is-backstage\" aria-label=\" what is backstage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>ü§î What is Backstage?</h2>\n<p><a href=\"https://backstage.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Backstage</a> is an open-source project that serves as a centralized hub for software development teams. It offers a collaborative environment where developers, operations teams, and stakeholders can manage projects, streamline workflows, and access tools and services needed for the software development process. By enhancing productivity and collaboration, Backstage aims to facilitate efficient delivery of high-quality software.</p>\n<p>A Backstage instance is a React/Node app built on top of the core libraries whose functionality you can define by installing plugins.</p>\n<h3 id=\"the-3-layer-model-of-backstage\" style=\"position:relative;\"><a href=\"#the-3-layer-model-of-backstage\" aria-label=\"the 3 layer model of backstage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>The 3-layer Model of Backstage</h3>\n<ol>\n<li><strong>Core</strong>: The Backstage core is composed of several packages, which include the CLI, utility tools, API definitions, etc. The core is maintained and released by the Backstage open source team.</li>\n<li><strong>App</strong>: This is the developer portal that the end users in the organization will interact with. Typically, a platform team in the organization would be concerned with setting this up.</li>\n<li><strong>Plugins</strong>: Plugins are what really makes Backstage extensible. There are dozens of open-source plugin packages available, or you can create your own plugins.</li>\n</ol>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 85.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1UlEQVR42o1T2YrCQBDMp+ur+wV+hNEsLIkiIqyP6nrigxoV7/sWX7TWamiJ2Rh2oJhJ+pjq6h5js9lgvV5jtVrJvlwuX1Cv19Fut0G/yWSCn0oFg8EAu90OvV4PlWoV8/lcfOljzGYz9Pt9cGcAk9JwOBwk8CMWQzwex/l8RrFYRDQaQTJpgss0TUQjEZTLZbEzqcEkuVwOiUQC6XQa3W5Xbt+SgdtD2rFhpVJyUfXBxrG/kMlkcDgeUSh849NKoVQq4fj4ZpUG6ZLNYrGAt/ztdovT6QTbtiXR5XIRBpZlSUVk1Gq1HgktIaByGQzih7B6JCH2+72UOx6Pcb1eMZ1On0lIYDQaiQ/Bf4whGeYy4Fv3+112lsHyuZrNJmq1mpw7nY7YuG63mz8cBpmRKstUkDHZkZl2dzgcChOeaVNpFMzBXNJlr0GNWoaOA3XWM+GP0ThDg/1gEHcyyWazcBznqbPa/KCvdJmHMLBEDrFOwTvI2ARp6NeTshB+3fzlsut/uhzUcc5bo9F4+fduyRy+08T7BFkyz2G+Mof/0ZDPSh9AGKTL+uSCQH05d+xyPp+XuVQ2QXh22fvsgkbBdV15NRQ/zFe6rMMbBiYhtJtBYKVM+gurCvLOta/MMwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Plugins\" title=\"\" src=\"/static/57313c222e94a255c28d6192c56495d2/c5bb3/plugins.png\" srcset=\"/static/57313c222e94a255c28d6192c56495d2/04472/plugins.png 170w,\n/static/57313c222e94a255c28d6192c56495d2/9f933/plugins.png 340w,\n/static/57313c222e94a255c28d6192c56495d2/c5bb3/plugins.png 680w,\n/static/57313c222e94a255c28d6192c56495d2/4c42d/plugins.png 896w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>You can pick and choose what you need and extend its functionality by creating new plugins too. In essence, Backstage should be considered a framework to build your own developer portal, and not a plug-and-play product.</p>\n<h2 id=\"-backstage-features\" style=\"position:relative;\"><a href=\"#-backstage-features\" aria-label=\" backstage features permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Backstage Features</h2>\n<h3 id=\"-software-catalog\" style=\"position:relative;\"><a href=\"#-software-catalog\" aria-label=\" software catalog permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìã Software Catalog</h3>\n<p>Backstage's Software Catalog is a crucial feature that maps all software assets in an organization in a centralized directory to enable discoverability and manage technology. The Catalog can host a wide range of software entities, each differentiated by kind and type, and powered by metadata stored in YAML files. The Catalog helps to track ownership and dependencies, identifying orphaned entities and extracting insights such as maturity readiness and security warnings.</p>\n<h3 id=\"Ô∏è-scaffolder\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-scaffolder\" aria-label=\"Ô∏è scaffolder permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Scaffolder</h3>\n<p>The Scaffolder helps onboard new team members and establishes best practices by providing software templates that initialize repositories with skeleton code and predefined settings. A software template defined in a YAML file specifies parameters and steps to execute, which are then generated into a UI in the Scaffolder. The Scaffolder and the Catalog work together to promote discoverability and standardization, with all components initialized by the Scaffolder automatically added to the Catalog.</p>\n<h3 id=\"-techdocs\" style=\"position:relative;\"><a href=\"#-techdocs\" aria-label=\" techdocs permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö TechDocs</h3>\n<p>TechDocs provides a centralized hub for documentation that transforms markdown files into static pages. TechDocs follows the Catalog metadata files' principle of staying close to the source code for accuracy, allowing developers to focus on writing instead of managing the publishing process.</p>\n<p>Building over these functionalities and by extending it with the use of plugins, one can implement sophisticated workflows or Golden Paths, a modern configuration management database, or a centralized overview of the IT landscape.</p>\n<h2 id=\"-what-backstage-is-not\" style=\"position:relative;\"><a href=\"#-what-backstage-is-not\" aria-label=\" what backstage is not permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚ùå What Backstage is Not</h2>\n<p>There are several things Backstage is not:</p>\n<ul>\n<li>It is not a 'one-size-fits-all' solution that will work out of the box. Every organization is different and has unique requirements. This calls for customizations as needed, integration with existing tooling, creation of custom workflows, custom plugins, and UI modifications.</li>\n<li>It is not a replacement for your current tools, but instead a universal abstraction layer that spans all of your tooling. Backstage enables automation of information aggregation to streamline processes and facilitate collaboration.</li>\n<li>Not just for developers. Engineers, Product Managers, and virtually everyone in the organization can use Backstage to find information and streamline their workflows.</li>\n</ul>\n<h2 id=\"Ô∏è-gotchas\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-gotchas\" aria-label=\"Ô∏è gotchas permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚ö†Ô∏è Gotchas</h2>\n<p>There are a few things to watch out for:</p>\n<ul>\n<li>Self-hosted Backstage is a popular deployment mode, and offers the full benefits of customizability. However, it also brings the additional overhead of setup and maintenance, which could run to more than 1 full-time engineer depending on the topology.</li>\n<li>As with any new technology, it is likely to run into unsolved challenges during implementation. Typically RBAC is one that could pose a challenge based on the existing infrastructure. The good news is that adoption is exploding, and things should mature as it progresses across the hype cycle.</li>\n<li>Since Backstage is not plug-and-play, it requires effort and skills to integrate into the existing ecosystem. For instance, developing and maintaining custom plugins oneself calls for knowledge with TypeScript. Commercial plugins might not always be available, for example, when there is a custom in-house tool that we want to plugin to Backstage.</li>\n<li>Backstage should not be considered as a silver bullet; organizational culture and any associated restrictions will hamper any benefits, so adoption requires a holistic approach.</li>\n</ul>\n<h2 id=\"-type-of-organizations-that-benefit-the-most\" style=\"position:relative;\"><a href=\"#-type-of-organizations-that-benefit-the-most\" aria-label=\" type of organizations that benefit the most permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üè¢ Type of Organizations that Benefit the Most</h2>\n<p>Developer portals are particularly useful for scale-ups and larger companies with complex ecosystems of tools and services. However, large companies may also encounter restrictions and bureaucracy that could limit the benefits of using Backstage, and therefore adoption requires a holistic approach to change. Smaller companies with fewer tools may not gain a lot with developer portals, since they might have a more straightforward overview of their processes and direct communication with those involved. The <a href=\"https://github.com/backstage/backstage/blob/master/ADOPTERS.md\" target=\"_blank\" rel=\"noopener noreferrer\">adopters' list</a> gives you an idea of the type of organizations that are using Backstage.</p>\n<h2 id=\"getting-started-with-backstage\" style=\"position:relative;\"><a href=\"#getting-started-with-backstage\" aria-label=\"getting started with backstage permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Getting Started with Backstage</h2>\n<p>Now I'm going to start with Backstage from scratch. I'd like to get a feel for the product and the UI, so we'll start with a very simple example out of the box. Note that I couldn't get it to work in Codespaces, I suspect something to do with port forwarding, so I've installed it on my local machine. Below are the instructions.</p>\n<h3 id=\"step-1-install-the-app\" style=\"position:relative;\"><a href=\"#step-1-install-the-app\" aria-label=\"step 1 install the app permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Step 1: Install the App</h3>\n<p>As per the <a href=\"https://backstage.io/docs/getting-started/\" target=\"_blank\" rel=\"noopener noreferrer\">official documentation</a>, you will need to have Node.js, Yarn, npx, and git installed on your local machine. Start by running the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">npx @backstage/create-app@latest</code></pre></div>\n<p>Here is the expected output:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">npx @backstage/create-app@latest\nNeed to <span class=\"token function\">install</span> the following packages:\n@backstage/create-app@0.5.4\nOk to proceed? <span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span> y\n? Enter a name <span class=\"token keyword\">for</span> the app <span class=\"token punctuation\">[</span>required<span class=\"token punctuation\">]</span> my-backstage-app\nCreating the app<span class=\"token punctuation\">..</span>.\n Checking <span class=\"token keyword\">if</span> the directory is available:\n    checking      my-backstage-app ‚úî \n Creating a temporary app directory:\n    creating      temporary directory ‚úî \n Preparing files:\n    copying       .dockerignore ‚úî \n    templating    .eslintrc.js.hbs ‚úî \n    <span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>\n    <span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>\n    <span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>\n    <span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>\nü•á  Successfully created my-backstage-app\n All set<span class=\"token operator\">!</span> Now you might want to:\n    Install the dependencies: <span class=\"token builtin class-name\">cd</span> my-backstage-app <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">yarn</span> <span class=\"token function\">install</span>\n    Run the app: <span class=\"token builtin class-name\">cd</span> my-backstage-app <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">yarn</span> dev\n    Set up the software catalog: https://backstage.io/docs/features/software-catalog/configuration\n    Add authentication: https://backstage.io/docs/auth/</code></pre></div>\n<h3 id=\"step-2-navigate-to-the-project-directory\" style=\"position:relative;\"><a href=\"#step-2-navigate-to-the-project-directory\" aria-label=\"step 2 navigate to the project directory permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Step 2: Navigate to the Project Directory</h3>\n<p>Now navigate to the project directory using:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> my-backstage-app</code></pre></div>\n<h3 id=\"step-3-start-the-backstage-app\" style=\"position:relative;\"><a href=\"#step-3-start-the-backstage-app\" aria-label=\"step 3 start the backstage app permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Step 3: Start the Backstage App</h3>\n<p>Start the Backstage app using the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> dev</code></pre></div>\n<p>This will launch the app and make it accessible via a web browser at <code class=\"language-text\">http://localhost:3000</code>. Here is a screenshot of the UI:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42o2QS0vDQBDHF/Qr6EEQPPjCQ2vSzb6SzWOTzaamVqFKEcTaIopaFQq9CPrZ/SceCuKhP4ZhsjP/eYSYqsorpx4n0fdCf36kXwu6fDl+mx7NJzsP4+3p1e7jzcF8svd8ezi/P3mf7b/ebc2uN8fVxsgS65x1JQ+VzxmVvCcao6HiOgpC5XEWKAmjUvRggrMoHD0tIzfosoDUg0Ge5ybNsjQNpVRScsaGdX05vDiva9vksjwzsMLAsCXo951LtCYIi6JIEsQ6bGGMlVVtrIuTxJi8sC4vGs7qOssydItjba01xhC8IopbhBBSyiAIhAxhLGCMc8YFPFJKKaQopfAYAE/QDD0wuSzLKIowH0We5/m+32v49W3kr2KAGpKmOBf3plVVoQsWgf5P3b+gphFDo3UMDSZjeWzeW4OVGDL8KtyCV7oeqCS4Fnp8eC2nLd016HQ6PyEBi9jqZUIYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Home Page\" title=\"\" src=\"/static/239454e5ac0d760dd5bd5fb2b2024093/c5bb3/page1.png\" srcset=\"/static/239454e5ac0d760dd5bd5fb2b2024093/04472/page1.png 170w,\n/static/239454e5ac0d760dd5bd5fb2b2024093/9f933/page1.png 340w,\n/static/239454e5ac0d760dd5bd5fb2b2024093/c5bb3/page1.png 680w,\n/static/239454e5ac0d760dd5bd5fb2b2024093/b12f7/page1.png 1020w,\n/static/239454e5ac0d760dd5bd5fb2b2024093/b5a09/page1.png 1360w,\n/static/239454e5ac0d760dd5bd5fb2b2024093/07a9c/page1.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"step-4-integrate-github\" style=\"position:relative;\"><a href=\"#step-4-integrate-github\" aria-label=\"step 4 integrate github permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Step 4: Integrate GitHub</h3>\n<p>My first goal was to see if I could create a template for developers to use when creating a new application. Fortunately, Backstage comes with a default template out of the box, but first, we need to integrate GitHub.</p>\n<p>If you open the <code class=\"language-text\">app-config.yaml</code> file inside the <code class=\"language-text\">my-backstage-app</code> folder, you will see an integration section as shown below:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">integrations</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">github</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> github.com\n            <span class=\"token comment\"># This is a Personal Access Token or PAT from GitHub. You can find out how to generate this token, and more information</span>\n            <span class=\"token comment\"># about setting up the GitHub integration here: https://backstage.io/docs/getting-started/configuration#setting-up-a-github-integration</span>\n            <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>GITHUB_TOKEN<span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">### Example for how to add your GitHub Enterprise instance using the API:</span>\n        <span class=\"token comment\"># - host: ghe.example.net</span>\n        <span class=\"token comment\">#   apiBaseUrl: https://ghe.example.net/api/v3</span>\n        <span class=\"token comment\">#   token: ${GHE_TOKEN}</span></code></pre></div>\n<p>Since it's not a good idea to put any kind of secrets into a file that gets pushed into git, I opted to use an environment variable to pass my GitHub personal token into Backstage. You can do the same by running this command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GITHUB_TOKEN</span><span class=\"token operator\">=</span>your/personal/github/token</code></pre></div>\n<p>Now restart the app by hitting <code class=\"language-text\">Ctrl+C</code> and re-running <code class=\"language-text\">yarn dev</code>.</p>\n<h3 id=\"step-5-create-a-sample-app-using-a-backstage-template\" style=\"position:relative;\"><a href=\"#step-5-create-a-sample-app-using-a-backstage-template\" aria-label=\"step 5 create a sample app using a backstage template permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Step 5: Create a Sample App using a Backstage Template</h3>\n<p>Now it's time to finally see how a developer can create the scaffolding for an app from within Backstage using a pre-defined template created by the platform engineering team. As mentioned before, this template comes out of the box for creating Node.js apps. You can find it under the <code class=\"language-text\">examples</code> folder in the <code class=\"language-text\">my-backstage-app</code> folder.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">‚îú‚îÄ‚îÄ examples\n‚îÇ   ‚îú‚îÄ‚îÄ entities.yaml\n‚îÇ   ‚îú‚îÄ‚îÄ org.yaml\n‚îÇ   ‚îî‚îÄ‚îÄ template\n‚îÇ       ‚îú‚îÄ‚îÄ content\n‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ catalog-info.yaml\n‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ index.js\n‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ package.json\n‚îÇ       ‚îî‚îÄ‚îÄ template.yaml</code></pre></div>\n<p>Navigate to the 'Create' section and follow the on-screen instructions.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPUlEQVR42lVRy27TQBT1J6BuEGWDEKJITuKxx694nLFn7MTO+JGksUuS0iKF0lRFVWlLQTz6gCJViA0sKlYsEQskWCD+jxtXFeLMmdHoaO6co3slL47CPAsSQVvU2VxPPp5GZy/T86Pk/A0w/3AMpMcHjWdbS7uPbm5NbmyOF2fjRbhMSymI426etYUIOEcbq9rJHn61Yxw91V/vmsd77tlz592h/GL7zsHjpcPZ7f2N608eLMzGC1vja9NC8n1fxDHzfaARMjsXpJ9aaZf00mYman5L9l1gnVNgo+ISJfeoc5dYUqfTEYngbL48t9VPU2AUhIM0y4UwVA0rCE5NQWoD6UjTVOxruqNiUKQ4joUQjDGI7TSbWNeRihSkNBoNhJCGMZyM8ZXRqCwKs2mHGGcYGzpWVXVenOc54+DMHceJosglRNd14xKmqdVrZHVWfvqevf1q71+w3S/q5sWt+59lM5TCIOgmyYixgjHLtlutlud5zSs4xLVURZ5s189/mCffvLOf7fe/O6d/lJ1fdUdIkDZJkjiKAsbgcZZl7XYbIrgV4C9D110eDteng/Faf2W1V06SwaibDQ3TksAnDENexSaEFEUxHA6XKwwGg7IsoR0epZPxaLmX9/M0T0XcCblPMcYSpXReWQEMwcqyLUVR0BVUhKjvJ1nPq8bp+Wx+4Rz6IkEN5AwrQHHVo3+wLAsUeJ3AOIMgD4KHnGdR3OkmoEuw7SuAjyzLtf8BCuiXvYcZ2Dom8GeT1GryX05NwVNQrrvEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"component\" title=\"\" src=\"/static/50bd0d0408727466252fb86cf0f7f327/c5bb3/component.png\" srcset=\"/static/50bd0d0408727466252fb86cf0f7f327/04472/component.png 170w,\n/static/50bd0d0408727466252fb86cf0f7f327/9f933/component.png 340w,\n/static/50bd0d0408727466252fb86cf0f7f327/c5bb3/component.png 680w,\n/static/50bd0d0408727466252fb86cf0f7f327/b12f7/component.png 1020w,\n/static/50bd0d0408727466252fb86cf0f7f327/b5a09/component.png 1360w,\n/static/50bd0d0408727466252fb86cf0f7f327/07a9c/component.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          \nNow give your new app a name and a repo with a repo owner. The repo owner is your GitHub username. In Backstage terms, this app is called a <strong>Component</strong>. It's recommended to name the component the same as the repo to avoid errors when registering the component in the software registry.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABn0lEQVR42n2RTW/UMBCG8yMotBLXlZBWAgmaLUns+Dt2bGdjb3abpQu06hdqxRH10EP5EOJAhRD8Yia70p6A0ZORbOWdd8aTcFurGKTWWXDV9zt7/6n58bm+/9j+/Nr9+oa/3IxvrkYfLvfev3l4vdqwc7XauX794KJPhJC1c5KLzOrx2aun50cDZ0fPLlbP370dny5Hx/MnJ/3oePF4Od3r/W7vdg8d5EedAbHQWgsuEEJKykXXhbadNs2im+tK46KgJSEY07JkJYG8pUQoMcbUdc05xxgZ28Q4a9YBFZVS4t9BKU2MtXYjRoVpZrP5YYwhxsg2wflfgRjE4OC9h8kxQpXxoQ2Nc1PvJef/Y+MM1aFzqRSIfVXN2xC9t0rxshSEbFGMVYwOl2sUITB1QggZuhMCXkVRyqXM8nySvtifpGmWT7LsYA3lIGU5QgVCkEmeH6Tp4CwlGEMtYoSIznmtF8uTrgmBMQeLFAKYGtNaG52P3gWYyxgGbRdFgTGGHl5mGWyLUSJldX77u+9P7WSfwQ4QGj74L8+3oOGU/wFDn6OpW1HnvgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Form\" title=\"\" src=\"/static/af89f34e1bc58b7938b43f7b170db10c/c5bb3/form.png\" srcset=\"/static/af89f34e1bc58b7938b43f7b170db10c/04472/form.png 170w,\n/static/af89f34e1bc58b7938b43f7b170db10c/9f933/form.png 340w,\n/static/af89f34e1bc58b7938b43f7b170db10c/c5bb3/form.png 680w,\n/static/af89f34e1bc58b7938b43f7b170db10c/b12f7/form.png 1020w,\n/static/af89f34e1bc58b7938b43f7b170db10c/b5a09/form.png 1360w,\n/static/af89f34e1bc58b7938b43f7b170db10c/07a9c/form.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>You should have successfully added your new app/component.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9klEQVR42nWNTUvDQBCG8xPUi6fqQS+CNLZNJB+suzszSXbzURWJiqhVasUWi4JIpcdevPijnRR6zMPDzMDLzDhQWEKKHm7k7xJWi+5idvw9Pfp6Pfwc777d7bxcs9uTxq1x3Xl/PPh43p+P9uajzvTeSdM0IQpQD4rM3+jlmV+aU5uw3tq+oaAw6qI6G5ZiWLBRYZplQJBC2PVESrOJhgTQKl2X1VVZ1lV1nlkLZDQarhyxUjl5nlNCQojUGADQoDU3RFYqqdvhtPnMIKWTn7/L2yfQEokQUanmCLXDqRMEQRzHnuf1Bv5Jr9/d4LouR1E7YRj+A3yjX225LxZzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Success\" title=\"\" src=\"/static/5d4a6313167e53479d98f32db172db4d/c5bb3/success.png\" srcset=\"/static/5d4a6313167e53479d98f32db172db4d/04472/success.png 170w,\n/static/5d4a6313167e53479d98f32db172db4d/9f933/success.png 340w,\n/static/5d4a6313167e53479d98f32db172db4d/c5bb3/success.png 680w,\n/static/5d4a6313167e53479d98f32db172db4d/b12f7/success.png 1020w,\n/static/5d4a6313167e53479d98f32db172db4d/b5a09/success.png 1360w,\n/static/5d4a6313167e53479d98f32db172db4d/07a9c/success.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-step-6-explore-the-newly-created-component\" style=\"position:relative;\"><a href=\"#-step-6-explore-the-newly-created-component\" aria-label=\" step 6 explore the newly created component permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üß≠ Step 6: Explore the Newly Created Component</h3>\n<p>This is what the new GitHub repo created by Backstage looks like:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVR42m2QSU7DQBBFvSV4aPc82z14Co5MErFAnACxReL+N6FMBJsgPX3V0L+qVUXLXJ9XH8aQj0z6uhVlwyrE/4D0UNPHHy1rdnggVcmdnb2fi4Yo043aZ677lhnEDFSqVtwoEYcKtLBwuxrHniNde/0y8TmCWXbp6NPCdEelFyaA1ljWRMEUCJju07zpbsjjpuYhfZ67jxOoeh0KaEuX87LF6dTlIzeB6SBsAriJAKRU9aDcRuUGqbJ1k7ETYX7/tg0LzO7yExjgHaD8YPrpFu/8+vfABOmzgwOZHjYLrrx2qcGybCicB8DcUOkqxO4pEW0aSYhFWBY10cxOLm/CL0jEVmasEtED0SOkSIR72DDqdcWwucRKxrNOFxnOKl5Uuuh8pe5UialRyz/oxb9fx683vIzfnxkyc3xDu7AAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"GitHub Repository\" title=\"\" src=\"/static/2fa1d78689e149c7bfaaa77647362817/c5bb3/git.png\" srcset=\"/static/2fa1d78689e149c7bfaaa77647362817/04472/git.png 170w,\n/static/2fa1d78689e149c7bfaaa77647362817/9f933/git.png 340w,\n/static/2fa1d78689e149c7bfaaa77647362817/c5bb3/git.png 680w,\n/static/2fa1d78689e149c7bfaaa77647362817/b12f7/git.png 1020w,\n/static/2fa1d78689e149c7bfaaa77647362817/b5a09/git.png 1360w,\n/static/2fa1d78689e149c7bfaaa77647362817/07a9c/git.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Now, check out your new service/app/component in the service catalog. Below is a screenshot of it:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgUlEQVR42lVQyUoDQRDtf/BmvCkElwQ9JtPr9BoniwsaNQcNMRL0IgT8AE8iJhA0qPFnfT2jER9NUV39XtWrJvWHZ/G42H2YVcaz6vh14266NnwpXU9W+5NSf7o5etsazcvDeXkw37n52Bt9VYeL7f7neu99JZuSkOq21oYxw7kVAkfyHyghdKp0mqIiheDiD0oKzhmxvnGYNRUYSuFEpCmO1torZYzx3ksJOcOLkDIRTEgBBqYQsKwHLfIgSHNZkaAY5ysFZ+2jrjamFRq99nHTN4opxFhX9A4h+LwLlGhUiOEQibH24urWONdtHYzPB6dZR+QuCWNM5zOXKGRLWGtR4SxBhKbGKSK6R3GSUMU4WlD2A0opjMRfYAy+sScqRR3E+FG/NLIfzElmnBHeW+fiCujaBFrNViNk1sJL3ChfCgleQUMCI6Qe+rb35DvXLjtzHgyHar1AAlsUAcNTbeCG5leao1arEXl87wZf1F4yFRiPpqCq/kelUtnJsbwW8RtJ3KEDIKbwEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Service Catalog\" title=\"\" src=\"/static/7205fd1aa10ad79ef72c3aed4b60eb75/c5bb3/catalog.png\" srcset=\"/static/7205fd1aa10ad79ef72c3aed4b60eb75/04472/catalog.png 170w,\n/static/7205fd1aa10ad79ef72c3aed4b60eb75/9f933/catalog.png 340w,\n/static/7205fd1aa10ad79ef72c3aed4b60eb75/c5bb3/catalog.png 680w,\n/static/7205fd1aa10ad79ef72c3aed4b60eb75/b12f7/catalog.png 1020w,\n/static/7205fd1aa10ad79ef72c3aed4b60eb75/b5a09/catalog.png 1360w,\n/static/7205fd1aa10ad79ef72c3aed4b60eb75/07a9c/catalog.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Notice a few things about our new component. There are multiple tabs at the top which are:</p>\n<ul>\n<li><strong>Overview</strong></li>\n<li><strong>CI/CD</strong></li>\n<li><strong>API</strong></li>\n<li><strong>Dependencies</strong></li>\n<li><strong>Docs</strong></li>\n</ul>\n<h3 id=\"-key-takeaways\" style=\"position:relative;\"><a href=\"#-key-takeaways\" aria-label=\" key takeaways permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üéØ Key Takeaways</h3>\n<ul>\n<li><strong>The Rise of Platform Engineering</strong>: This discipline is revolutionizing the way organizations approach software development, making it more efficient, collaborative, and enjoyable.</li>\n<li><strong>Backstage's Capabilities</strong>: With its wide array of features and plugins, Backstage emerges as a robust tool designed for Platform Engineers.</li>\n<li><strong>Developer-Centric Design</strong>: The focus on streamlining workflows places Backstage at the forefront of this evolution, offering an integrated, flexible, and dynamic platform to cater to all your development needs.</li>\n</ul>\n<p>Stay tuned for more in-depth posts on Backstage as I continue my exploration!</p>\n<h3 id=\"-wrapping-up\" style=\"position:relative;\"><a href=\"#-wrapping-up\" aria-label=\" wrapping up permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèÅ Wrapping Up</h3>\n<p>Backstage is a great tool to build functional developer portals. If you treat it as a framework instead of a platform, you can harness its full potential. Working along with the end users is the key to creating a robust development platform. Hopefully, this article got you up to speed with what Backstage is.</p>\n<p><strong>Suggested Reading:</strong></p>\n<ul>\n<li><a href=\"https://tekanaid.com/posts/backstage-software-templates/\" target=\"_blank\" rel=\"noopener noreferrer\">Powerful Backstage Templates | An EKS &#x26; Terraform Example</a></li>\n<li><a href=\"https://tekanaid.com/posts/backstage-software-catalog-tutorial/\" target=\"_blank\" rel=\"noopener noreferrer\">Unlock Hidden Perks in Your Backstage Software Catalog</a></li>\n</ul>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<p><br><br></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":8,"rawMarkdownBody":"\n> **Introduction to Backstage and Its Key Features**\n\n## üìï Introduction\n\nAre you tired of managing multiple infrastructure tooling, services, and documentation for your software development projects? Then consider using Backstage. Backstage is powered by a centralized software catalog that restores order to your microservices and infrastructure, unifying all your infrastructure tooling, services, and documentation to create a streamlined development environment from end to end.\n\nIn this quick start guide, we will introduce you to Backstage and its features. We will cover the Backstage software catalog for managing all your software, software templates for quickly spinning up new projects, and TechDocs for making it easy to create, maintain, find, and use technical documentation.\n\nWe will also explore the growing ecosystem of open-source plugins that further expand Backstage's customizability.\n\n![Backstage Overview](./bckstg1.png)\n\n## üßë‚Äçüíª Developer Portal\n\nA developer portal is a go-to place for developers, engineers, and managers when they need to learn about their ecosystem and contribute to it; a sort of window into your IT landscape. Developer portals balance autonomy and discoverability by allowing teams to work independently while exposing their work to others. They serve three purposes: navigating the ecosystem, empowering engineers, and providing insight into tech's health. Automated and centralized discoverability through a software catalog helps developers explore, track ownership, and find useful information while providing leadership with tech insights.\n\n## ü§î What is Backstage?\n\n[Backstage](https://backstage.io/) is an open-source project that serves as a centralized hub for software development teams. It offers a collaborative environment where developers, operations teams, and stakeholders can manage projects, streamline workflows, and access tools and services needed for the software development process. By enhancing productivity and collaboration, Backstage aims to facilitate efficient delivery of high-quality software.\n\nA Backstage instance is a React/Node app built on top of the core libraries whose functionality you can define by installing plugins.\n\n### The 3-layer Model of Backstage\n\n1. **Core**: The Backstage core is composed of several packages, which include the CLI, utility tools, API definitions, etc. The core is maintained and released by the Backstage open source team.\n2. **App**: This is the developer portal that the end users in the organization will interact with. Typically, a platform team in the organization would be concerned with setting this up.\n3. **Plugins**: Plugins are what really makes Backstage extensible. There are dozens of open-source plugin packages available, or you can create your own plugins.\n\n![Plugins](./plugins.png)\n\nYou can pick and choose what you need and extend its functionality by creating new plugins too. In essence, Backstage should be considered a framework to build your own developer portal, and not a plug-and-play product.\n\n## üöÄ Backstage Features\n\n### üìã Software Catalog\n\nBackstage's Software Catalog is a crucial feature that maps all software assets in an organization in a centralized directory to enable discoverability and manage technology. The Catalog can host a wide range of software entities, each differentiated by kind and type, and powered by metadata stored in YAML files. The Catalog helps to track ownership and dependencies, identifying orphaned entities and extracting insights such as maturity readiness and security warnings.\n\n### üõ†Ô∏è Scaffolder\n\nThe Scaffolder helps onboard new team members and establishes best practices by providing software templates that initialize repositories with skeleton code and predefined settings. A software template defined in a YAML file specifies parameters and steps to execute, which are then generated into a UI in the Scaffolder. The Scaffolder and the Catalog work together to promote discoverability and standardization, with all components initialized by the Scaffolder automatically added to the Catalog.\n\n### üìö TechDocs\n\nTechDocs provides a centralized hub for documentation that transforms markdown files into static pages. TechDocs follows the Catalog metadata files' principle of staying close to the source code for accuracy, allowing developers to focus on writing instead of managing the publishing process.\n\nBuilding over these functionalities and by extending it with the use of plugins, one can implement sophisticated workflows or Golden Paths, a modern configuration management database, or a centralized overview of the IT landscape.\n\n## ‚ùå What Backstage is Not\n\nThere are several things Backstage is not:\n\n- It is not a 'one-size-fits-all' solution that will work out of the box. Every organization is different and has unique requirements. This calls for customizations as needed, integration with existing tooling, creation of custom workflows, custom plugins, and UI modifications.\n- It is not a replacement for your current tools, but instead a universal abstraction layer that spans all of your tooling. Backstage enables automation of information aggregation to streamline processes and facilitate collaboration.\n- Not just for developers. Engineers, Product Managers, and virtually everyone in the organization can use Backstage to find information and streamline their workflows.\n\n## ‚ö†Ô∏è Gotchas\n\nThere are a few things to watch out for:\n\n- Self-hosted Backstage is a popular deployment mode, and offers the full benefits of customizability. However, it also brings the additional overhead of setup and maintenance, which could run to more than 1 full-time engineer depending on the topology.\n- As with any new technology, it is likely to run into unsolved challenges during implementation. Typically RBAC is one that could pose a challenge based on the existing infrastructure. The good news is that adoption is exploding, and things should mature as it progresses across the hype cycle.\n- Since Backstage is not plug-and-play, it requires effort and skills to integrate into the existing ecosystem. For instance, developing and maintaining custom plugins oneself calls for knowledge with TypeScript. Commercial plugins might not always be available, for example, when there is a custom in-house tool that we want to plugin to Backstage.\n- Backstage should not be considered as a silver bullet; organizational culture and any associated restrictions will hamper any benefits, so adoption requires a holistic approach.\n\n## üè¢ Type of Organizations that Benefit the Most\n\nDeveloper portals are particularly useful for scale-ups and larger companies with complex ecosystems of tools and services. However, large companies may also encounter restrictions and bureaucracy that could limit the benefits of using Backstage, and therefore adoption requires a holistic approach to change. Smaller companies with fewer tools may not gain a lot with developer portals, since they might have a more straightforward overview of their processes and direct communication with those involved. The [adopters' list](https://github.com/backstage/backstage/blob/master/ADOPTERS.md) gives you an idea of the type of organizations that are using Backstage.\n\n## Getting Started with Backstage\n\nNow I'm going to start with Backstage from scratch. I'd like to get a feel for the product and the UI, so we'll start with a very simple example out of the box. Note that I couldn't get it to work in Codespaces, I suspect something to do with port forwarding, so I've installed it on my local machine. Below are the instructions.\n\n### Step 1: Install the App\n\nAs per the [official documentation](https://backstage.io/docs/getting-started/), you will need to have Node.js, Yarn, npx, and git installed on your local machine. Start by running the following command:\n\n```shell\nnpx @backstage/create-app@latest\n```\n\nHere is the expected output:\n\n```shell\nnpx @backstage/create-app@latest\nNeed to install the following packages:\n@backstage/create-app@0.5.4\nOk to proceed? (y) y\n? Enter a name for the app [required] my-backstage-app\nCreating the app...\n Checking if the directory is available:\n    checking      my-backstage-app ‚úî \n Creating a temporary app directory:\n    creating      temporary directory ‚úî \n Preparing files:\n    copying       .dockerignore ‚úî \n    templating    .eslintrc.js.hbs ‚úî \n    ....\n    ....\n    ....\n    ....\nü•á  Successfully created my-backstage-app\n All set! Now you might want to:\n    Install the dependencies: cd my-backstage-app && yarn install\n    Run the app: cd my-backstage-app && yarn dev\n    Set up the software catalog: https://backstage.io/docs/features/software-catalog/configuration\n    Add authentication: https://backstage.io/docs/auth/\n```\n\n### Step 2: Navigate to the Project Directory\n\nNow navigate to the project directory using:\n\n```shell\ncd my-backstage-app\n```\n\n### Step 3: Start the Backstage App\n\nStart the Backstage app using the following command:\n\n```shell\nyarn dev\n```\n\nThis will launch the app and make it accessible via a web browser at `http://localhost:3000`. Here is a screenshot of the UI:\n\n![Home Page](./page1.png)\n\n### Step 4: Integrate GitHub\n\nMy first goal was to see if I could create a template for developers to use when creating a new application. Fortunately, Backstage comes with a default template out of the box, but first, we need to integrate GitHub.\n\nIf you open the `app-config.yaml` file inside the `my-backstage-app` folder, you will see an integration section as shown below:\n\n```yaml\nintegrations:\n    github:\n        - host: github.com\n            # This is a Personal Access Token or PAT from GitHub. You can find out how to generate this token, and more information\n            # about setting up the GitHub integration here: https://backstage.io/docs/getting-started/configuration#setting-up-a-github-integration\n            token: ${GITHUB_TOKEN}\n        ### Example for how to add your GitHub Enterprise instance using the API:\n        # - host: ghe.example.net\n        #   apiBaseUrl: https://ghe.example.net/api/v3\n        #   token: ${GHE_TOKEN}\n```\n\nSince it's not a good idea to put any kind of secrets into a file that gets pushed into git, I opted to use an environment variable to pass my GitHub personal token into Backstage. You can do the same by running this command:\n\n```shell\nexport GITHUB_TOKEN=your/personal/github/token\n```\n\nNow restart the app by hitting `Ctrl+C` and re-running `yarn dev`.\n\n### Step 5: Create a Sample App using a Backstage Template\n\nNow it's time to finally see how a developer can create the scaffolding for an app from within Backstage using a pre-defined template created by the platform engineering team. As mentioned before, this template comes out of the box for creating Node.js apps. You can find it under the `examples` folder in the `my-backstage-app` folder.\n\n```shell\n‚îú‚îÄ‚îÄ examples\n‚îÇ   ‚îú‚îÄ‚îÄ entities.yaml\n‚îÇ   ‚îú‚îÄ‚îÄ org.yaml\n‚îÇ   ‚îî‚îÄ‚îÄ template\n‚îÇ       ‚îú‚îÄ‚îÄ content\n‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ catalog-info.yaml\n‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ index.js\n‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ package.json\n‚îÇ       ‚îî‚îÄ‚îÄ template.yaml\n```\n\nNavigate to the 'Create' section and follow the on-screen instructions.\n\n![component](./component.png)\nNow give your new app a name and a repo with a repo owner. The repo owner is your GitHub username. In Backstage terms, this app is called a **Component**. It's recommended to name the component the same as the repo to avoid errors when registering the component in the software registry.\n\n![Form](./form.png)\n\nYou should have successfully added your new app/component.\n\n![Success](./success.png)\n\n### üß≠ Step 6: Explore the Newly Created Component\n\nThis is what the new GitHub repo created by Backstage looks like:\n\n![GitHub Repository](./git.png)\n\nNow, check out your new service/app/component in the service catalog. Below is a screenshot of it:\n\n![Service Catalog](./catalog.png)\n\nNotice a few things about our new component. There are multiple tabs at the top which are:\n\n- **Overview**\n- **CI/CD**\n- **API**\n- **Dependencies**\n- **Docs**\n\n### üéØ Key Takeaways\n\n- **The Rise of Platform Engineering**: This discipline is revolutionizing the way organizations approach software development, making it more efficient, collaborative, and enjoyable.\n- **Backstage's Capabilities**: With its wide array of features and plugins, Backstage emerges as a robust tool designed for Platform Engineers.\n- **Developer-Centric Design**: The focus on streamlining workflows places Backstage at the forefront of this evolution, offering an integrated, flexible, and dynamic platform to cater to all your development needs.\n\nStay tuned for more in-depth posts on Backstage as I continue my exploration!\n\n### üèÅ Wrapping Up\n\nBackstage is a great tool to build functional developer portals. If you treat it as a framework instead of a platform, you can harness its full potential. Working along with the end users is the key to creating a robust development platform. Hopefully, this article got you up to speed with what Backstage is.\n\n**Suggested Reading:**\n\n- [Powerful Backstage Templates | An EKS & Terraform Example](https://tekanaid.com/posts/backstage-software-templates/)\n- [Unlock Hidden Perks in Your Backstage Software Catalog](https://tekanaid.com/posts/backstage-software-catalog-tutorial/)\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n<br><br>\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  **_Until next time üéâ_**\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n\n\n","wordCount":{"words":1720},"frontmatter":{"id":"9c8a20bed6deee9d7a7ffd98","path":"/blog/backstage-quick-start/","humanDate":"Oct 21, 2024","fullDate":"2024-10-21","title":"Backstage: A Quick Start Guide to Build Developer Portals","keywords":["Backstage","Developer portals IDP","platform engineering"],"excerpt":"Get started with Backstage, the open-source platform for building developer portals. This guide introduces Backstage and its key features, helping you streamline your development workflows.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVR42iWQy0ticRzF/UeKmhkK8v28Kt2YpnGYoSCQ6vYiLaSEYDa1saJFckE3l4kEo1UrUUSloCdFRaUYMz3oCbYZalZtWw1xTv3sCx8OfBcHzkfncDhgNBphsVhgMplgMBig1+uhf8sPNbXoiUww+XRPrXLKhX83nFzPMJBdYnd6gf7ML3ak4mzPaPQXV/njKE+dy+WCoijweDxVZFmGJEkQf7PZDEluRtNbufTdB/W2TJ/i55SmMnu8wXRxjSsnm1zeLzD0Z5vBi13qvF4vEokE4vE4IpEIotEoVFVFLBaDpmmYnZlBY109AvMxJp8f2OL7ykIqTXH/X16qeff4l+GzHYYu96gTk51OJ9xuN+x2O2w2WxWr1Yovra1o6+3Ct/EQ5u5/c/L6kPOLSW5eFJkvHrC8fsWjbIW5lTI7S4X3yaJQFAh/AuFTeGz4+Am2zzKm70qcejjnz0qJg/t5DofHODoeZn9wiIGBEQ4pI+wLhujMJWndWuYraWTrM48rpyoAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/66c7a9228301a1ff1e31940222cbb6ac/b1478/backstage-cover.png","srcSet":"/static/66c7a9228301a1ff1e31940222cbb6ac/b9e03/backstage-cover.png 750w,\n/static/66c7a9228301a1ff1e31940222cbb6ac/5dd2e/backstage-cover.png 1080w,\n/static/66c7a9228301a1ff1e31940222cbb6ac/24053/backstage-cover.png 1366w,\n/static/66c7a9228301a1ff1e31940222cbb6ac/b1478/backstage-cover.png 1440w","sizes":"100vw"},"sources":[{"srcSet":"/static/66c7a9228301a1ff1e31940222cbb6ac/909bb/backstage-cover.webp 750w,\n/static/66c7a9228301a1ff1e31940222cbb6ac/01346/backstage-cover.webp 1080w,\n/static/66c7a9228301a1ff1e31940222cbb6ac/23c99/backstage-cover.webp 1366w,\n/static/66c7a9228301a1ff1e31940222cbb6ac/09aef/backstage-cover.webp 1440w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.25277777777777777}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/kubernetes-probes/","title":"Understanding Kubernetes Probes: Better Apps Health Checks üåÅ","date":"2024-10-21 22:16:00"},"excerpt":"Guide to Liveness, Readiness, and Startup Probes¬†‚ôªÔ∏è üìå Introduction Kubernetes offers a feature called probes, which play an important role‚Ä¶","html":"<blockquote>\n<p><strong>Guide to Liveness, Readiness, and Startup Probes¬†‚ôªÔ∏è</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìå Introduction</h2>\n<p>Kubernetes offers a feature called <strong>probes</strong>, which play an important role in ensuring the health of applications running within its environment. These probes, categorized into <strong>liveness</strong>, <strong>readiness</strong>, and <strong>startup</strong>, enable Kubernetes to monitor the state of applications and take appropriate actions to maintain their optimal functioning.</p>\n<p>In this blog post, we will explore the significance of these probes in enhancing the self-healing capabilities of Kubernetes and providing a comprehensive understanding of how they work. We will explore each probe type, their specific purposes, and how they contribute to the overall resilience of containerized applications.</p>\n<p>üì¢ <strong>Announcement:</strong> I have just launched a <a href=\"https://github.com/seifrajhi/Kubernetes-practical-exercises-Hands-on\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub repository</a> dedicated to gathering resources, exercises, and labs to aid in learning Kubernetes from the ground up. This repository aims to provide practical exercises that guide users in deploying, managing, and scaling containerized applications using Kubernetes. Your feedback and contributions are welcomed to enhance and improve the learning experience. üéâ</p>\n<h3 id=\"-health-check\" style=\"position:relative;\"><a href=\"#-health-check\" aria-label=\" health check permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>ü©∫ Health Check</h3>\n<p>Health checks are a simple way to let the system know whether an instance of your app is working. If the instance of your app is not working, the other services should not access it or send requests to it. Instead, requests should be sent to another instance that is ready, or you should retry sending requests.</p>\n<p>The system should be able to bring your app to a healthy state. By default, Kubernetes will start sending traffic to the pod when all the containers inside the pod have started. Kubernetes will restart containers when they crash. This default behavior should be enough to get started. Making deployments more robust becomes relatively straightforward as Kubernetes helps create custom health checks.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVR42mNggIL///8zQmme0nnv+tMmvblRu+htGQOZgBFKcwZlze9oWvP//5azf//nz/ny1yW0JJUcA5mgtJV3Yu/suhX//qw7+e9/6YIfH00dIrqB4kpo6og20FZciMG8d8v/8tS+R+cn7fgfDhTzYGBg00QOFlK8LAbEWatCGZhBHDkGBkGgXdlAJrOYmJiSjIyMNJp6ogw1YGJiARrClMPAxJrKxsumDhRzMDc3P+3h4dEJUhAaGspMqktFgDgCyjYBBQXQMD5TU1NhUlyIDPiA2BvKtgZibXINYkQy0AfKtkAykIncdMkJxOFQtisQa5DrQmRNoLCLB2I/UCwTqxsA0GRCeCiQqZEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Health Check\" title=\"\" src=\"/static/a107dd01a3f6b16ead22747d73e508d8/c5bb3/check.png\" srcset=\"/static/a107dd01a3f6b16ead22747d73e508d8/04472/check.png 170w,\n/static/a107dd01a3f6b16ead22747d73e508d8/9f933/check.png 340w,\n/static/a107dd01a3f6b16ead22747d73e508d8/c5bb3/check.png 680w,\n/static/a107dd01a3f6b16ead22747d73e508d8/b12f7/check.png 1020w,\n/static/a107dd01a3f6b16ead22747d73e508d8/78797/check.png 1125w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-kubernetes-probes\" style=\"position:relative;\"><a href=\"#-kubernetes-probes\" aria-label=\" kubernetes probes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Kubernetes Probes</h2>\n<p><a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes probes</a> are a mechanism for providing the Kubernetes control plane with information about the internal state of your applications. They let your cluster identify running pods that are in an unhealthy state. Probes are kubelet's answer to the health checks, and there are three handlers:</p>\n<ul>\n<li><strong>ExecAction</strong>: Command execution check. If the command's exit status is 0, it is considered a success.</li>\n<li><strong>TCPSocketAction</strong>: TCP check to determine if the port is open. If open, it is considered a success.</li>\n<li><strong>HTTPGetAction</strong>: HTTP check to determine if the status code is equal to or above 200 and below 400.</li>\n</ul>\n<p>Each type of probe has common configurable fields:</p>\n<ul>\n<li><code class=\"language-text\">initialDelaySeconds</code>: Probes start running after <code class=\"language-text\">initialDelaySeconds</code> after the container is started (default: 0).</li>\n<li><code class=\"language-text\">periodSeconds</code>: How often the probe should run (default: 10).</li>\n<li><code class=\"language-text\">timeoutSeconds</code>: Probe timeout (default: 1).</li>\n<li><code class=\"language-text\">successThreshold</code>: Required number of successful probes to mark the container healthy/ready (default: 1).</li>\n<li><code class=\"language-text\">failureThreshold</code>: When a probe fails, it will try <code class=\"language-text\">failureThreshold</code> times before deeming unhealthy/not ready (default: 3).</li>\n</ul>\n<p>These parameters need to be configured per your application's spec.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 164.7058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAIAAABWXBxEAAAACXBIWXMAAAsTAAALEwEAmpwYAAADfElEQVR42pVVSW/TQBTuD0ScEAfEBS4ckECckBASXCoQUA5UXMqJpSwREodWalXSIgSlpW1Kq7bZ6jVx7Hi349hxFjt89qTOQlKRF8WyZ+Z775v3vjcz0z2zMAyT5+BgEATdCTaDP6ZVVWUYplAoVCoVnudzuVy1Wm02m7Zt12q1EY9DYM/zBEEQRREwwzDgiOO4Smxw4ThOp9OZCE4YttvtkWkSeRLzmWSfQCIIIWKaJt5d1wWL/4qMFfV6HS946rouy9V8PiuKFbiYAkyIuK7PcBVFUTE4FTgAutkwPOVbVcjVHDeYCtwJulp+vrB2gdu5j5ydl7ARcDemrVFv+R9X2MycXXPOA5O5BIxU67qBX5XPaKro1N1m028PWKvVIpAILEmS7/v4JmAIS1EUSRKFSCMSaKuqBkPZLMvCC2bJyggMbbEs68WGTzhCqazITFmWgcE4XJOYg1KNwFgBPSZgFBbMMUhRFEghMlzTNI0YCIvdhbH1wKQrgCFgMmE7DsdzsqKYlknRpzRDYTtjEoYGKJVKjUbjLNs9qTdaHcs0dE2vu/UgDDA+0l69PRMNogei5Mcrthnl2Ubh65HAlLPvdmeXswue7xKniYvenkE72XMcN1jMlG6nfr/cYDappXtfLs6uXhWMIpHQUGRkBQkDbcQHc8u2vbpzxAip/dIBLZZFKpV5vnr8Gq0OasgfykDU3ksYkkkSBjB6EFxKPO/alqqiqIqp2qZWAzuUEAvgog9GDbF6kDYSCxKyYWFclMQ9Nl2U97vhZG1DAyTbnVh6u5z+4iebPpIyTPrh0uW59RsVg42Wddqk1EMnSb8x4qHFjHDzw9b8evGQ23yavr6wdbdUpVVFUyF3UcTOhyKDvBmbpuuo7tZhLpXhd4u8rqi0mK2onOc2klOhHzlpSWQCu/UbjaosS0LZszRVgcaQUNVGDSwb2h4s9cRjSK55aUrP80qxdDC/cef9zmPXd2L5heeeJLGDT3+EWx9/vfrObtMrD5YvPUlfo6Rj32s5dQcbJnUZpR1JxfPaTX/lgH20fvp5h5Lk8lr+zZ6wipKjz1iWgShGwWAL6cBruVwuFosnJ8cFTjCNqDHarU5ybyFGcirNjFxrST6CnuEaaXUHmmG8SAavxQgUhpAXWPCxoYT/3qFjIoM5+gTdAgx0jkSQT/R8v+3GRp7K/gJgnFJ9rKlisgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Container Lifecycle\" title=\"\" src=\"/static/4f3c5dd0465d349251cd40ec2b78ea24/c5bb3/container-lifecycle.png\" srcset=\"/static/4f3c5dd0465d349251cd40ec2b78ea24/04472/container-lifecycle.png 170w,\n/static/4f3c5dd0465d349251cd40ec2b78ea24/9f933/container-lifecycle.png 340w,\n/static/4f3c5dd0465d349251cd40ec2b78ea24/c5bb3/container-lifecycle.png 680w,\n/static/4f3c5dd0465d349251cd40ec2b78ea24/b12f7/container-lifecycle.png 1020w,\n/static/4f3c5dd0465d349251cd40ec2b78ea24/1ff84/container-lifecycle.png 1040w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-kubernetes-probe-types\" style=\"position:relative;\"><a href=\"#-kubernetes-probe-types\" aria-label=\" kubernetes probe types permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîç Kubernetes Probe Types</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnElEQVR42rXSP0gCcRQH8J96FBUWYlu0NDREi4P9oT9EBQ2BSzQ3NFZQRFvgYFFDUCIhImIqqMmZaRBUGATRYkNQQ1BDQ4M0FF3Rn99xvb4/vUGsqKUHn3t37x7v97sfx4ioYjf3fD7pfaTx1Tt180jRUNPu7x8KmXOuKUqxVk5VVZFVKsYVmJgYOLKQPwtlXyh18vw2tpLnnIgvLy3yRCLBI5EId7lchRwMBnk8HueBQICHw2HudrvF/VsymaRQKHSJ/uLACa9yETgk2si+azN+hdQPop3MNkVjMfL5fBSNRsnv9xfkcjlKp9OEYSTLshikxdDn8XiuGWOFgdLFzeva0Hw+Y5+6lfdPn1L4mi3UkSn5BzJkYB2M7D/CIC4Wi6XOZDINSpLUBu3QbbVazeKd0+k0YnVDqdIB39VEVEATNEAjtEBV6aLDs3utjrljs16rhxqohcrvdiqKndAD7WAHW2nD8PRB02gCv4Y4fMYGoAMc0AtS+cBqaNZXbtR3agXzL8clGL+cob79QeiDfujSd2Ar62M/PP9PfAKEhSGZl/X1KgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Probes\" title=\"\" src=\"/static/5ddefe574031c4f67ddfd4d8dd2fdf3f/c5bb3/probes.png\" srcset=\"/static/5ddefe574031c4f67ddfd4d8dd2fdf3f/04472/probes.png 170w,\n/static/5ddefe574031c4f67ddfd4d8dd2fdf3f/9f933/probes.png 340w,\n/static/5ddefe574031c4f67ddfd4d8dd2fdf3f/c5bb3/probes.png 680w,\n/static/5ddefe574031c4f67ddfd4d8dd2fdf3f/b12f7/probes.png 1020w,\n/static/5ddefe574031c4f67ddfd4d8dd2fdf3f/a3a5c/probes.png 1277w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>Kubernetes has three basic probe types:</p>\n<ul>\n<li><strong>Liveness Probes</strong>: They detect whether a pod is healthy by running a command or making a network request inside the container. Containers that fail the check are restarted.</li>\n<li><strong>Readiness Probes</strong>: They identify when a container is able to handle external traffic received from a service. Containers don't become part of their services until they pass a readiness probe.</li>\n<li><strong>Startup Probes</strong>: They provide a way to defer the execution of liveness and readiness probes until a container indicates it's able to handle them. Kubernetes won't direct the other probe types to a container if it has a startup probe that hasn't yet succeeded.</li>\n</ul>\n<h2 id=\"-sequence-of-health-probes\" style=\"position:relative;\"><a href=\"#-sequence-of-health-probes\" aria-label=\" sequence of health probes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Sequence of Health Probes</h2>\n<p>This diagram effectively illustrates the workflow of Kubernetes health probes and their impact on a container's lifecycle.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA60lEQVR42lVRWVLFMAzLOXivS5pm715g5nH/ewnLUKZ8aOKJI1lWzLPpQDyeLZq2F1jYYcTgvIJ12w2o04LRR7gxwIekdcoVMRX01qkG+cYKiU0fIqwb4WPSkw8o1PWDkuZlE6xIZVJQeN0OvF5fWNYNlzHjRKjUGdO8qlipE7IQeJdLRZZz20/sxynEXd306tr+idDx+f4JnzLMtS7BmiuSRHd03w9OyRzACHzMMqTC/a4fxAQFQyw6yHBvEoir5kPW93zfHo2CcTACDmaPw69aV/75iP9gbvdPocBxfkgsizjJGgFdXf079xuMc6odiE1p8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sequence\" title=\"\" src=\"/static/e7212ecf5e1f077c3b494db8230064a8/c5bb3/sequence.png\" srcset=\"/static/e7212ecf5e1f077c3b494db8230064a8/04472/sequence.png 170w,\n/static/e7212ecf5e1f077c3b494db8230064a8/9f933/sequence.png 340w,\n/static/e7212ecf5e1f077c3b494db8230064a8/c5bb3/sequence.png 680w,\n/static/e7212ecf5e1f077c3b494db8230064a8/b12f7/sequence.png 1020w,\n/static/e7212ecf5e1f077c3b494db8230064a8/b5a09/sequence.png 1360w,\n/static/e7212ecf5e1f077c3b494db8230064a8/07a9c/sequence.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>The process begins with the deployment of the container in Kubernetes. After the container starts, the <strong>startup probe</strong> checks if the application within the container is ready to run. If the startup probe succeeds, it proceeds to the <strong>readiness probe</strong>. If the startup probe fails, Kubernetes restarts the container.</p>\n<p>When the startup probe is successful, the readiness probe is executed. This probe determines if the container is ready to serve traffic. If the readiness probe is successful, Kubernetes initiates the <strong>liveness probe</strong> to continually monitor the container's health. If the readiness probe fails, traffic to the container is stopped. Kubernetes will retry the readiness probe until it succeeds or the failure threshold is exceeded. If the failure threshold is exceeded, Kubernetes restarts the container.</p>\n<p>Once the startup probe and the readiness probes are successful, Kubernetes continuously checks the health of the container during its runtime. If the liveness probe is successful, it will continue to monitor at defined intervals. If the liveness probe fails, Kubernetes will restart the container. After restarting the container, the process begins again with the startup probe.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 26.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVR42j2Q207DMBBEg5rSCrWU0Ljk5txJwBS1ap54yv//FXOoQ6TRrCfj2V0Hwf0LsyyzXdfZqqrqPM/fxR9lWbq+743qF/0/Nk3zlqZpbK3thC+4KIoelu/ZZwUrDjI+qX7wdUyAzK80Q8fngWeDh2ZAjSPp6780HW5JkjgMdV1XCrpqoh/pkwK/1T0zxuyYEg+X0Zhe2tX7P/1A93Uxj+O4ZwKYC2piAMZpmtbzPIfOuce2bQ/o4tPyBABdOdv/UL1bMQxDLNNA94WFNIqiwxLAmwlnpmIDWJtd0Mj4BbcpJoNUpIoDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"sequencev2\" title=\"\" src=\"/static/73953e1f7518a255aba9cc4ed146e32f/c5bb3/sequencev2.png\" srcset=\"/static/73953e1f7518a255aba9cc4ed146e32f/04472/sequencev2.png 170w,\n/static/73953e1f7518a255aba9cc4ed146e32f/9f933/sequencev2.png 340w,\n/static/73953e1f7518a255aba9cc4ed146e32f/c5bb3/sequencev2.png 680w,\n/static/73953e1f7518a255aba9cc4ed146e32f/f1901/sequencev2.png 942w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-startup-probes\" style=\"position:relative;\"><a href=\"#-startup-probes\" aria-label=\" startup probes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Startup Probes</h3>\n<p>Startup probes should be used when the application in your container could take a significant amount of time to reach its normal operating state. Applications that would crash or throw an error if they handled a liveness or readiness probe during startup need to be protected by a startup probe. This ensures the container doesn't enter a restart loop due to failing healthiness checks before it's finished launching.</p>\n<h4 id=\"creating-a-startup-probe\" style=\"position:relative;\"><a href=\"#creating-a-startup-probe\" aria-label=\"creating a startup probe permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Creating a Startup Probe</h4>\n<p>Startup probes are created by adding a <code class=\"language-text\">startupProbe</code> field within the <code class=\"language-text\">spec.containers</code> portion of a pod's manifest.</p>\n<p><strong>Exec Probe:</strong></p>\n<p>Exec probe runs a command inside the container as a health check; the command's exit code determines the success.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">startupProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token key atrule\">timeoutSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">successThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">failureThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">exec</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> cat\n            <span class=\"token punctuation\">-</span> /etc/nginx/nginx.conf</code></pre></div>\n<p><strong>TCP Probe:</strong></p>\n<p>TCP probe checks if the specified port is open or not; an open port points to success.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">startupProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token key atrule\">timeoutSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">successThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">failureThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">tcpSocket</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></code></pre></div>\n<p><strong>HTTP Probe:</strong></p>\n<p>HTTP probe sends an HTTP GET request with defined parameters. HTTP Probe has additional options to configure.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">startupProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n    <span class=\"token key atrule\">timeoutSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">successThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">failureThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">httpGet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">scheme</span><span class=\"token punctuation\">:</span> HTTP\n        <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /\n        <span class=\"token key atrule\">httpHeaders</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Host\n                <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> myapplication1.com\n        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></code></pre></div>\n<h3 id=\"-readiness-probes\" style=\"position:relative;\"><a href=\"#-readiness-probes\" aria-label=\" readiness probes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üü¢ Readiness Probes</h3>\n<p>Similar to other probes, it checks to ensure the container is ready to accept traffic. Unlike the liveness probe which checks to see if things remain ship-shape, the readiness probe makes sure things are in a state that traffic can start flowing. This is at the pod level. Meaning all of the containers must be in a ready state prior to anything being passed to the service. The startup probe, while also similar, is at the application level. It would be active prior to any liveness or readiness probes.</p>\n<h4 id=\"creating-a-readiness-probe\" style=\"position:relative;\"><a href=\"#creating-a-readiness-probe\" aria-label=\"creating a readiness probe permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Creating a Readiness Probe</h4>\n<p>Readiness probes are created by adding a <code class=\"language-text\">readinessProbe</code> field within the <code class=\"language-text\">spec.containers</code> portion of a pod's manifest.</p>\n<p><strong>Exec Probe:</strong></p>\n<p>Exec action has only one field, and that is command. Exit status of the command is checked, and the status of zero (0) means it is healthy, and another value means it is unhealthy.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">readinessProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token key atrule\">timeoutSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">successThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">failureThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">exec</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> cat\n            <span class=\"token punctuation\">-</span> /etc/nginx/nginx.conf</code></pre></div>\n<p><strong>TCP Probe:</strong></p>\n<p>We need to define host and port parameters, host parameter defaults to the cluster-internal pod IP.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">readinessProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token key atrule\">timeoutSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">successThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">failureThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">tcpSocket</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></code></pre></div>\n<p><strong>HTTP Probe:</strong></p>\n<p>HTTP Probe has additional options to configure.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">readinessProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n    <span class=\"token key atrule\">timeoutSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">successThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">failureThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">httpGet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">scheme</span><span class=\"token punctuation\">:</span> HTTP\n        <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /\n        <span class=\"token key atrule\">httpHeaders</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Host\n                <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> myapplication1.com\n        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span></code></pre></div>\n<h3 id=\"-liveness-probes\" style=\"position:relative;\"><a href=\"#-liveness-probes\" aria-label=\" liveness probes permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üî¥ Liveness Probes</h3>\n<p>Liveness probes enhance Kubernetes' ability to manage workloads on your behalf. Without probes, you need to manually monitor your pods to distinguish which application instances are healthy and which are not. This becomes time-consuming and error-prone when you're working with hundreds or thousands of pods.</p>\n<p>Allowing unhealthy pods to continue without detection degrades your service's stability over time. Pods that are silently failing as they age, perhaps due to race conditions, deadlocks, or corrupted caches, will gradually reduce your service's capacity to handle new requests. Eventually, your entire pod fleet could be affected, even though all the containers report as running.</p>\n<h4 id=\"creating-a-liveness-probe\" style=\"position:relative;\"><a href=\"#creating-a-liveness-probe\" aria-label=\"creating a liveness probe permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Creating a Liveness Probe</h4>\n<p>Liveness probes are defined by a pod's <code class=\"language-text\">spec.containers.livenessProbe</code> field. There are three types of actions kubelet performs on a pod, which are:</p>\n<ul>\n<li>Executes a command inside the container</li>\n<li>Checks for a state of a particular port on the container</li>\n<li>Performs a GET request on container's IP</li>\n</ul>\n<p><strong>Define a Liveness Command:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">livenessProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">exec</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> sh\n            <span class=\"token punctuation\">-</span> /tmp/status_check.sh\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span></code></pre></div>\n<p><strong>Define a Liveness HTTP Request:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">livenessProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">httpGet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /health\n        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span></code></pre></div>\n<p><strong>Define a TCP Liveness Probe:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">livenessProbe</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">tcpSocket</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\n    <span class=\"token key atrule\">initialDelaySeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">15</span>\n    <span class=\"token key atrule\">periodSeconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span></code></pre></div>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèÅ Conclusion</h2>\n<p>Kubernetes probes are essential for ensuring the health and resilience of your applications. They provide a more streamlined, data-driven approach to monitoring, which facilitates informed decision-making and responsive adjustments to changes in your application's usage patterns. By using health checks, you can improve your application availability, reduce your maintenance burden, and make certain that your application is not only running but also accessible to your users.</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/amazon-cni-metrics-helper/","title":"Understanding the CNI Metrics Helper for Amazon VPC CNI Plugin üåê","date":"2024-10-21 22:00:00"},"excerpt":"Kubernetes Network Monitoring üï∏ The CNI Metrics Helper plays an important role in the Amazon Elastic Kubernetes Service (EKS) by providing‚Ä¶","html":"<blockquote>\n<p><strong>Kubernetes Network Monitoring üï∏</strong></p>\n</blockquote>\n<p>The <a href=\"https://github.com/aws/amazon-vpc-cni-k8s/tree/master/cmd/cni-metrics-helper\" target=\"_blank\" rel=\"noopener noreferrer\">CNI Metrics Helper</a> plays an important role in the Amazon Elastic Kubernetes Service (EKS) by providing essential insights into the VPC CNI plugin's pod networking.</p>\n<p>As a DaemonSet responsible for assigning IP addresses to pods, the VPC CNI plugin is a fundamental component of EKS clusters. In this context, the CNI Metrics Helper emerges as a valuable tool for tracking IP address allocation, troubleshooting issues, and providing insights for capacity planning within EKS clusters.</p>\n<p>When managing an EKS cluster, it may be important to know how many IP addresses have been assigned and how many are available. The CNI Metrics Helper can help you track these metrics over time, troubleshoot/diagnose issues related to IP assignment and reclamation, and provide insights for capacity planning.</p>\n<p>This blog post aims to unravel the significance of the CNI Metrics Helper in the context of Amazon EKS by exploring its ability to scrape elastic network interface and IP address information, aggregate it at a cluster level, and publish the metrics to Amazon CloudWatch.</p>\n<h2 id=\"-cni-metrics-helper-fundamentals\" style=\"position:relative;\"><a href=\"#-cni-metrics-helper-fundamentals\" aria-label=\" cni metrics helper fundamentals permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìä CNI Metrics Helper Fundamentals</h2>\n<p>The CNI Metrics Helper is a fundamental tool in the context of the Amazon VPC CNI plugin for Kubernetes. It is designed to perform the following key functions:</p>\n<ul>\n<li><strong>Scrape</strong> elastic network interface (ENI) and IP address information from worker nodes.</li>\n<li><strong>Aggregate</strong> the collected data at the cluster level.</li>\n<li><strong>Publish</strong> the metrics to Amazon CloudWatch, including useful names such as <code class=\"language-text\">addReqCount</code>, <code class=\"language-text\">assignIPAddresses</code>, and <code class=\"language-text\">awsAPIErr</code>.</li>\n</ul>\n<p>The tool requires the <code class=\"language-text\">cloudwatch:PutMetricData</code> IAM permission for publishing metrics. By default, IPAM publishes Prometheus metrics on <code class=\"language-text\">:61678/metrics</code>, which can be monitored and scraped for further analysis.</p>\n<p>The CNI Metrics Helper is deployed as a Kubernetes deployment and can be installed and configured using the provided source code or as a Helm chart.</p>\n<p>The CNI Metrics Helper is not only valuable for tracking IP address allocation, availability, and related metrics but also serves as an example for how to extract data from worker nodes, transform it into the proper format, and load it into CloudWatch as custom metrics, which can then be visualized in a dashboard.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 101.76470588235296%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuElEQVR42pVUO2/TUBjN/0LiH7CyMPAPGFnpwlAJFhBi7wQTA1JBgIQYCpQQ2tA2jWOnNo7rvGzHjq/fj8N3b+w0DaWQT7qycx8n5zvnXDdQVZ7nyIsCBb0XZYkiz5DRXMnfaT4MQgRBgLLan2WZmOdV5KkYWZajwSdKWsj5Tn+C6MMTpHpbbEzTpHqmODnpoNeTEYYRZrMZZo6DMIrhOXTG1hBYZ8hibwWQ/5Otw3t+G+72TWDwA5bH0Dk5hqZpGI3HBNhDq9WCJEnodDpoNls4/fkNwaQHf6wgY+MKkNrKqQVOkmltKA9uoP/6GbqqIQBlWcbe3md0uxIYte0QO9/3hQQptZmELmJm0Xu2AORacE24jg61I3dPoaoqptNpLTEYAURxvPzNSXBJOJG8KAUZvr5kyMt2bHieC8uyBFiSJMvD66MmIQzyTSSOCt8x0GCMwXVd0cpoNBJtcK0ODw6h6wPh+Croas3nPuIoQGJ14ZxLmA87aJjnJmnUg/ZLF+KHYQhFUahlTRxYB1ktoSO5nqU0ggkxTi+3zFv1PA+macK2bayurZcwkmeXBm89K3ABWAeUg9RglvVvwFrDskjpZjDqLrjM0LEtmOcGjMEAceXotYA5T29JhvQp2GTKRF5zmTMcjmAYBpK1iFxVPAm+P0dMDrtDBf60XwFWGwbtjzAO3kFVepSphBjb5Hr4V1MWGtL9L+iZMiFdgwQQi4F+gPmbLbC3W9A+7WA4nuB7symuWhRF+N8iwAW/ZCzDef8I092HGLZ2Icl9is6ZuHZ1wK+vsgKsNPJZAHtwClc/gjuzofRVMiYSX5drongFQ24G5W//6xe0jyQkaRWF8sKMcgPERv2x5PVx/xWOz/awms1N2C0B67r/9Ba2X975Q5cNAReH0izB45172H5xFzZ9PTZttQb8DTJ+A1cr3oKaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Architecture Diagram\" title=\"\" src=\"/static/628c6a8cdde2249e72c226bac4a34b0c/c5bb3/archi.png\" srcset=\"/static/628c6a8cdde2249e72c226bac4a34b0c/04472/archi.png 170w,\n/static/628c6a8cdde2249e72c226bac4a34b0c/9f933/archi.png 340w,\n/static/628c6a8cdde2249e72c226bac4a34b0c/c5bb3/archi.png 680w,\n/static/628c6a8cdde2249e72c226bac4a34b0c/8ce52/archi.png 681w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>As you can see in the diagram, the CNI Metrics Helper connects to the API Server over HTTPS (TCP/443), and another connection is created from the API Server to the worker node over HTTP (TCP/61678). If you deploy Amazon EKS with the recommended security groups from <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/sec-group-reqs.html#security-group-restricting-cluster-traffic\" target=\"_blank\" rel=\"noopener noreferrer\">Restricting cluster traffic</a>, then make sure that a security group is in place that allows the inbound connection from the API Server to the worker nodes over TCP/61678.</p>\n<p>Adding the CNI Metrics Helper will publish the following metrics to CloudWatch:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token string\">\"addReqCount\"</span>,\n<span class=\"token string\">\"assignIPAddresses\"</span>,\n<span class=\"token string\">\"awsAPIErr\"</span>,\n<span class=\"token string\">\"awsAPILatency\"</span>,\n<span class=\"token string\">\"awsUtilErr\"</span>,\n<span class=\"token string\">\"delReqCount\"</span>,\n<span class=\"token string\">\"eniAllocated\"</span>,\n<span class=\"token string\">\"eniMaxAvailable\"</span>,\n<span class=\"token string\">\"ipamdActionInProgress\"</span>,\n<span class=\"token string\">\"ipamdErr\"</span>,\n<span class=\"token string\">\"maxIPAddresses\"</span>,\n<span class=\"token string\">\"podENIErr\"</span>,\n<span class=\"token string\">\"reconcileCount\"</span>,\n<span class=\"token string\">\"totalIPAddresses\"</span>,\n<span class=\"token string\">\"totalIPv4Prefixes\"</span>,\n<span class=\"token string\">\"totalAssignedIPv4sPerCidr\"</span></code></pre></div>\n<hr>\n<p>As per <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/security-best-practices.html\" target=\"_blank\" rel=\"noopener noreferrer\">AWS EKS Security Best Practices</a>, if you are using IRSA for pods, then the following requirements must be satisfied to successfully publish metrics to CloudWatch:</p>\n<h3 id=\"-iam-policy-requirements\" style=\"position:relative;\"><a href=\"#-iam-policy-requirements\" aria-label=\" iam policy requirements permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìú IAM Policy Requirements</h3>\n<p>The IAM Role for your Service Account (IRSA) must have the following policy attached:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"Version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2012-10-17\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Statement\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"Effect\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Allow\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"Action\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token string\">\"cloudwatch:PutMetricData\"</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"Resource\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"Ô∏è-deployment-configuration\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-deployment-configuration\" aria-label=\"Ô∏è deployment configuration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Deployment Configuration</h3>\n<p>Specify the IRSA name in the <code class=\"language-text\">cni-metrics-helper</code> deployment spec along with the <code class=\"language-text\">AWS_CLUSTER_ID</code> (as described below). The value that you specify here will show up under the dimension <code class=\"language-text\">CLUSTER_ID</code> for your published metrics. Specifying a value for this field is mandatory only if you are blocking IMDS access.</p>\n<p>An identifier for your Cluster which will be used as the dimension for published metrics. Ideally, it should be <code class=\"language-text\">ClusterName</code> or <code class=\"language-text\">ClusterID</code>.</p>\n<p>For more details, refer to the <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon EKS User Guide</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: cni-metrics-helper\n  namespace: kube-system\n  labels:\n    k8s-app: cni-metrics-helper\nspec:\n  selector:\n    matchLabels:\n      k8s-app: cni-metrics-helper\n  template:\n    metadata:\n      labels:\n        k8s-app: cni-metrics-helper\n    spec:\n      containers:\n      - env:\n        - name: AWS_CLUSTER_ID\n          value: <span class=\"token string\">\"\"</span>  \n        - name: USE_CLOUDWATCH\n          value: <span class=\"token string\">\"true\"</span>\n        name: cni-metrics-helper\n        image: <span class=\"token operator\">&lt;</span>image<span class=\"token operator\">></span>\n      serviceAccountName: <span class=\"token operator\">&lt;</span>IRSA name<span class=\"token operator\">></span></code></pre></div>\n<h3 id=\"-region-and-cluster-id-configuration\" style=\"position:relative;\"><a href=\"#-region-and-cluster-id-configuration\" aria-label=\" region and cluster id configuration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåç Region and Cluster ID Configuration</h3>\n<p>With IRSA, the above deployment spec will be auto-injected with the <code class=\"language-text\">AWS_REGION</code> parameter, which will be used to fetch region information when publishing metrics. Possible scenarios for the above configuration:</p>\n<ul>\n<li><strong>Without IRSA</strong>: Region and <code class=\"language-text\">CLUSTER_ID</code> information will be fetched using IMDS (should have access).</li>\n<li><strong>With IRSA but without <code class=\"language-text\">AWS_CLUSTER_ID</code></strong>: The value for <code class=\"language-text\">CLUSTER_ID</code> will be fetched if IMDS access is not blocked.</li>\n<li><strong>With IRSA and blocked IMDS access</strong>: You must specify a value for <code class=\"language-text\">AWS_CLUSTER_ID</code> in the deployment spec.</li>\n<li><strong>With IRSA and specified <code class=\"language-text\">AWS_CLUSTER_ID</code></strong>: The specified value will be used.</li>\n</ul>\n<h3 id=\"Ô∏è-installing-and-configuring-the-metrics-helper\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-installing-and-configuring-the-metrics-helper\" aria-label=\"Ô∏è installing and configuring the metrics helper permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Installing and Configuring the Metrics Helper</h3>\n<p>The metrics helper is programmed to write metrics to CloudWatch every 30 seconds. If you want to decrease the frequency at which metrics are written to CloudWatch, you can adjust the configuration accordingly.</p>\n<h4 id=\"-installation-instructions\" style=\"position:relative;\"><a href=\"#-installation-instructions\" aria-label=\" installation instructions permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üì• Installation Instructions</h4>\n<p>To install the CNI metrics helper, follow the instructions below:</p>\n<ol>\n<li>\n<p><strong>Add the EKS repository to Helm</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">helm repo <span class=\"token function\">add</span> eks https://aws.github.io/eks-charts</code></pre></div>\n</li>\n<li>\n<p><strong>Install the chart with the release name <code class=\"language-text\">cni-metrics-helper</code> and default configuration</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">helm <span class=\"token function\">install</span> cni-metrics-helper <span class=\"token parameter variable\">--namespace</span> kube-system eks/cni-metrics-helper</code></pre></div>\n</li>\n<li>\n<p><strong>Manual Installation</strong>:</p>\n</li>\n</ol>\n<ul>\n<li>Clone the Amazon VPC CNI for Kubernetes repository to your local machine:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> clone https://github.com/aws/amazon-vpc-cni-k8s.git</code></pre></div>\n<ul>\n<li>Use the Helm install command to install the chart into your Kubernetes cluster:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">helm <span class=\"token function\">install</span> cni-metrics-helper <span class=\"token parameter variable\">--namespace</span> kube-system ./charts/cni-metrics-helper</code></pre></div>\n<h3 id=\"-creating-a-metrics-dashboard\" style=\"position:relative;\"><a href=\"#-creating-a-metrics-dashboard\" aria-label=\" creating a metrics dashboard permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìä Creating a Metrics Dashboard</h3>\n<p>After deploying the CNI metrics helper, you can view the CNI metrics in the Amazon CloudWatch console.</p>\n<h4 id=\"steps-to-create-a-cni-metrics-dashboard\" style=\"position:relative;\"><a href=\"#steps-to-create-a-cni-metrics-dashboard\" aria-label=\"steps to create a cni metrics dashboard permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Steps to Create a CNI Metrics Dashboard:</h4>\n<ol>\n<li>Open the CloudWatch console at <a href=\"https://console.aws.amazon.com/cloudwatch/\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon CloudWatch Console</a>.</li>\n<li>In the left navigation pane, choose <strong>Metrics</strong> and then select <strong>All metrics</strong>.</li>\n<li>Choose the <strong>Graphed metrics</strong> tab.</li>\n<li>Choose <strong>Add metrics using browse or query</strong>.</li>\n<li>Ensure that under <strong>Metrics</strong>, you've selected the AWS Region for your cluster.</li>\n<li>In the <strong>Search</strong> box, enter <code class=\"language-text\">Kubernetes</code> and press Enter.</li>\n<li>Select the metrics that you want to add to the dashboard.</li>\n<li>At the upper right of the console, select <strong>Actions</strong>, and then <strong>Add to dashboard</strong>.</li>\n<li>In the <strong>Select a dashboard</strong> section, choose <strong>Create new</strong>, enter a name for your dashboard, such as <code class=\"language-text\">EKS-CNI-metrics</code>, and then choose <strong>Create</strong>.</li>\n<li>In the <strong>Widget type</strong> section, select <strong>Number</strong>.</li>\n<li>In the <strong>Customize widget title</strong> section, enter a logical name for your dashboard title, such as <code class=\"language-text\">EKS CNI metrics</code>.</li>\n<li>Choose <strong>Add to dashboard</strong> to finish. Now your CNI metrics are added to a dashboard that you can monitor.</li>\n</ol>\n<p>For more information about Amazon CloudWatch Logs metrics, see <a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/working_with_metrics.html\" target=\"_blank\" rel=\"noopener noreferrer\">Using Amazon CloudWatch metrics</a> in the Amazon CloudWatch User Guide.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0UlEQVR42lVPXY/DIAzr//99u5ebtKu4TmpVFWj4hgDzijTd+QE5jp2Eadu2dV33fS8555SYuV5IKQ0C5cNLKeCttaFPP49HDGHUQvxC6r2DP5cnXnC4l2XpF4wxQgiQ4Z8kWUgoeqvZntY5ay03llbTSSlnGL1UIUZkuNRTk/d+LJh8CDhmDPbIOfe+r1XjLPR2gfSJP42FXPhz3SSPYzSA+/d9XIjYPM/DxFxuXzci6v/xDpNSWqmMJVy9NlLJGCMaWkNWmItlRAdcmFj/gJlfBl9cbuyhBjoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"metrics\" title=\"\" src=\"/static/da25f0bb2e7a485bad34efb22ba84449/c5bb3/metrics.png\" srcset=\"/static/da25f0bb2e7a485bad34efb22ba84449/04472/metrics.png 170w,\n/static/da25f0bb2e7a485bad34efb22ba84449/9f933/metrics.png 340w,\n/static/da25f0bb2e7a485bad34efb22ba84449/c5bb3/metrics.png 680w,\n/static/da25f0bb2e7a485bad34efb22ba84449/b12f7/metrics.png 1020w,\n/static/da25f0bb2e7a485bad34efb22ba84449/b5a09/metrics.png 1360w,\n/static/da25f0bb2e7a485bad34efb22ba84449/07a9c/metrics.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p><strong>Get cni-metrics-helper logs:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl get pod <span class=\"token parameter variable\">-n</span> kube-system\nNAME                                  READY     STATUS    RESTARTS   AGE\naws-node-248ns                        <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          6h\naws-node-257bn                        <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          2h\n<span class=\"token punctuation\">..</span>.\ncni-metrics-helper-6dcff5ddf4-v5l6d   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          7h\nkube-dns-75fddcb66f-48tzn             <span class=\"token number\">3</span>/3       Running   <span class=\"token number\">0</span>          1d</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">kubectl logs cni-metrics-helper-6dcff5ddf4-v5l6d <span class=\"token parameter variable\">-n</span> kube-system</code></pre></div>\n<p><strong>cni-metrics-helper key log messages:</strong></p>\n<p>Example of some aggregated metrics</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">I0516 <span class=\"token number\">17</span>:11:58.489648       <span class=\"token number\">7</span> metrics.go:350<span class=\"token punctuation\">]</span> Produce GAUGE metrics: ipamdActionInProgress, value: <span class=\"token number\">0.000000</span>\nI0516 <span class=\"token number\">17</span>:11:58.489657       <span class=\"token number\">7</span> metrics.go:350<span class=\"token punctuation\">]</span> Produce GAUGE metrics: assignIPAddresses, value: <span class=\"token number\">2.000000</span>\nI0516 <span class=\"token number\">17</span>:11:58.489665       <span class=\"token number\">7</span> metrics.go:350<span class=\"token punctuation\">]</span> Produce GAUGE metrics: totalIPAddresses, value: <span class=\"token number\">11186.000000</span>\nI0516 <span class=\"token number\">17</span>:11:58.489674       <span class=\"token number\">7</span> metrics.go:350<span class=\"token punctuation\">]</span> Produce GAUGE metrics: eniMaxAvailable, value: <span class=\"token number\">800.000000</span>\nI0516 <span class=\"token number\">17</span>:11:58.489685       <span class=\"token number\">7</span> metrics.go:340<span class=\"token punctuation\">]</span> Produce COUNTER metrics: ipamdErr, value: <span class=\"token number\">1.000000</span>\nI0516 <span class=\"token number\">17</span>:11:58.489695       <span class=\"token number\">7</span> metrics.go:350<span class=\"token punctuation\">]</span> Produce GAUGE metrics: eniAllocated, value: <span class=\"token number\">799.000000</span>\nI0516 <span class=\"token number\">17</span>:11:58.489715       <span class=\"token number\">7</span> metrics.go:350<span class=\"token punctuation\">]</span> Produce GAUGE metrics: maxIPAddresses, value: <span class=\"token number\">11200.000000</span></code></pre></div>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Conclusion</h2>\n<p>The CNI Metrics Helper is a valuable tool that provides insights into IP address allocation, availability, and related metrics for the Amazon VPC CNI plugin in Kubernetes. It can be used to troubleshoot, diagnose issues, and plan for capacity.</p>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<p><br><br></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}