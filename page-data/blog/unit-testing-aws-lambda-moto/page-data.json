{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/unit-testing-aws-lambda-moto/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Quality Assurance and Resilience of AWS Lambda with Moto üöÅ‚ú®</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìç Introduction</h2>\n<p>When developing <a href=\"https://www.cloudflare.com/en-gb/learning/serverless/what-is-serverless/\" target=\"_blank\" rel=\"noopener noreferrer\">serverless</a> <a href=\"https://en.wikipedia.org/wiki/Event-driven_architecture\" target=\"_blank\" rel=\"noopener noreferrer\">event-driven</a> applications with AWS Lambda, ensuring the reliability and functionality of individual components is important.</p>\n<p><a href=\"https://www.techtarget.com/searchsoftwarequality/definition/unit-testing\" target=\"_blank\" rel=\"noopener noreferrer\">Unit testing</a> serves as a fundamental practice to swiftly identify and isolate potential issues within <a href=\"https://aws.amazon.com/lambda/features/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Lambda function</a> code.</p>\n<p>This blog post explores the application of unit testing techniques for Python-based AWS Lambda functions, particularly focusing on interactions with various AWS services. In this context, the <a href=\"https://github.com/getmoto/moto/tree/master\" target=\"_blank\" rel=\"noopener noreferrer\">Moto</a> library emerges as a valuable tool for simulating AWS resources, enabling the testing of Python code that interfaces with services such as <a href=\"https://aws.amazon.com/dynamodb/features/\" target=\"_blank\" rel=\"noopener noreferrer\">DynamoDB</a> and <a href=\"https://aws.amazon.com/s3/features/\" target=\"_blank\" rel=\"noopener noreferrer\">S3</a>.</p>\n<p>Through the integration of Moto with <a href=\"https://github.com/pytest-dev/pytest\" target=\"_blank\" rel=\"noopener noreferrer\">pytest</a>, this post aims to provide insights into effectively testing Python-based AWS Lambda functions.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVR42o2S0W7TQBBF8yV8E698AJ/DKxJfwDMPqEJCqCmtRItCCSDigpsUxcG4SRw7wU53d3YP46RIrZsKRrqau+PR3Znr7dCKEKC2otkTTEmwK8XvbXbX2RTgDbui0y7MK8NgskDEIbMPuGkPmX9W9HGzPpIPkMsefjnUC2qCrO8KNlM1EacFcVaSFTXGGnwRIcUZfjVGyu/IIlKhkfJYcb45NxzdpiW4VTwdZgyzgmlZYZz8NWHHYoH7onPz82x1RWUsw7RibZxW1MegfuKvu8KN7vZ5h+CituS148v4HUV99Y9Z/mPCvBamaZeo94ji8oBafbs4fsw82dv0eC94JQ0al7wSH8L9P2WUO/aPnhAfPOTw+JniKScvHtA9ec77ieP1IOHlxxF7/R+KC/bjGUdnE30RcvfZNJrZcs2ksKSlIVlYkrwmXTqiXxVvviYcfkvpam7wNvrJq09jTs/TW9Z0Wu7qDhI2uyDb5ZQ7kWCshHavEx+s3K7/AYzFAhTihvgNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Unit Testing AWS Lambda\" title=\"\" src=\"/static/c47a8ffa88342cc7eb06d4b7077a1cb0/c5bb3/ut.png\" srcset=\"/static/c47a8ffa88342cc7eb06d4b7077a1cb0/04472/ut.png 170w,\n/static/c47a8ffa88342cc7eb06d4b7077a1cb0/9f933/ut.png 340w,\n/static/c47a8ffa88342cc7eb06d4b7077a1cb0/c5bb3/ut.png 680w,\n/static/c47a8ffa88342cc7eb06d4b7077a1cb0/5a190/ut.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"Ô∏è-what-is-moto-and-why-use-it\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-what-is-moto-and-why-use-it\" aria-label=\"Ô∏è what is moto and why use it permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è What is Moto and Why Use It?</h3>\n<p>When testing code that interacts with cloud services, it's essential to mimic the functionality of those services. However, replicating them completely locally can be challenging. This is where <a href=\"https://github.com/getmoto/moto\" target=\"_blank\" rel=\"noopener noreferrer\">Moto</a>, a library that allows mocking AWS services, comes into play.</p>\n<p>Moto is particularly useful when testing Python code that interacts with AWS services like DynamoDB, S3, and others. It enables developers to simulate AWS resources, making it easier to test code that interfaces with various AWS services.</p>\n<p>By using Moto in combination with <a href=\"https://docs.pytest.org/en/6.2.x/\" target=\"_blank\" rel=\"noopener noreferrer\">pytest</a>, developers can ensure comprehensive testing of their Python code, thereby enhancing the reliability and quality of their applications.</p>\n<p>Moto has gained recognition for its ability to simplify testing in the cloud, making it a valuable tool for developers working on serverless applications. By using Moto, developers can test their code without the need to directly access real AWS resources, ultimately streamlining the testing process and contributing to the overall robustness of their applications.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 126.47058823529413%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAACg0lEQVR42pWVhW4rQQxF8/8/FSUKMynMzMzk9ljy0yavsLU03Qxd+/p6XI982u12k/F4LO12W2q1mpTLZR3FYlEKhYI0m03J5/PSaDSkUqnoeq/Xk8lkoned5uHP/X6X5XIpw+FQL6VSKQXo9/u6xhcAHAJWr9d1fbVa6d0XwMvlIufzWT21Wi09vNvthHUOPx4P3Wd+OBxkv99Lp9PRc6yzdjwe/53x4LVUKilVIuNgtVrV+Wazke12K4PBQPdYh3Imk1EGuVxOI2ade6TAs1gs9MdsNtNccZnfUMLz6XSS6XSqtNkjOgAAghGj2+1qSsDyPJ9PuV6vyp9D8/lcqbJuxm+jzh4OY7GYpgmn3LczKgoHksmkUgkEApLNZnXTwDDm0E6n0+o4HA5rJUQiEY3eziogiQWUQdgoboDOKKEFRVLASCQSCsr9l7L5yqCDatBhIBCJJ6coDXXEpCL+q8P3SDAihbrX65VQKCQ+n0/pBYNBnZMi5jj6EdCM6DgMMELxkih61ihoaLI2Go1eAvkWEIMqF1GXy4iGqtQmX4ZTkG8BbRNxyBPUGVbMfKlHK3rXEUIbutBGYcoFuswRBoFcRfgeLZfJFZQNyPYAdHacXwEpDyjy5nlyFDb5NAPQHLgCxBAF6tQhQjgj+jMgFHlB5JCnRw55JdYHXQM6CxwxeGJ0byjTwixKOhVq/ymHqE2UABMxwxyaYC/N4avoqEGEoNchAlFFo1GtO9apQ6jDgN75IyBRQQV1KWi6txU1StNloG/OfgXESDS5QQSipasggP3P4UmSivfn56psrGcSkd/vV7pQB5w0EK0rUaytY+v1WinH43F936hNOnBAF7Kn9wE84G704IFrKwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"UT AWS Lambda\" title=\"\" src=\"/static/d3a07e298be6630d63af77e5b340123b/c5bb3/graph.png\" srcset=\"/static/d3a07e298be6630d63af77e5b340123b/04472/graph.png 170w,\n/static/d3a07e298be6630d63af77e5b340123b/9f933/graph.png 340w,\n/static/d3a07e298be6630d63af77e5b340123b/c5bb3/graph.png 680w,\n/static/d3a07e298be6630d63af77e5b340123b/5a190/graph.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-decorator-approach\" style=\"position:relative;\"><a href=\"#-decorator-approach\" aria-label=\" decorator approach permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üß© Decorator Approach</h2>\n<p>The decorator approach simplifies AWS service mocking using Moto in the <code class=\"language-text\">eu-west-1</code> region. The <code class=\"language-text\">@mock_ec2</code> decorator encapsulates the test function, ensuring automatic management of the Moto mock environment for seamless testing.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> boto3\n<span class=\"token keyword\">from</span> moto <span class=\"token keyword\">import</span> mock_ec2\n<span class=\"token keyword\">from</span> main <span class=\"token keyword\">import</span> create_instances\n\n<span class=\"token decorator annotation punctuation\">@mock_ec2</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">test_create_instances_with_decorator</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    instance_count <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    image_id <span class=\"token operator\">=</span> <span class=\"token string\">'ami-02ed82f3a38303e6f'</span>\n    create_instances<span class=\"token punctuation\">(</span><span class=\"token string\">'eu-west-1'</span><span class=\"token punctuation\">,</span> image_id<span class=\"token punctuation\">,</span> instance_count<span class=\"token punctuation\">)</span>\n    client <span class=\"token operator\">=</span> boto3<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">(</span><span class=\"token string\">'ec2'</span><span class=\"token punctuation\">,</span> region_name<span class=\"token operator\">=</span><span class=\"token string\">'eu-west-1'</span><span class=\"token punctuation\">)</span>\n    instances <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>describe_instances<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Reservations'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Instances'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">assert</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>instances<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> instance_count\n    <span class=\"token keyword\">assert</span> instances<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'ImageId'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> image_id</code></pre></div>\n<h2 id=\"-context-manager-approach\" style=\"position:relative;\"><a href=\"#-context-manager-approach\" aria-label=\" context manager approach permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üß© Context Manager Approach</h2>\n<p>In the Ireland region, the context manager-based approach facilitates AWS service mocking with Moto. Utilizing <code class=\"language-text\">with mock_ec2():</code>, the test logic within the block benefits from the active Moto mock environment, maintaining clarity and proper resource management.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> boto3\n<span class=\"token keyword\">from</span> main <span class=\"token keyword\">import</span> create_instances\n<span class=\"token keyword\">from</span> moto <span class=\"token keyword\">import</span> mock_ec2\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">test_create_instances_with_context_manager</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">with</span> mock_ec2<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        instance_count <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        image_id <span class=\"token operator\">=</span> <span class=\"token string\">'ami-02ed82f3a38303e6f'</span>\n        create_instances<span class=\"token punctuation\">(</span><span class=\"token string\">'eu-west-1'</span><span class=\"token punctuation\">,</span> image_id<span class=\"token punctuation\">,</span> instance_count<span class=\"token punctuation\">)</span>\n        client <span class=\"token operator\">=</span> boto3<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">(</span><span class=\"token string\">'ec2'</span><span class=\"token punctuation\">,</span> region_name<span class=\"token operator\">=</span><span class=\"token string\">'eu-west-1'</span><span class=\"token punctuation\">)</span>\n        instances <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>describe_instances<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Reservations'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Instances'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">assert</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>instances<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> instance_count\n        <span class=\"token keyword\">assert</span> instances<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'ImageId'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> image_id</code></pre></div>\n<h2 id=\"-raw-approach\" style=\"position:relative;\"><a href=\"#-raw-approach\" aria-label=\" raw approach permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üß© Raw Approach</h2>\n<p>For explicit control over the Moto mock environment, the raw approach is demonstrated in the Ireland region. Manually starting and stopping the mock using <code class=\"language-text\">mock.start()</code> and <code class=\"language-text\">mock.stop()</code> provides flexibility, as shown in the following example.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> boto3\n<span class=\"token keyword\">from</span> main <span class=\"token keyword\">import</span> create_instances\n<span class=\"token keyword\">from</span> moto <span class=\"token keyword\">import</span> mock_ec2\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">test_create_instances_raw</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    mock <span class=\"token operator\">=</span> mock_ec2<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    mock<span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    instance_count <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    image_id <span class=\"token operator\">=</span> <span class=\"token string\">'ami-02ed82f3a38303e6f'</span>\n    create_instances<span class=\"token punctuation\">(</span><span class=\"token string\">'eu-west-1'</span><span class=\"token punctuation\">,</span> image_id<span class=\"token punctuation\">,</span> instance_count<span class=\"token punctuation\">)</span>\n    client <span class=\"token operator\">=</span> boto3<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">(</span><span class=\"token string\">'ec2'</span><span class=\"token punctuation\">,</span> region_name<span class=\"token operator\">=</span><span class=\"token string\">'eu-west-1'</span><span class=\"token punctuation\">)</span>\n    instances <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>describe_instances<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Reservations'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Instances'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">assert</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>instances<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> instance_count\n    <span class=\"token keyword\">assert</span> instances<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'ImageId'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> image_id\n    mock<span class=\"token punctuation\">.</span>stop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<h2 id=\"-local-lambda-testing\" style=\"position:relative;\"><a href=\"#-local-lambda-testing\" aria-label=\" local lambda testing permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üé© Local Lambda Testing</h2>\n<p>Moto uses decorators to intercept and simulate responses to and from AWS resources. By adding a decorator for a given AWS service, subsequent calls from the module to that service will be re-directed to the mock.</p>\n<p>In this section, we'll couple the Moto library and pytest framework to have clean and scalable unit tests. Let's test a serverless app using Pytest and Moto. Our goal? Check if a piece of code (AWS Lambda) works right. We'll focus on the Lambda function, not AWS services. We'll use Pytest for testing and Moto to pretend AWS services. This keeps tests clear and reliable.</p>\n<h3 id=\"-lambda-function-code\" style=\"position:relative;\"><a href=\"#-lambda-function-code\" aria-label=\" lambda function code permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìÑ Lambda Function Code</h3>\n<p>This file (<code class=\"language-text\">main.py</code>) contains the main Lambda function (<code class=\"language-text\">lambda_handler</code>) that manipulates data and uploads it to an S3 bucket. It utilizes the Boto3 library to interact with AWS services.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> boto3\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">lambda_handler</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Sample Lambda function that manipulates data and uploads to S3</span>\n    data_to_upload <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, Moto!\"</span>\n\n    <span class=\"token comment\"># AWS S3 Configuration</span>\n    s3_bucket <span class=\"token operator\">=</span> <span class=\"token string\">\"your-s3-bucket\"</span>\n    s3_key <span class=\"token operator\">=</span> <span class=\"token string\">\"example.txt\"</span>\n\n    <span class=\"token comment\"># Upload to S3</span>\n    s3 <span class=\"token operator\">=</span> boto3<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">(</span><span class=\"token string\">\"s3\"</span><span class=\"token punctuation\">)</span>\n    s3<span class=\"token punctuation\">.</span>put_object<span class=\"token punctuation\">(</span>Body<span class=\"token operator\">=</span>data_to_upload<span class=\"token punctuation\">,</span> Bucket<span class=\"token operator\">=</span>s3_bucket<span class=\"token punctuation\">,</span> Key<span class=\"token operator\">=</span>s3_key<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"statusCode\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"body\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Data uploaded to S3 successfully.\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"Ô∏è-pytest-configuration\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-pytest-configuration\" aria-label=\"Ô∏è pytest configuration permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Pytest Configuration</h3>\n<p><code class=\"language-text\">conftest.py</code> serves as a configuration file for Pytest. In this example, it defines two fixtures:</p>\n<ul>\n<li><strong>aws_credentials</strong>: A fixture to set up mocked AWS credentials using environment variables.</li>\n<li><strong>s3_mock</strong>: A fixture that uses Moto's <code class=\"language-text\">mock_s3</code> context manager to mock the S3 service. It depends on the <code class=\"language-text\">aws_credentials</code> fixture to ensure mocked credentials are available.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pytest\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">from</span> moto <span class=\"token keyword\">import</span> mock_s3\n\n<span class=\"token decorator annotation punctuation\">@pytest<span class=\"token punctuation\">.</span>fixture</span><span class=\"token punctuation\">(</span>scope<span class=\"token operator\">=</span><span class=\"token string\">'function'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">aws_credentials</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Mocked AWS Credentials for Moto</span>\n    os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">[</span><span class=\"token string\">'AWS_ACCESS_KEY_ID'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'fake-access-key'</span>\n    os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">[</span><span class=\"token string\">'AWS_SECRET_ACCESS_KEY'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'fake-secret-key'</span>\n    os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">[</span><span class=\"token string\">'AWS_SECURITY_TOKEN'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'fake-security-token'</span>\n    os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">[</span><span class=\"token string\">'AWS_SESSION_TOKEN'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'fake-session-token'</span>\n\n<span class=\"token decorator annotation punctuation\">@pytest<span class=\"token punctuation\">.</span>fixture</span><span class=\"token punctuation\">(</span>scope<span class=\"token operator\">=</span><span class=\"token string\">'function'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">s3_mock</span><span class=\"token punctuation\">(</span>aws_credentials<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">with</span> mock_s3<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">yield</span> boto3<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">(</span><span class=\"token string\">'s3'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"-unit-test\" style=\"position:relative;\"><a href=\"#-unit-test\" aria-label=\" unit test permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üß™ Unit Test</h3>\n<p><code class=\"language-text\">test_main.py</code> is a Pytest test file that contains a single unit test (<code class=\"language-text\">test_lambda_handler</code>). This test checks if the Lambda function in <code class=\"language-text\">main.py</code> successfully uploads a file to an S3 bucket. It uses the <code class=\"language-text\">s3_mock</code> and <code class=\"language-text\">aws_credentials</code> fixtures from <code class=\"language-text\">conftest.py</code> to set up the required mocking environment.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pytest\n<span class=\"token keyword\">import</span> boto3\n<span class=\"token keyword\">from</span> main <span class=\"token keyword\">import</span> lambda_handler\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">test_lambda_handler</span><span class=\"token punctuation\">(</span>s3_mock<span class=\"token punctuation\">,</span> aws_credentials<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Event and Context are not used in this example</span>\n    event <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\"># Invoke the Lambda function</span>\n    response <span class=\"token operator\">=</span> lambda_handler<span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># Check if the S3 object was created successfully</span>\n    <span class=\"token keyword\">assert</span> response<span class=\"token punctuation\">[</span><span class=\"token string\">\"statusCode\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">200</span>\n\n    <span class=\"token comment\"># Check if the object exists in S3</span>\n    objects <span class=\"token operator\">=</span> s3_mock<span class=\"token punctuation\">.</span>list_objects<span class=\"token punctuation\">(</span>Bucket<span class=\"token operator\">=</span><span class=\"token string\">'your-s3-bucket'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">assert</span> objects<span class=\"token punctuation\">[</span><span class=\"token string\">\"Contents\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"Key\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"example.txt\"</span></code></pre></div>\n<h3 id=\"-running-the-unit-tests\" style=\"position:relative;\"><a href=\"#-running-the-unit-tests\" aria-label=\" running the unit tests permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ Running the Unit Tests</h3>\n<p>The unit testing framework can be run using the Python <code class=\"language-text\">pytest</code> utility. To ensure network isolation and verify the unit tests are not accidentally connecting to AWS resources, the <a href=\"https://pypi.org/project/pytest-socket/\" target=\"_blank\" rel=\"noopener noreferrer\">pytest-socket</a> project provides the ability to disable network communication during a test.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">pytest <span class=\"token parameter variable\">-v</span> --disable-socket <span class=\"token parameter variable\">-s</span> test_main.py</code></pre></div>\n<p>The <code class=\"language-text\">pytest</code> command results in a PASSED or FAILED status for each test. A PASSED status verifies that your unit tests, as written, did not encounter errors or issues.</p>\n<h3 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìå Conclusion</h3>\n<p>In this guide, we explored some ways for mocking AWS responses with Moto, offering a swift and cost-free approach to testing Python code. When paired with Pytest, it delivers scalable and tidy unit tests specifically tailored for AWS interactions.</p>\n<h3 id=\"-what-next\" style=\"position:relative;\"><a href=\"#-what-next\" aria-label=\" what next permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîç What Next?</h3>\n<p>You can keep an eye on this <a href=\"https://github.com/seifrajhi/Python-AWS-Lambda-Testing\" target=\"_blank\" rel=\"noopener noreferrer\">repository</a> as I continue to develop it and add more use cases and integrations!</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":5,"rawMarkdownBody":"\n> **Quality Assurance and Resilience of AWS Lambda with Moto üöÅ‚ú®**\n\n## üìç Introduction\n\nWhen developing [serverless](https://www.cloudflare.com/en-gb/learning/serverless/what-is-serverless/) [event-driven](https://en.wikipedia.org/wiki/Event-driven_architecture) applications with AWS Lambda, ensuring the reliability and functionality of individual components is important.\n\n[Unit testing](https://www.techtarget.com/searchsoftwarequality/definition/unit-testing) serves as a fundamental practice to swiftly identify and isolate potential issues within [AWS Lambda function](https://aws.amazon.com/lambda/features/) code.\n\nThis blog post explores the application of unit testing techniques for Python-based AWS Lambda functions, particularly focusing on interactions with various AWS services. In this context, the [Moto](https://github.com/getmoto/moto/tree/master) library emerges as a valuable tool for simulating AWS resources, enabling the testing of Python code that interfaces with services such as [DynamoDB](https://aws.amazon.com/dynamodb/features/) and [S3](https://aws.amazon.com/s3/features/).\n\nThrough the integration of Moto with [pytest](https://github.com/pytest-dev/pytest), this post aims to provide insights into effectively testing Python-based AWS Lambda functions.\n\n![Unit Testing AWS Lambda](./ut.png)\n\n### üõ†Ô∏è What is Moto and Why Use It?\n\nWhen testing code that interacts with cloud services, it's essential to mimic the functionality of those services. However, replicating them completely locally can be challenging. This is where [Moto](https://github.com/getmoto/moto), a library that allows mocking AWS services, comes into play.\n\nMoto is particularly useful when testing Python code that interacts with AWS services like DynamoDB, S3, and others. It enables developers to simulate AWS resources, making it easier to test code that interfaces with various AWS services.\n\nBy using Moto in combination with [pytest](https://docs.pytest.org/en/6.2.x/), developers can ensure comprehensive testing of their Python code, thereby enhancing the reliability and quality of their applications.\n\nMoto has gained recognition for its ability to simplify testing in the cloud, making it a valuable tool for developers working on serverless applications. By using Moto, developers can test their code without the need to directly access real AWS resources, ultimately streamlining the testing process and contributing to the overall robustness of their applications.\n\n\n![UT AWS Lambda](./graph.png)\n\n## üß© Decorator Approach\n\nThe decorator approach simplifies AWS service mocking using Moto in the `eu-west-1` region. The `@mock_ec2` decorator encapsulates the test function, ensuring automatic management of the Moto mock environment for seamless testing.\n\n```python\nimport boto3\nfrom moto import mock_ec2\nfrom main import create_instances\n\n@mock_ec2\ndef test_create_instances_with_decorator(self):\n    instance_count = 1\n    image_id = 'ami-02ed82f3a38303e6f'\n    create_instances('eu-west-1', image_id, instance_count)\n    client = boto3.client('ec2', region_name='eu-west-1')\n    instances = client.describe_instances()['Reservations'][0]['Instances']\n    assert len(instances) == instance_count\n    assert instances[0]['ImageId'] == image_id\n```\n\n## üß© Context Manager Approach\n\nIn the Ireland region, the context manager-based approach facilitates AWS service mocking with Moto. Utilizing `with mock_ec2():`, the test logic within the block benefits from the active Moto mock environment, maintaining clarity and proper resource management.\n\n```python\nimport boto3\nfrom main import create_instances\nfrom moto import mock_ec2\n\ndef test_create_instances_with_context_manager(self):\n    with mock_ec2():\n        instance_count = 1\n        image_id = 'ami-02ed82f3a38303e6f'\n        create_instances('eu-west-1', image_id, instance_count)\n        client = boto3.client('ec2', region_name='eu-west-1')\n        instances = client.describe_instances()['Reservations'][0]['Instances']\n        assert len(instances) == instance_count\n        assert instances[0]['ImageId'] == image_id\n```\n\n## üß© Raw Approach\n\nFor explicit control over the Moto mock environment, the raw approach is demonstrated in the Ireland region. Manually starting and stopping the mock using `mock.start()` and `mock.stop()` provides flexibility, as shown in the following example.\n\n```python\nimport boto3\nfrom main import create_instances\nfrom moto import mock_ec2\n\ndef test_create_instances_raw(self):\n    mock = mock_ec2()\n    mock.start()\n    instance_count = 1\n    image_id = 'ami-02ed82f3a38303e6f'\n    create_instances('eu-west-1', image_id, instance_count)\n    client = boto3.client('ec2', region_name='eu-west-1')\n    instances = client.describe_instances()['Reservations'][0]['Instances']\n    assert len(instances) == instance_count\n    assert instances[0]['ImageId'] == image_id\n    mock.stop()\n```\n\n\n---\n\n## üé© Local Lambda Testing\n\nMoto uses decorators to intercept and simulate responses to and from AWS resources. By adding a decorator for a given AWS service, subsequent calls from the module to that service will be re-directed to the mock.\n\nIn this section, we'll couple the Moto library and pytest framework to have clean and scalable unit tests. Let's test a serverless app using Pytest and Moto. Our goal? Check if a piece of code (AWS Lambda) works right. We'll focus on the Lambda function, not AWS services. We'll use Pytest for testing and Moto to pretend AWS services. This keeps tests clear and reliable.\n\n### üìÑ Lambda Function Code\n\nThis file (`main.py`) contains the main Lambda function (`lambda_handler`) that manipulates data and uploads it to an S3 bucket. It utilizes the Boto3 library to interact with AWS services.\n\n```python\nimport boto3\n\ndef lambda_handler(event, context):\n    # Sample Lambda function that manipulates data and uploads to S3\n    data_to_upload = \"Hello, Moto!\"\n\n    # AWS S3 Configuration\n    s3_bucket = \"your-s3-bucket\"\n    s3_key = \"example.txt\"\n\n    # Upload to S3\n    s3 = boto3.client(\"s3\")\n    s3.put_object(Body=data_to_upload, Bucket=s3_bucket, Key=s3_key)\n\n    return {\"statusCode\": 200, \"body\": \"Data uploaded to S3 successfully.\"}\n```\n\n### üõ†Ô∏è Pytest Configuration\n\n`conftest.py` serves as a configuration file for Pytest. In this example, it defines two fixtures:\n\n- **aws_credentials**: A fixture to set up mocked AWS credentials using environment variables.\n- **s3_mock**: A fixture that uses Moto's `mock_s3` context manager to mock the S3 service. It depends on the `aws_credentials` fixture to ensure mocked credentials are available.\n\n```python\nimport pytest\nimport os\nfrom moto import mock_s3\n\n@pytest.fixture(scope='function')\ndef aws_credentials():\n    # Mocked AWS Credentials for Moto\n    os.environ['AWS_ACCESS_KEY_ID'] = 'fake-access-key'\n    os.environ['AWS_SECRET_ACCESS_KEY'] = 'fake-secret-key'\n    os.environ['AWS_SECURITY_TOKEN'] = 'fake-security-token'\n    os.environ['AWS_SESSION_TOKEN'] = 'fake-session-token'\n\n@pytest.fixture(scope='function')\ndef s3_mock(aws_credentials):\n    with mock_s3():\n        yield boto3.client('s3')\n```\n\n### üß™ Unit Test\n\n`test_main.py` is a Pytest test file that contains a single unit test (`test_lambda_handler`). This test checks if the Lambda function in `main.py` successfully uploads a file to an S3 bucket. It uses the `s3_mock` and `aws_credentials` fixtures from `conftest.py` to set up the required mocking environment.\n\n```python\nimport pytest\nimport boto3\nfrom main import lambda_handler\n\ndef test_lambda_handler(s3_mock, aws_credentials):\n    # Event and Context are not used in this example\n    event = {}\n    context = {}\n\n    # Invoke the Lambda function\n    response = lambda_handler(event, context)\n\n    # Check if the S3 object was created successfully\n    assert response[\"statusCode\"] == 200\n\n    # Check if the object exists in S3\n    objects = s3_mock.list_objects(Bucket='your-s3-bucket')\n    assert objects[\"Contents\"][0][\"Key\"] == \"example.txt\"\n```\n\n### üöÄ Running the Unit Tests\n\nThe unit testing framework can be run using the Python `pytest` utility. To ensure network isolation and verify the unit tests are not accidentally connecting to AWS resources, the [pytest-socket](https://pypi.org/project/pytest-socket/) project provides the ability to disable network communication during a test.\n\n```sh\npytest -v --disable-socket -s test_main.py\n```\n\nThe `pytest` command results in a PASSED or FAILED status for each test. A PASSED status verifies that your unit tests, as written, did not encounter errors or issues.\n\n### üìå Conclusion\n\nIn this guide, we explored some ways for mocking AWS responses with Moto, offering a swift and cost-free approach to testing Python code. When paired with Pytest, it delivers scalable and tidy unit tests specifically tailored for AWS interactions.\n\n### üîç What Next?\n\nYou can keep an eye on this [repository](https://github.com/seifrajhi/Python-AWS-Lambda-Testing) as I continue to develop it and add more use cases and integrations!\n\n<br>\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  _**Until next time üéâ**_\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":827},"frontmatter":{"id":"d837800e43e69bcae9a1a4be","path":"/blog/unit-testing-aws-lambda-moto/","humanDate":"Oct 20, 2024","fullDate":"2024-10-20","title":"Unit Testing AWS Lambda with Python and Mock AWS Services Using Moto üìà","keywords":["AWS Lambda","Unit testing","Python","Moto","Mock AWS services"],"excerpt":"Ensure the quality and resilience of your AWS Lambda functions with Python and Moto for effective unit testing.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAMBAv/aAAwDAQACEAMQAAABduRXJnDiZ//EABoQAQEAAgMAAAAAAAAAAAAAAAECAAMREiH/2gAIAQEAAQUC7eTthBeKpzRTRn//xAAXEQEAAwAAAAAAAAAAAAAAAAAAAQIR/9oACAEDAQE/AZqx/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQASE//aAAgBAgEBPwHaXVv/xAAbEAABBAMAAAAAAAAAAAAAAAAhAAIQEhExQf/aAAgBAQAGPwLLgha0b6jH/8QAGxAAAwEAAwEAAAAAAAAAAAAAAAEhETFRYbH/2gAIAQEAAT8hnSigqxRNOjVfBPPTmihLnRiP/9oADAMBAAIAAwAAABBg3//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCFZf/EABcRAQADAAAAAAAAAAAAAAAAAAARIWH/2gAIAQIBAT8Qg2wf/8QAHhABAAICAQUAAAAAAAAAAAAAAQARMUEhYXGBkbH/2gAIAQEAAT8QfENyX2MxksIIW+lQwlHZaWyzRGj3F1I2sJ8JRon/2Q=="},"images":{"fallback":{"src":"/static/ac13cde9802f6a6d3725e9cf50043479/0e3c8/ut-moto-lambda-cover.jpg","srcSet":"/static/ac13cde9802f6a6d3725e9cf50043479/53d53/ut-moto-lambda-cover.jpg 750w,\n/static/ac13cde9802f6a6d3725e9cf50043479/0e3c8/ut-moto-lambda-cover.jpg 800w","sizes":"100vw"},"sources":[{"srcSet":"/static/ac13cde9802f6a6d3725e9cf50043479/ee3fa/ut-moto-lambda-cover.webp 750w,\n/static/ac13cde9802f6a6d3725e9cf50043479/8e613/ut-moto-lambda-cover.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5525}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/semantic-release-version-management/","title":"Automated Version management and Release Strategies with Semantic Release SemVer ‚òÅÔ∏è","date":"2024-10-20 18:06:00"},"excerpt":"Consistency through Semantic Versioning üß© üí¨ Introduction Stay nimble and consistent by automating change communication with Semantic‚Ä¶","html":"<blockquote>\n<p><strong>Consistency through Semantic Versioning üß©</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üí¨ Introduction</h2>\n<p>Stay nimble and consistent by automating change communication with <strong>Semantic Release</strong>‚Ää-‚Ääa powerful tool that follows strict semantic versioning standards.</p>\n<p>By eliminating emotion from version numbers, it fosters transparency, clarity, and efficiency across teams and users. This guide explores how Semantic Release empowers developers at all levels to enhance their release strategies and boost version control.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 18.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVR42iXPa0vDMBiG4f50EUQEBcW/sw9TRITZrn6wB2vX1kybHtK6RUuTHh7T10BIcnMlEOvV32PjMAjRYBlFIWBvGd5jhmkaMY0DvOATjstQ1YJMbazt7qkPWpMLoy84LwxWvMvxvE3QdR1hKX/Mgwk+GMf/mLFLC2pS/lJZrO2miBOOeZ7IZKwyJoa1Wie4uPXRtiU4L9EIjrNrD+uHDIfvivr9Y4LTKw9tUyLPS9M5zm88rO4yHA8V9adNipPLEFZRHhFEDbRWUEpBqx7+mzDfkxgGbaaivRfWZPpe0RpEAsvd0ZjlLJrFCPwBW1EmnxbMX8oAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"semver\" title=\"\" src=\"/static/cadb56172c4000977827643b7a263a5c/c5bb3/semver.png\" srcset=\"/static/cadb56172c4000977827643b7a263a5c/04472/semver.png 170w,\n/static/cadb56172c4000977827643b7a263a5c/9f933/semver.png 340w,\n/static/cadb56172c4000977827643b7a263a5c/c5bb3/semver.png 680w,\n/static/cadb56172c4000977827643b7a263a5c/5a190/semver.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-semantic-versioning-and-conventional-commits\" style=\"position:relative;\"><a href=\"#-semantic-versioning-and-conventional-commits\" aria-label=\" semantic versioning and conventional commits permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìö Semantic Versioning and Conventional Commits</h2>\n<p>Before we jump into Semantic Release, there are two important concepts to understand:</p>\n<ol>\n<li><strong>Semantic Versioning</strong></li>\n<li><strong>Conventional Commits</strong></li>\n</ol>\n<p>Let's briefly explain what these two mean.</p>\n<h3 id=\"-semantic-versioning\" style=\"position:relative;\"><a href=\"#-semantic-versioning\" aria-label=\" semantic versioning permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìà Semantic Versioning</h3>\n<p>Semantic Versioning (also called <strong>SemVer</strong>) is an automated versioning and release management approach that follows semantic versioning principles to increment software versions based on the nature of changes (major, minor, patch) by analyzing commit messages. This ensures consistent and predictable versioning and often integrates with CI/CD pipelines to streamline the release process and reduce manual efforts.</p>\n<p>This follows a strict pattern that can be used to show what kind of changes and how impactful the changes are.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 37.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRElEQVR42qVSj0vCQBi9////yDIkqBk5lhj5Y4ZOyeVmKG6u5dzUnEHb3Ha+vDNFyiDoweO++7533937OLJarRCGIaIo4gyCAAzr9RqHSJLkR45SuteyepqmILlcDkqjgWqlArEgoi3XUL0rQcjnIUkSdF2DKIrIZDIQBIHz5PQM8q2ETuEaF5dXKNzc4DybRWXTgwx6PczHr5hNHAyedbibtVQsotvVoKpPcF0Pmq5DUVpoNhXIch335TI0VYVnWajV67zGtMOhAQJmJYlBU2aJ8ufTL7I43djaxZxbjzzHamzP9XR7lkQ9DbFjI56a8KYvcOb2fi47Miz8dxgjG/bY5etHEO7neKglsfKA2DYQWR2MPQOm08dvoN8uOQZiD/pYzKZ48xyMLBPLpY//gDxuhmuYBpzJBK1WG0vfP/pt/trwEwcoWySkntxFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"semver-format\" title=\"\" src=\"/static/530cfeb5c82819388371dad8e581271f/c5bb3/semver-format.png\" srcset=\"/static/530cfeb5c82819388371dad8e581271f/04472/semver-format.png 170w,\n/static/530cfeb5c82819388371dad8e581271f/9f933/semver-format.png 340w,\n/static/530cfeb5c82819388371dad8e581271f/c5bb3/semver-format.png 680w,\n/static/530cfeb5c82819388371dad8e581271f/5a190/semver-format.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<ul>\n<li><strong>Major (X)</strong>: Indicates a complete version change that alters the product significantly.</li>\n<li><strong>Minor (Y)</strong>: Represents a feature increase that is backward compatible with previous changes.</li>\n<li><strong>Patch (Z)</strong>: Small fixes and bug resolutions.</li>\n<li><strong>Pre-Release+Build</strong>: Optionally used for building a version from a feature branch. This can utilize the existing version and suffix it with either the branch name or the build version. Example: <code class=\"language-text\">1.2.3-myNewFeature-35923</code></li>\n</ul>\n<p>For more details, you can refer to the <a href=\"https://semver.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Semantic Versioning Specification</a>.</p>\n<h2 id=\"conventional-commits\" style=\"position:relative;\"><a href=\"#conventional-commits\" aria-label=\"conventional commits permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Conventional Commits</h2>\n<p>Conventional commit is a specification, a set of rules that have to be followed when writing commit messages. It is heavily inspired by <a href=\"https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\" target=\"_blank\" rel=\"noopener noreferrer\">Angular commit guidelines</a> and follows this structure</p>\n<p>For more information, visit the <a href=\"https://www.conventionalcommits.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Conventional Commits</a> website.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 53.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdy6QD//xAAVEAEBAAAAAAAAAAAAAAAAAAAgQf/aAAgBAQABBQKn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFRABAQAAAAAAAAAAAAAAAAAAIEH/2gAIAQEABj8Cq//EABgQAAIDAAAAAAAAAAAAAAAAAAABESAx/9oACAEBAAE/IZwFX//aAAwDAQACAAMAAAAQIA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAABBQEAAAAAAAAAAAAAAAABABARMVEh/9oACAEBAAE/ELNM4pC2Ah//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"commit-conventional\" title=\"\" src=\"/static/355357ed273da8ef13dd38a1eb8abbf5/828fb/commit-conventional.jpg\" srcset=\"/static/355357ed273da8ef13dd38a1eb8abbf5/651be/commit-conventional.jpg 170w,\n/static/355357ed273da8ef13dd38a1eb8abbf5/d30a3/commit-conventional.jpg 340w,\n/static/355357ed273da8ef13dd38a1eb8abbf5/828fb/commit-conventional.jpg 630w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>When using this, only type and description are mandatory, while the rest is optional. The value of type is important and needs to be only one of the following:\nfeat: A new feature\nfix: A bug fix\ndocs: Documentation only changes\nstyle: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)\nrefactor: A code change that neither fixes a bug nor adds a feature\nperf: A code change that improves performance\ntest: Adding missing or correcting existing tests\nchore: Changes to the build process or auxiliary tools and libraries, such as documentation generation</p>\n<p>Below are some sample commits made using this specification -\nfeat(logging): added logs for failed signups\nfix(homepage): fixed image gallery\ntest(homepage): updated tests\ndocs(readme): added new logging table information</p>\n<p>To ensure adherence to these conventions in your projects, tools such as <a href=\"https://github.com/conventional-changelog/commitlint\" target=\"_blank\" rel=\"noopener noreferrer\">commitlint</a> and <a href=\"https://commitizen.github.io/cz-cli/\" target=\"_blank\" rel=\"noopener noreferrer\">commitizen</a> can be immensely helpful. If you would like to learn more about this, read here‚Ää- <a href=\"https://medium.com/yasser-dev/automate-and-enforce-conventional-commits-for-net-based-projects-a322be7a1eb7\" target=\"_blank\" rel=\"noopener noreferrer\">Automate and enforce conventional commits for¬†.NET-based projects</a>.</p>\n<h2 id=\"-how-to-use-semver\" style=\"position:relative;\"><a href=\"#-how-to-use-semver\" aria-label=\" how to use semver permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ How to Use SemVer</h2>\n<p>What we want to do is use the SemVer formatting and schema definition to identify what sprint version of the build is deployed with what features and/or hotfix version.</p>\n<p>For the latter, we will use a simple branching strategy where all features are developed on branches <code class=\"language-text\">feature/{ticket-name}</code> and hotfixes are developed on <code class=\"language-text\">hotfix/{ticket-name}</code>. These will then use a Pull Request into the main branch, which in this case will be where we would release from.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25.882352941176467%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA30lEQVR42n2P227DMAxD+///WBToGqxN7SRtfJUvZ4ox7GEDJkAQTVukeULLupnbeqHUQoiB0kWx4JzD7Y5GIaao2FNKIvqXvilIzYhEwmoHbr1yOgRf25vnwxyQfXNIEnLKPKeF4CK1VPzbk6NQRQjLQmuNWisSI2nb9NwHd0o58fw0TJc73ochsK8e9wrsi//BYY8UKSreCHYdprpPXDeKmhflh6C1lnmeMdZgjFHXxn/lpw/tG7JYou4lnS3n0b1+R/5T/VcfQyPd7w+u5zPT9cqqsfVbyjd67+NeAV99ZIUu1BxnVAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"usage\" title=\"\" src=\"/static/f927f9c47f3f35b29a8d3854456e203d/c5bb3/usage.png\" srcset=\"/static/f927f9c47f3f35b29a8d3854456e203d/04472/usage.png 170w,\n/static/f927f9c47f3f35b29a8d3854456e203d/9f933/usage.png 340w,\n/static/f927f9c47f3f35b29a8d3854456e203d/c5bb3/usage.png 680w,\n/static/f927f9c47f3f35b29a8d3854456e203d/5a190/usage.png 800w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-branching-pattern\" style=\"position:relative;\"><a href=\"#-branching-pattern\" aria-label=\" branching pattern permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üåø Branching Pattern</h3>\n<p>Taking that into account, we will have all bug fixes increment the <strong>Patch</strong> digit, and the new features increment the <strong>Minor</strong>. This will mean every change that is merged into the main branch will have a unique version. We will then have the <strong>Major</strong> that will be incremented manually for each major release you put out for the product.</p>\n<h3 id=\"Ô∏è-how-does-it-work\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-how-does-it-work\" aria-label=\"Ô∏è how does it work permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚öôÔ∏è How Does It Work</h3>\n<p>Semantic release works by automating the process of determining when and how to increment a software version and when to make a new release. Here's a simplified overview of how it works:</p>\n<ol>\n<li><strong>Commit Messages</strong>: Developers follow conventional commit messages to indicate the nature of their changes. For example, using specific keywords like \"feat\" for new features, \"fix\" for bug fixes, and \"break\" for breaking changes.</li>\n<li><strong>Semantic Versioning</strong>: The semantic release tool analyzes these commit messages and identifies the type of change. In our example, \"feat\" represents a minor change, \"fix\" is a patch change, and \"break\" signifies a major change.</li>\n<li><strong>Release Notes</strong>: The tool extracts information from commit messages to generate release notes.</li>\n<li><strong>Changelog Generation</strong>: The semantic release tool parses these commit messages to generate a changelog that summarizes the changes in a user-friendly format. It groups the changes by the type of commit (e.g., new features, bug fixes, breaking changes).</li>\n<li><strong>Publishing</strong>: With the version and release notes ready, the tool can automatically publish the new release to a package repository or distribution channel.</li>\n<li><strong>CI/CD Integration</strong>: This entire process can be integrated into your CI/CD pipeline. So, whenever developers push new commits or merge in the main branch, the semantic release tool can automatically determine the version, generate release notes, and publish the release without manual intervention.</li>\n</ol>\n<p>Semantic release uses the commit messages to determine the type of changes in the codebase. Following formalized conventions for commit messages, semantic release automatically determines the next semantic version number, generates a changelog, and publishes the release.</p>\n<h3 id=\"Ô∏è-configuring-semantic-release-with-github-actions\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-configuring-semantic-release-with-github-actions\" aria-label=\"Ô∏è configuring semantic release with github actions permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Configuring Semantic Release with GitHub Actions</h3>\n<p>Configuring semantic release with GitHub actions is a simple process. Here, we are using <code class=\"language-text\">cycjimmy/semantic-release-action@v2</code> action, which supports a wide variety of optional features via its plugins‚Ää-‚Äägit, exec, and changelog.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">publish</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> build <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\n            <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Semantic Release\n            <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> cycjimmy/semantic<span class=\"token punctuation\">-</span>release<span class=\"token punctuation\">-</span>action@v2\n            <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">extra_plugins</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n                    @semantic-release/git\n                    @semantic-release/exec\n                    @semantic-release/changelog </span>\n            <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest</code></pre></div>\n<p>The <code class=\"language-text\">semantic-release/exec</code> plugin allows us to execute any custom shell commands at the different stages of semantic release, that is, prepare, publish, notify, etc.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">branches</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'main'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"verifyConditions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@semantic-release/github\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"prepare\"</span><span class=\"token operator\">:</span> <span class=\"token comment\">// INSERT-CUSTOM-COMMANDS-HERE-TO-RUN-ON-PREPARE,</span>\n    <span class=\"token string-property property\">\"publish\"</span><span class=\"token operator\">:</span> <span class=\"token comment\">// INSERT-CUSTOM-COMMANDS-HERE-TO-RUN-ON-PUBLISH,</span>\n    <span class=\"token string-property property\">\"notify\"</span><span class=\"token operator\">:</span> <span class=\"token comment\">// INSERT-CUSTOM-COMMANDS-HERE-TO-RUN-ON-NOTIFY</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Here, we use the familiar <code class=\"language-text\">dotnet build</code>, <code class=\"language-text\">pack</code>, and <code class=\"language-text\">push</code> commands to push new releases to <a href=\"https://www.nuget.org/\" target=\"_blank\" rel=\"noopener noreferrer\">NuGet</a> (package manager for .NET). The generated version number and other release details are easily accessible through <code class=\"language-text\">${nextRelease.xxx}</code>. This section can be used for doing so much more, the possibilities are limitless here.</p>\n<h3 id=\"-revisiting-our-checklist\" style=\"position:relative;\"><a href=\"#-revisiting-our-checklist\" aria-label=\" revisiting our checklist permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìã Revisiting Our Checklist</h3>\n<p>With semantic release successfully implemented, let's revisit our initial checklist to evaluate our progress.</p>\n<ul>\n<li>\n<p>‚úÖ Calculate the new version number based on the commit messages.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFklEQVR42kVR2ZKEIBCztnbOdVRQ5FBAndua//+9bGB2ah9SCV100g2FsCOG6x1xWTHEG4Qa0eoAQdS9R/PHCakmTMzckXs3w4xnKBtzX0JRNgouLMSFhldYv/DihIsNeFGvw4yHi3h+mPWFsP6MMN9hhgmis9geauyODYrjqUWnPdp+RM+khKRd53LjnA0iZhPglYNns2ktaqISGt80+dqW2OyrjOJQSkg1ZLyNEwe0NKhpIFmT1BUNSmGylprrMbBhz1NqjCeJHX2SV56w5yVFaK764X8ds05TN5xO5y1CDu+oX9SxNdjTJ3kVFROG+H6/sDzg5wdceks+djqP0421O9bAs0mTxxyUPkJZBpFrTvtTdRm/zxSZ79bYSs8AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"new-version-calcul\" title=\"\" src=\"/static/863b137ab22ae5396aeade62fedb139d/f058b/new-version-calcul.png\" srcset=\"/static/863b137ab22ae5396aeade62fedb139d/04472/new-version-calcul.png 170w,\n/static/863b137ab22ae5396aeade62fedb139d/9f933/new-version-calcul.png 340w,\n/static/863b137ab22ae5396aeade62fedb139d/f058b/new-version-calcul.png 630w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n</li>\n<li>\n<p>‚úÖ Create git tags for every release.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVR42p1SSU7EMBDM13gQD+Eh3PkCH+CGxInDJJMDJHES746TossjBIfRRBNLpW5v7apqVyklnOoaXafw+Nzi4ekT7+cAjnXD3aNa1xUxRsS04PXD4OVtQm+Wspml4rrdh8r6gFPTYhhnbFtmGfiQYHyEPYAqCLNBTZi1gY8LrBQLErl+BNWyLOj6AcZY5LwWqQes+/MwiH9f3x20MNSzhrVOci2MNfpBQY0TlBoxy14vD0dp4m5TyJJxE1P/43eN8dr+NVQhRDTntngYYyoXc84FZMNvxQcJ5rx0k2ESI7WRhngvsmY454s8WkCplDwKOB/EAp7flWydA73ce700bE+yl39YN2dM01w6zU9Otk6gZU5ml9yUhu1KpjcscCkUSnTCmGvG2gIWohWM9PYWwx/UP6ugRF3VXAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"git-tags\" title=\"\" src=\"/static/338305950e1cc650987c5537bc65f4de/f058b/git-tags.png\" srcset=\"/static/338305950e1cc650987c5537bc65f4de/04472/git-tags.png 170w,\n/static/338305950e1cc650987c5537bc65f4de/9f933/git-tags.png 340w,\n/static/338305950e1cc650987c5537bc65f4de/f058b/git-tags.png 630w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n</li>\n<li>\n<p>‚úÖ Publish a release to GitHub releases &#x26; <a href=\"https://www.nuget.org/\" target=\"_blank\" rel=\"noopener noreferrer\">NuGet</a>.</p>\n</li>\n<li>\n<p>‚úÖ Create release notes &#x26; changelogs automatically.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABFElEQVR42p2Ti26EIBBF/f/v7AoCblQe8tLbAdfExu3aOsnNGIJnnjTruqIo54ycEuycoUnL63wXilB0tuO9Zj8chhHGGMjBgymDGBMFyDVQjBGzT3BhgQ8B3nuE6gMSJXG0Zo9gjK0/PnUEEyMejy8wzvFoWwo2IC8rQlxqoHJv8+k98JA8+jGC9w6i6yBVDyklrLX4ZG9L3k3JDoy1NfKWSaTyPPU2wPmMKzsBJ60hhETfP6HpO5R++ZmAEZZ6+H/gpMG5qFA9TQSiyfvl1wlfAhX1rW1ZBRbvqFRPw1jvAsv6ME4DkQriDwO5BDrnKkipDdgJQTvo7wPL0o7jWMHWksg7N/9YjU86AcsLKLD63G7YNw9asECszVSTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"github-release\" title=\"\" src=\"/static/2d490bea6553888a91e709d042bdebb3/f058b/release-notes.png\" srcset=\"/static/2d490bea6553888a91e709d042bdebb3/04472/release-notes.png 170w,\n/static/2d490bea6553888a91e709d042bdebb3/9f933/release-notes.png 340w,\n/static/2d490bea6553888a91e709d042bdebb3/f058b/release-notes.png 630w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n</li>\n<li>\n<p>‚úÖ Notify maintainers and users of new releases.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 47.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR42o1S2W7DIBD0//9cH/uUNpITn5wG4nB5umCnaps8FGm0GLPD7Ow2o1rRyxU+REyMg3EJJiSUNtDGUVygF1thrKvn1q0IMdWcv2jOo8EnoXxc+wmXbqA4YiZiIRd6RNADClxoSCIre6EWrD7idg9PaHAsHzwYG2GthXMOxhgopeFuNzorqiyk5BB8qvdzzti27QnNdhAGf0d3OVPJgpRJzGxG3/d1P85kg7QUSe08HhmPzN/rW2FKGctiIASH1orUUZlsIu8WCJsrRhVh7q+JnghjjOCkruMe58njykONE1f4eH8j9e2h65+EOW8IIVD3MkLaEAk+ZHoowVlqwrruhBt2v4DXHj4Iw9H2SKV773dyQkqpkkaKiaqIP1HO6v9YLasKC2tZM43HdWBg2qFtW3TUkH4YdhtojCSNSt93OJ1Oe+OEqFNQfJdS1RkthF8TJro1jUMd8AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"notify\" title=\"\" src=\"/static/b291636823ccd493dce47c4635ac17c5/f058b/notify.png\" srcset=\"/static/b291636823ccd493dce47c4635ac17c5/04472/notify.png 170w,\n/static/b291636823ccd493dce47c4635ac17c5/9f933/notify.png 340w,\n/static/b291636823ccd493dce47c4635ac17c5/f058b/notify.png 630w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n</li>\n</ul>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèÅ Conclusion</h2>\n<p>Semantic-release simplifies versioning. It uses commit messages for version control, produces informative release notes, and integrates smoothly with CI/CD workflows. Adopt semantic-release for streamlined version control and effortless package releases in your development cycle.</p>\n<p><strong>References:</strong></p>\n<ul>\n<li><a href=\"https://semver.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://semver.org/</a></li>\n<li><a href=\"https://www.conventionalcommits.org/en/v1.0.0/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.conventionalcommits.org/en/v1.0.0/</a></li>\n<li><a href=\"https://github.com/semantic-release/semantic-release\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/semantic-release/semantic-release</a></li>\n<li><a href=\"https://github.com/cycjimmy/semantic-release-action\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/cycjimmy/semantic-release-action</a></li>\n</ul>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/aws-eks-workshop-intro/","title":"Hands-on Labs for Amazon EKS: a great intro to learning Amazon EKS","date":"2024-10-19 21:44:00"},"excerpt":"Fun with AWS: Learn AWS EKS Step-by-Step üí¨ üìò Introduction Hey there! Ready to learn EKS? We're diving into the world of Amazon Web‚Ä¶","html":"<blockquote>\n<p><strong>Fun with AWS: Learn AWS EKS Step-by-Step üí¨</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìò Introduction</h2>\n<p>Hey there! Ready to learn EKS? We're diving into the world of Amazon Web Services (AWS) Elastic Kubernetes Service (EKS) with a super cool workshop called <a href=\"https://github.com/aws-samples/eks-workshop-v2\" target=\"_blank\" rel=\"noopener noreferrer\">EKS Workshop</a>. In this blog, we're going to explore this workshop together. We'll learn how to set up a special place in the cloud called a cluster, play with containers, and do some cool tricks with AWS services. The workshop is designed to be easy to follow, and you can choose which parts you want to do. You'll get to practice using Amazon EKS and other AWS tools, like an EKS cluster, to see how they work together. By the end of this blog post, you'll have a good understanding of Amazon EKS and how to use it to manage your applications on AWS.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 495px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 37.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB10lEQVR42j1R30/TUBS+bbeMVTZaChR0bpC1o6UMt86ucz8KG7gJU2Yw4QFI9Akj8UkMiYnRF6KJDxrRkBAM+mD8Nz/PvQ08fDnn3HvOd853DmOpGbCUCaZMgEkqmJwhS0joZNOEcUI2frux1z4hacT1gocgjVEg64g2Rnj5+i2e7Bxg/8UR7gVdHB4dY/h0D8t+hP5wF0FrgN5gB41oC0uVNsr+KjTTpuYGBA8nVNRZYtWw//wVzi9+4/jkI04/f8Xqw5GIP335jm9nF3j3/hQ/zn/h7Ocl3px8wNWff7i8+ouwswnGMlDUuZiQKXo8ujwhpMgJ7msilhSVkCVoYh1SUief8tgtJMdmoBnzsXxem5iMCfnozkoT7koLi+UHsL0GnHIT1lIoJBXsGuZLNbGCvFUVuQ7lFixf5NleKGqmcy7tcwosV6yg3h7Ab2ygEvQEMfd5o7D9CJZbh+UEqLf6KLoB5XThh+so0ptX7SBo9mm3fcwVymKXQrLER2YqbOc+tkZ7aK0NUQ3W0Iw20aUjcLLe4BlqRNTpPhak0fp2LJmNx/XXkvl1ZIJEQVrLw7zrwbjtIGMsYIrs9B0XOl3SzHt0UQuTsyWKS+Ivlc0JEjlt3lz5P4pL6yBYZwjUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Workshop Image\" title=\"\" src=\"/static/833da211fe2f806db7117c68055e31f2/a4d88/workshop.png\" srcset=\"/static/833da211fe2f806db7117c68055e31f2/04472/workshop.png 170w,\n/static/833da211fe2f806db7117c68055e31f2/9f933/workshop.png 340w,\n/static/833da211fe2f806db7117c68055e31f2/a4d88/workshop.png 495w\" sizes=\"(max-width: 495px) 100vw, 495px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-amazon-eks-workshop\" style=\"position:relative;\"><a href=\"#-amazon-eks-workshop\" aria-label=\" amazon eks workshop permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèó Amazon EKS Workshop</h3>\n<p>The Amazon EKS Workshop is built to help users learn about Amazon EKS features and integrations with popular open-source projects. The workshop is abstracted into high-level learning modules, including Networking, Security, Cost Optimization, DevOps Automation, and more. These are further broken down into standalone labs focusing on a particular feature, tool, or use case. For example, you can find a lab for <a href=\"https://karpenter.sh/\" target=\"_blank\" rel=\"noopener noreferrer\">Karpenter</a>, an open-source cluster autoscaler, in the Cost Optimization module. To ensure a consistent and predictable learning experience, the Amazon EKS Workshop closely adheres to the following tenets:</p>\n<h4 id=\"principles\" style=\"position:relative;\"><a href=\"#principles\" aria-label=\"principles permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Principles</h4>\n<ul>\n<li><strong>Modular</strong>: The workshop is made up of standalone modules that can be individually completed, allowing you to start at any module and easily switch between them.</li>\n<li><strong>Consistent sample app</strong>: The workshop uses the same sample retail store application across all modules: AWS Containers Retail Sample.</li>\n<li><strong>Amazon EKS-focused</strong>: Although the workshop covers some Kubernetes basics, it primarily focuses on familiarizing the user with concepts directly related to Amazon EKS.</li>\n<li><strong>Continuously tested</strong>: We automatically test the infrastructure provisioning and CLI steps in the workshop, allowing us to keep the workshop updated and tracking the latest versions of Amazon EKS.</li>\n</ul>\n<h3 id=\"-how-to-get-started-with-the-workshop\" style=\"position:relative;\"><a href=\"#-how-to-get-started-with-the-workshop\" aria-label=\" how to get started with the workshop permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üöÄ How to Get Started with the Workshop</h3>\n<p>We designed the workshop for users with a basic understanding of containers and Kubernetes. As a primer to this workshop, users can learn the basics about containers, Kubernetes, and Amazon EKS with the <a href=\"https://www.youtube.com/playlist?list=PLhr1KZpdzukcYwxz6XJz0LhB1yJYt8g8k\" target=\"_blank\" rel=\"noopener noreferrer\">Learn Kubernetes and EKS playlist</a> hosted on \"Containers from the Couch\".</p>\n<h4 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Prerequisites</h4>\n<ul>\n<li>An active AWS account with administrative permissions</li>\n<li>A basic understanding of containers and Kubernetes</li>\n<li><a href=\"https://learn.hashicorp.com/tutorials/terraform/install-cli\" target=\"_blank\" rel=\"noopener noreferrer\">Terraform v1.3.x</a> (installation instructions here)</li>\n</ul>\n<p>To start the Amazon EKS Workshop, you'll first need to deploy the Amazon EKS cluster environment. To automate these steps, the workshop follows infrastructure as code (IaC) best practices leveraging <a href=\"https://www.terraform.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Terraform</a>, an open-source tool to manage cluster creation and other prerequisites. We decided to use Terraform as a large number of Amazon EKS customers are already using Terraform today, and we expect the workshop to serve as an example for how to configure an Amazon EKS cluster and its various add-ons and integrations.</p>\n<p>Under the hood, Terraform uses <a href=\"https://aws.amazon.com/blogs/containers/introducing-eks-blueprints-for-terraform/\" target=\"_blank\" rel=\"noopener noreferrer\">Amazon EKS Blueprints for Terraform</a>, allowing you to easily bootstrap the Amazon EKS cluster. The workshop cluster is provisioned with a number of these tools and configurations ready to go, including managed node groups, an Amazon Fargate profile, Karpenter, Kubernetes Cluster Autoscaler, Kubecost, Crossplane, various Amazon EKS add-ons, and more. This means you spend less time installing, and more time navigating and learning the workshop material. To learn how to deploy the cluster environment with Terraform, refer to the <a href=\"https://www.eksworkshop.com/020_prerequisites/workspace/\" target=\"_blank\" rel=\"noopener noreferrer\">Getting Started instructions</a> on the Amazon EKS Workshop.</p>\n<h3 id=\"-amazon-eks-workshop-features\" style=\"position:relative;\"><a href=\"#-amazon-eks-workshop-features\" aria-label=\" amazon eks workshop features permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ† Amazon EKS Workshop Features</h3>\n<p>Once your workshop environment is deployed, most of the lab is completed through CLI commands. For every command in the workshop, you can easily left-click anywhere in the instruction to copy the command or press the clipboard on the top right to copy all commands.</p>\n<h4 id=\"kustomize\" style=\"position:relative;\"><a href=\"#kustomize\" aria-label=\"kustomize permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Kustomize</h4>\n<p>Kubernetes is configured using declarative YAML files, and most of the workshop modules include steps to update the cluster's YAML configuration. To streamline the edits for YAML files, we leverage <a href=\"https://kustomize.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Kustomize</a>, an open-source configuration management tool that's built into the <code class=\"language-text\">kubectl</code> CLI. This enables us to not only apply changes easily, but also easily see exactly what has changed.</p>\n<h3 id=\"-environment-reset\" style=\"position:relative;\"><a href=\"#-environment-reset\" aria-label=\" environment reset permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üèó Environment Reset</h3>\n<p>After completing a module, you can easily switch to other modules by running the <code class=\"language-text\">reset-environment</code> command. This command cleans up any artifacts in your cluster and returns it to the initial state. This allows you to easily jump between any module in the workshop, and even clean up an uncompleted module.</p>\n<h3 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîö Conclusion</h3>\n<p>With the new Amazon EKS Workshop, customers now have a reliable and continuously tested hands-on approach to learning about Amazon EKS and its ecosystem of open-source tooling. Get started today with the self-guided experience by using Terraform to deploy the workshop environment and then follow the step-by-step instructions in the standalone workshop modules.</p>\n<ul>\n<li>Get started with the workshop: <a href=\"https://www.eksworkshop.com/\" target=\"_blank\" rel=\"noopener noreferrer\">eksworkshop.com</a></li>\n<li>Learn more about the project and start contributing: <a href=\"https://github.com/aws-samples/eks-workshop-v2\" target=\"_blank\" rel=\"noopener noreferrer\">github.com/aws-samples/eks-workshop-v2</a></li>\n</ul>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}