{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/goldilocks-kubernetes-resource-allocation/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Optimizing Kubernetes Resource Allocation</strong></p>\n</blockquote>\n<h2 id=\"ï¸-introduction\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-introduction\" aria-label=\"ï¸ introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>â˜¸ï¸ Introduction</h2>\n<p>Kubernetes resource requests and limits are two of the most important concepts in Kubernetes, but they can also be some of the most difficult to set correctly. If your requests are too low, your pods will be evicted and your applications will fail. If your requests are too high, you'll be wasting resources and money.</p>\n<p><a href=\"https://github.com/FairwindsOps/goldilocks\" target=\"_blank\" rel=\"noopener noreferrer\">Goldilocks</a> is a utility that can help you identify a starting point for setting your resource requests and limits. It uses the Kubernetes Vertical Pod Autoscaler (VPA) to analyze the current resource usage of your pods and provide recommendations.</p>\n<p>In this post, we'll explain what Goldilocks is and how it works. We'll also show you how to use Goldilocks to set your resource requests and limits just right.</p>\n<h3 id=\"how-can-this-help-with-resource-settings\" style=\"position:relative;\"><a href=\"#how-can-this-help-with-resource-settings\" aria-label=\"how can this help with resource settings permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How can this help with resource settings</h3>\n<p>By using the Kubernetes <a href=\"https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler\" target=\"_blank\" rel=\"noopener noreferrer\">Vertical Pod Autoscaler</a> in recommendation mode, we can see a suggestion for resource requests on each of our apps. This tool creates a VPA for each workload in a namespace and then queries them for information.</p>\n<p>Once your VPAs are in place, you'll see recommendations appear in the Goldilocks dashboard:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrklEQVR42pWRS2/UMBSF8///CWukClagQitYFXUqlWFaKckk2En8jjN553Dj6WvELGDxxc49xyfXN9H26w3izQPSxww85Yh/JUh2Kbr6gGWYMPfjfxH9/HCF28/fkG0f0UoHHEhwLUbdYFD+3yF/VxpE6vo9yk/vYNMYdh/Dsz1mXQFWnmUxIvCX5hTGkiPa3W/w8fsV9nmKnGdgJYM/ODRtfZa2b9B2De39qUb1RlCgqkrESoEZg9/SIifMOMFNc8DS/hkzjEhKibRU5BmP+vSkzQucFIi8EmhAHZNZu4bwEMahVAaF1KHuxle0b4NP2vrFY/sedp6PgTU9Qkd0UJAhTnMIMnHGYOnwaSB14g9I0j1KQbeqFKR2qIfhTaCoqGUyU5EVFc2SQa1f5hx104X6c2BN1xPaUmAOqSw4hWrr4fo3gd7QtejK63yYWWeoUNUNLL2vtTC/6RXuamRSBa958dC60AxpfJH5cQlx9wVeFjB8D014ydFZgdZUaPUpDWlesOAJevCUx5Vl9JdvLpFcX6B4uAfbblDs7jBUGbVcYNH8DMWTdqqvtZFn+APeEUX68Mc+NQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"goldilocks\" title=\"\" src=\"/static/f33bec6050370a9e359e76d5cc147d72/c5bb3/goldilocks.png\" srcset=\"/static/f33bec6050370a9e359e76d5cc147d72/04472/goldilocks.png 170w,\n/static/f33bec6050370a9e359e76d5cc147d72/9f933/goldilocks.png 340w,\n/static/f33bec6050370a9e359e76d5cc147d72/c5bb3/goldilocks.png 680w,\n/static/f33bec6050370a9e359e76d5cc147d72/b12f7/goldilocks.png 1020w,\n/static/f33bec6050370a9e359e76d5cc147d72/b5a09/goldilocks.png 1360w,\n/static/f33bec6050370a9e359e76d5cc147d72/29007/goldilocks.png 1600w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"installation\" style=\"position:relative;\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation</h3>\n<h4 id=\"requirements\" style=\"position:relative;\"><a href=\"#requirements\" aria-label=\"requirements permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Requirements</h4>\n<ul>\n<li><code class=\"language-text\">kubectl</code></li>\n<li>Vertical Pod Autoscaler configured in the cluster</li>\n<li>Some workloads with pods (Goldilocks will monitor any workload controller that includes a PodSpec template (spec.template.spec.containers[] to be specific). This includes Deployments, DaemonSets, and StatefulSets among others.)</li>\n<li><code class=\"language-text\">metrics-server</code> (a requirement of VPA)</li>\n<li><code class=\"language-text\">golang 1.17+</code></li>\n</ul>\n<h4 id=\"installing-vertical-pod-autoscaler\" style=\"position:relative;\"><a href=\"#installing-vertical-pod-autoscaler\" aria-label=\"installing vertical pod autoscaler permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installing Vertical Pod Autoscaler</h4>\n<p>There are multiple ways to install VPA for use with Goldilocks:</p>\n<ul>\n<li>Install using the <code class=\"language-text\">hack/vpa-up.sh</code> script from the <a href=\"https://github.com/kubernetes/autoscaler/blob/master/vertical-pod-autoscaler/hack/vpa-up.sh\" target=\"_blank\" rel=\"noopener noreferrer\">vertical-pod-autoscaler repository</a>.</li>\n<li>Install using the <a href=\"https://github.com/FairwindsOps/charts/tree/master/stable/vpa\" target=\"_blank\" rel=\"noopener noreferrer\">Fairwinds VPA Helm Chart</a>.</li>\n</ul>\n<blockquote>\n<p><strong>Important Note about VPA:</strong>\nThe full VPA install includes the updater and the admission webhook for VPA. Goldilocks only requires the recommender. An admission webhook can introduce unexpected results in a cluster if not planned for properly. If installing VPA using the Goldilocks chart and the VPA sub-chart, only the VPA recommender will be installed. See the <a href=\"https://github.com/FairwindsOps/charts/tree/master/stable/vpa\" target=\"_blank\" rel=\"noopener noreferrer\">VPA chart</a> and the Goldilocks <a href=\"https://github.com/FairwindsOps/charts/blob/master/stable/goldilocks/values.yaml\" target=\"_blank\" rel=\"noopener noreferrer\">values.yaml</a> for more information.\nVPA does not require the use of Prometheus, but it is supported. The use of Prometheus may provide more accurate results.</p>\n</blockquote>\n<h4 id=\"installation-1\" style=\"position:relative;\"><a href=\"#installation-1\" aria-label=\"installation 1 permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Installation</h4>\n<p>First, make sure you satisfy the requirements above.</p>\n<p><strong>Method 1â€Š-â€ŠHelm (preferred):</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">helm repo <span class=\"token function\">add</span> fairwinds-stable https://charts.fairwinds.com/stable\nkubectl create namespace goldilocks\nhelm <span class=\"token function\">install</span> goldilocks <span class=\"token parameter variable\">--namespace</span> goldilocks fairwinds-stable/goldilocks</code></pre></div>\n<p><strong>Method 2â€Š-â€ŠManifests:</strong></p>\n<p>The <a href=\"https://github.com/FairwindsOps/goldilocks/tree/master/hack/manifests\" target=\"_blank\" rel=\"noopener noreferrer\">hack/manifests</a> directory contains collections of Kubernetes YAML definitions for installing the controller and dashboard components in cluster.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">git</span> clone https://github.com/FairwindsOps/goldilocks.git\n<span class=\"token builtin class-name\">cd</span> goldilocks\nkubectl create namespace goldilocks\nkubectl <span class=\"token parameter variable\">-n</span> goldilocks apply <span class=\"token parameter variable\">-f</span> hack/manifests/controller\nkubectl <span class=\"token parameter variable\">-n</span> goldilocks apply <span class=\"token parameter variable\">-f</span> hack/manifests/dashboard</code></pre></div>\n<h4 id=\"enable-namespace\" style=\"position:relative;\"><a href=\"#enable-namespace\" aria-label=\"enable namespace permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Enable Namespace</h4>\n<p>Pick an application namespace and label it like so in order to see some data:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl label ns goldilocks goldilocks.fairwinds.com/enabled<span class=\"token operator\">=</span>true</code></pre></div>\n<p>After that, you should start to see VPA objects in that namespace.</p>\n<h4 id=\"viewing-the-dashboard\" style=\"position:relative;\"><a href=\"#viewing-the-dashboard\" aria-label=\"viewing the dashboard permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Viewing the Dashboard</h4>\n<p>The default installation creates a ClusterIP service for the dashboard. You can access via port forward:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl <span class=\"token parameter variable\">-n</span> goldilocks port-forward svc/goldilocks-dashboard <span class=\"token number\">8080</span>:80</code></pre></div>\n<p>Then open your browser to <a href=\"http://localhost:8080\" target=\"_blank\" rel=\"noopener noreferrer\">http://localhost:8080</a>.</p>\n<h3 id=\"how-accurate-is-goldilocks\" style=\"position:relative;\"><a href=\"#how-accurate-is-goldilocks\" aria-label=\"how accurate is goldilocks permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>How Accurate is Goldilocks?</h3>\n<p>The Goldilocks open-source software is based entirely on the underlying VPA project, specifically the Recommender. In our experience, Goldilocks is a good starting point for setting your resource requests and limits. But every environment is different, and Goldilocks isn't a replacement for tuning your applications to your specific use cases.</p>\n<h2 id=\"-closing-thoughts\" style=\"position:relative;\"><a href=\"#-closing-thoughts\" aria-label=\" closing thoughts permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>ğŸ“ Closing Thoughts</h2>\n<p>So this is how Goldilocks can be used by Developers, SRE, and DevOps teams to calculate the right estimates for all their workloads and also from the FinOps perspective. Please feel free to share your experience while implementing this in your clusters.</p>\n<p><strong>Thank You ğŸ–¤</strong></p>\n<br>\n<p><strong><em>Until next time, ã¤ã¥ã ğŸ‰</em></strong></p>\n<blockquote>\n<p>ğŸ’¡ Thank you for Reading !! ğŸ™ŒğŸ»ğŸ˜ğŸ“ƒ, see you in the next blog.ğŸ¤˜  <strong><em>Until next time ğŸ‰</em></strong></p>\n</blockquote>\n<p>ğŸš€ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>â™»ï¸ LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>â™»ï¸ X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end âœŒğŸ»</strong></p>\n<h1 align=\"center\">ğŸ”° Keep Learning !! Keep Sharing !! ğŸ”°</h1>\n<p><strong>ğŸ“… Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":3,"rawMarkdownBody":"\n> **Optimizing Kubernetes Resource Allocation**\n\n## â˜¸ï¸ Introduction\n\nKubernetes resource requests and limits are two of the most important concepts in Kubernetes, but they can also be some of the most difficult to set correctly. If your requests are too low, your pods will be evicted and your applications will fail. If your requests are too high, you'll be wasting resources and money.\n\n[Goldilocks](https://github.com/FairwindsOps/goldilocks) is a utility that can help you identify a starting point for setting your resource requests and limits. It uses the Kubernetes Vertical Pod Autoscaler (VPA) to analyze the current resource usage of your pods and provide recommendations.\n\nIn this post, we'll explain what Goldilocks is and how it works. We'll also show you how to use Goldilocks to set your resource requests and limits just right.\n\n### How can this help with resource settings\n\nBy using the Kubernetes [Vertical Pod Autoscaler](https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler) in recommendation mode, we can see a suggestion for resource requests on each of our apps. This tool creates a VPA for each workload in a namespace and then queries them for information.\n\nOnce your VPAs are in place, you'll see recommendations appear in the Goldilocks dashboard:\n\n![goldilocks](./goldilocks.png)\n\n### Installation\n\n#### Requirements\n\n- `kubectl`\n- Vertical Pod Autoscaler configured in the cluster\n- Some workloads with pods (Goldilocks will monitor any workload controller that includes a PodSpec template (spec.template.spec.containers[] to be specific). This includes Deployments, DaemonSets, and StatefulSets among others.)\n- `metrics-server` (a requirement of VPA)\n- `golang 1.17+`\n\n#### Installing Vertical Pod Autoscaler\n\nThere are multiple ways to install VPA for use with Goldilocks:\n\n- Install using the `hack/vpa-up.sh` script from the [vertical-pod-autoscaler repository](https://github.com/kubernetes/autoscaler/blob/master/vertical-pod-autoscaler/hack/vpa-up.sh).\n- Install using the [Fairwinds VPA Helm Chart](https://github.com/FairwindsOps/charts/tree/master/stable/vpa).\n\n> **Important Note about VPA:**\n> The full VPA install includes the updater and the admission webhook for VPA. Goldilocks only requires the recommender. An admission webhook can introduce unexpected results in a cluster if not planned for properly. If installing VPA using the Goldilocks chart and the VPA sub-chart, only the VPA recommender will be installed. See the [VPA chart](https://github.com/FairwindsOps/charts/tree/master/stable/vpa) and the Goldilocks [values.yaml](https://github.com/FairwindsOps/charts/blob/master/stable/goldilocks/values.yaml) for more information.\n> VPA does not require the use of Prometheus, but it is supported. The use of Prometheus may provide more accurate results.\n\n#### Installation\n\nFirst, make sure you satisfy the requirements above.\n\n**Method 1â€Š-â€ŠHelm (preferred):**\n\n```sh\nhelm repo add fairwinds-stable https://charts.fairwinds.com/stable\nkubectl create namespace goldilocks\nhelm install goldilocks --namespace goldilocks fairwinds-stable/goldilocks\n```\n\n**Method 2â€Š-â€ŠManifests:**\n\nThe [hack/manifests](https://github.com/FairwindsOps/goldilocks/tree/master/hack/manifests) directory contains collections of Kubernetes YAML definitions for installing the controller and dashboard components in cluster.\n\n```sh\ngit clone https://github.com/FairwindsOps/goldilocks.git\ncd goldilocks\nkubectl create namespace goldilocks\nkubectl -n goldilocks apply -f hack/manifests/controller\nkubectl -n goldilocks apply -f hack/manifests/dashboard\n```\n\n#### Enable Namespace\n\nPick an application namespace and label it like so in order to see some data:\n\n```sh\nkubectl label ns goldilocks goldilocks.fairwinds.com/enabled=true\n```\n\nAfter that, you should start to see VPA objects in that namespace.\n\n#### Viewing the Dashboard\n\nThe default installation creates a ClusterIP service for the dashboard. You can access via port forward:\n\n```sh\nkubectl -n goldilocks port-forward svc/goldilocks-dashboard 8080:80\n```\n\nThen open your browser to [http://localhost:8080](http://localhost:8080).\n\n### How Accurate is Goldilocks?\n\nThe Goldilocks open-source software is based entirely on the underlying VPA project, specifically the Recommender. In our experience, Goldilocks is a good starting point for setting your resource requests and limits. But every environment is different, and Goldilocks isn't a replacement for tuning your applications to your specific use cases.\n\n## ğŸ“ Closing Thoughts\n\nSo this is how Goldilocks can be used by Developers, SRE, and DevOps teams to calculate the right estimates for all their workloads and also from the FinOps perspective. Please feel free to share your experience while implementing this in your clusters.\n\n**Thank You ğŸ–¤**\n\n<br>\n\n**_Until next time, ã¤ã¥ã ğŸ‰_**\n\n> ğŸ’¡ Thank you for Reading !! ğŸ™ŒğŸ»ğŸ˜ğŸ“ƒ, see you in the next blog.ğŸ¤˜  **_Until next time ğŸ‰_**\n\nğŸš€ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**â™»ï¸ LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**â™»ï¸ X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end âœŒğŸ»**\n\n<h1 align=\"center\">ğŸ”° Keep Learning !! Keep Sharing !! ğŸ”°</h1>\n\n**ğŸ“… Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":607},"frontmatter":{"id":"c354d80e5365617e34f18199","path":"/blog/goldilocks-kubernetes-resource-allocation/","humanDate":"Oct 25, 2024","fullDate":"2024-10-25","title":"Goldilocks: The Secret to Setting Kubernetes Resource Requests and Limits Just Right","keywords":["Kubernetes","Resource Allocation","Goldilocks","Optimization"],"excerpt":"Learn how to optimize Kubernetes resource allocation with Goldilocks, ensuring your resource requests and limits are set just right.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUklEQVR42mWQXUsCYRCF9z/0I7sIuu2mu+iqCEHSoBIq0sSs8DM2QrO0rbVME81KV9b9MlNTEzX33dPuimY1MAwzDHOeORTPCUgyaXTaXXT7Gnq9Puq1JlRVhcDLECsKGvUPGKERzaztVgfNRms000azcVBHrhAyqTy2151g7ItQsizocAK0Pwr3rg/xKIuz0CXYxANeC2Xc3WQQO2dw6ovg5akE5ur+98ETdxj+4wgsiyvIzc9AcMzCYvHC5fDCYTuA75DGptUJz34AtrUdeJ1B0MEYFuaWQQcusLq0gcHga0JLFXJFk0KqyIjubcFjtaMi1HAbT+E5X4IkVM23k9dpyGIVKTYLrsiDL4s6IacTP+r2kB/CadyBquGzNzS0zJ7onhFCzNTMnvzz7G9QxpKhYCwSdQilWoMoVyFIyqQaqby9g+MFSPrMuK6NxabojIPfky2wX0iTVZgAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/5bb8dbebc591aa36540f543214932952/32af0/cover.png","srcSet":"/static/5bb8dbebc591aa36540f543214932952/d66de/cover.png 750w,\n/static/5bb8dbebc591aa36540f543214932952/c0419/cover.png 1080w,\n/static/5bb8dbebc591aa36540f543214932952/7a307/cover.png 1366w,\n/static/5bb8dbebc591aa36540f543214932952/32af0/cover.png 1400w","sizes":"100vw"},"sources":[{"srcSet":"/static/5bb8dbebc591aa36540f543214932952/7302d/cover.webp 750w,\n/static/5bb8dbebc591aa36540f543214932952/d9efc/cover.webp 1080w,\n/static/5bb8dbebc591aa36540f543214932952/5d56f/cover.webp 1366w,\n/static/5bb8dbebc591aa36540f543214932952/e1f3a/cover.webp 1400w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.2892857142857143}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/finops-mayfly-kubernetes-ephemeral-resources/","title":"FinOps Best Practices: Using Mayfly Kubernetes Operator for Ephemeral Resources","date":"2024-10-25 15:34:00"},"excerpt":"Optimizing Resources Spend with the Mayfly Kubernetes Operator ğŸ“– Introduction In the world of cloud computing, managing costs can be aâ€¦"},"nextThought":{"frontmatter":{"path":"/blog/data-on-kubernetes-airflow-on-aws-3/","title":"Data on Kubernetes: Part 3â€Š-â€ŠManaging Workflows with Job Schedulers and Batch-Oriented Workflow Orchestrators","date":"2024-10-25 14:06:00"},"excerpt":"Automate and orchestrate data workflows in Kubernetes with Amazon managed Apache Airflow ğŸ”· Introduction Welcome back to this blog series onâ€¦"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}