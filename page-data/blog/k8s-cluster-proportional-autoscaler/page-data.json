{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/k8s-cluster-proportional-autoscaler/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>Easily scale your Kubernetes cluster with CPA¬†‚ôªÔ∏è</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìå Introduction</h2>\n<p>In this blog, we will talk about the <a href=\"https://github.com/kubernetes-sigs/cluster-proportional-autoscaler\" target=\"_blank\" rel=\"noopener noreferrer\">Cluster Proportional Autoscaler (CPA)</a>, a tool that makes it easier to scale your Kubernetes cluster. Unlike traditional autoscalers that rely on metrics like CPU and memory usage, CPA scales your app replicas directly based on the number of nodes or cores in your cluster.</p>\n<p>CPA offers two flexible scaling methods‚Ää‚Äî‚Ää<strong>linear scaling</strong> and <strong>ladder scaling</strong>‚Ää‚Äî‚Ääallowing you to choose the approach that best fits your needs. It also includes helpful features like ensuring a minimum number of replicas, preventing single points of failure, and including unschedulable nodes when scaling.</p>\n<h3 id=\"-cpa-scaling-in-sync-with-your-cluster-size\" style=\"position:relative;\"><a href=\"#-cpa-scaling-in-sync-with-your-cluster-size\" aria-label=\" cpa scaling in sync with your cluster size permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìà CPA: Scaling in Sync with Your Cluster Size</h3>\n<p>If you have a workload that needs to scale in proportion to the size of the cluster itself, the CPA may be appropriate to use. While it has a narrower use-case and is generally useful only for cluster services like DNS, it has a very simple operating model and fewer dependencies.</p>\n<h3 id=\"Ô∏è-how-the-cluster-proportional-autoscaler-works\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-how-the-cluster-proportional-autoscaler-works\" aria-label=\"Ô∏è how the cluster proportional autoscaler works permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚öôÔ∏è How the Cluster Proportional Autoscaler Works</h3>\n<p>CPA is a horizontal pod autoscaler that scales replicas based on the number of nodes in a cluster. The proportional autoscaler container watches over the number of schedulable nodes and cores of a cluster and resizes the number of replicas. This functionality is desirable for applications that need to be autoscaled with the size of the cluster such as CoreDNS and other services that scale with the number of nodes/pods in a cluster.</p>\n<p>CPA has Golang API clients running inside pods that connect to the API Server and polls the number of nodes and cores in the cluster. The scaling parameters and data points are provided via a ConfigMap to the autoscaler and it refreshes its parameters table every poll interval to be up to date with the latest desired scaling parameters. Unlike other autoscalers, CPA does not rely on the Metrics API and does not require the Metrics Server.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 47.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOElEQVR42l2SS0hUURjHr4MFuQp006qIQAi3LlsFrYJa1CooMnrgqFnSKgpKEoKoFrlJGkxLxHyFRT7HyXEcZ4pK8zFilo9xHDXvvXPncWfuPH6dezUKP/jz/87//51zvo9zJG3oLHLrEdSuUtTOUpS2YtSWQpSWIrTWIibrD+F7Woz3SbHID6K8LhR+EarJbYeJtB8l0lEi6g+gDZxCivafZtI1yuA7P309X5h3thBp3ovavA+5eT/Lvn68g34+uyZY8XajNBUIrwDtVQEzfY24P3jw9Hv43tdKtPcEUuT9cVa6y5jtqGGq/RahrjMoLyQUh4TsyCc8cJvpnkcCjwn31iDveKrA4ttyPr2p42tHHT87K9B6jiEl5xzo7nPo3qvIzguCLxMbryJuoZKo+yJbQlc/lpEUXnzHM2uS41eQXZdI+e2kxs6jB54jIUJPGiyt/ia0oZHJ5vgbRjrDwtI6y8ENDMNgd2SyEAzLzC0EicZ0S5PIZQgFF5me+sbCfICYpkAubSGdShCYmWRp8QdpQ9/Ws8Y2RJ6Ia2yuh5gVNSk9ZmlWhxmB9A7HkjnS2X9dRPUsmrh9d4fmILFkFnOe3H+6pAcaiI9dI+G/ie6vRvNUEBwoZ234OmvOSjZHbrA6aGp2wqY2XGXxilhvuuzWnoSvWpxRTmLiofltTqI0iFd7uYdIo40th43xBzacdyV8dXm470kM3cljtFbk9yU8tRIjQjP9X89sRJtsKI35qOL1I10l/AHoLkNkOAG2NQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"CPA Diagram\" title=\"\" src=\"/static/2ab6028af0a3e67df02b410f469668db/c5bb3/cpa.png\" srcset=\"/static/2ab6028af0a3e67df02b410f469668db/04472/cpa.png 170w,\n/static/2ab6028af0a3e67df02b410f469668db/9f933/cpa.png 340w,\n/static/2ab6028af0a3e67df02b410f469668db/c5bb3/cpa.png 680w,\n/static/2ab6028af0a3e67df02b410f469668db/f0551/cpa.png 862w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h3 id=\"-scaling-methods-of-the-cpa\" style=\"position:relative;\"><a href=\"#-scaling-methods-of-the-cpa\" aria-label=\" scaling methods of the cpa permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìä Scaling Methods of the CPA</h3>\n<p>CPA offers two flexible scaling methods:</p>\n<h4 id=\"-linear-scaling\" style=\"position:relative;\"><a href=\"#-linear-scaling\" aria-label=\" linear scaling permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîÑ Linear Scaling</h4>\n<p>This scaling method will scale the application in direct proportion to the number of nodes or cores available in the cluster. Either the <code class=\"language-text\">coresPerReplica</code> or <code class=\"language-text\">nodesPerReplica</code> parameter can be omitted.</p>\n<ul>\n<li>When <code class=\"language-text\">preventSinglePointFailure</code> is set to true, the controller ensures at least 2 replicas if there are more than one node.</li>\n<li>When <code class=\"language-text\">includeUnschedulableNodes</code> is set to true, the replicas will be scaled based on the total number of nodes, otherwise, they will only scale based on the number of schedulable nodes.</li>\n</ul>\n<p>The equation for linear control mode is:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">replicas = max( ceil( cores * 1/coresPerReplica ) , ceil( nodes * 1/nodesPerReplica ) )\nreplicas = min(replicas, max)\nreplicas = max(replicas, min)</code></pre></div>\n<h4 id=\"-ladder-scaling\" style=\"position:relative;\"><a href=\"#-ladder-scaling\" aria-label=\" ladder scaling permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìâ Ladder Scaling</h4>\n<p>This scaling method uses a step function to determine the ratio of nodes:replicas and/or cores:replicas. The step ladder function uses the data points for core and node scaling from the ConfigMap, and the lookup that yields the higher number of replicas will be used as the target scaling number.</p>\n<p>Either the <code class=\"language-text\">coresPerReplica</code> or <code class=\"language-text\">nodesPerReplica</code> parameter can be omitted. Replicas can also be set to 0, unlike in linear mode, which can be used to enable optional features as the cluster grows.</p>\n<p>The ConfigMap for ladder scaling looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">data</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ladder</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token punctuation\">-</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token key atrule\">\"coresToReplicas\"</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">64</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">2048</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">4096</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span> <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token key atrule\">\"nodesToReplicas\"</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">[</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span></code></pre></div>\n<p>By using these flexible scaling methods, CPA allows you to choose the approach that best fits your Kubernetes cluster's needs.</p>\n<h2 id=\"Ô∏è-cpa-vs-hpa\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-cpa-vs-hpa\" aria-label=\"Ô∏è cpa vs hpa permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚öñÔ∏è CPA vs HPA</h2>\n<p>The key differences between <strong>CPA</strong> and the <strong>Horizontal Pod Autoscaler (HPA)</strong> are:</p>\n<ul>\n<li><strong>CPA</strong> scales based on the number of nodes/cores in the cluster, while <strong>HPA</strong> scales based on CPU/memory utilization.</li>\n<li><strong>CPA</strong> does not rely on the Metrics API or Metrics Server, unlike <strong>HPA</strong>.</li>\n<li><strong>CPA</strong> uses a simple control loop to watch cluster size and scale the target workload, while <strong>HPA</strong> is a Kubernetes API resource.</li>\n<li><strong>CPA</strong> is well-suited for cluster services that need to scale with the overall cluster size, while <strong>HPA</strong> is more general-purpose.</li>\n</ul>\n<p>The choice between <strong>CPA</strong> and <strong>HPA</strong> depends on the specific scaling needs of the workloads in your Kubernetes environment. <strong>CPA</strong> provides a more cluster-centric scaling approach, while <strong>HPA</strong> responds to resource utilization metrics.</p>\n<h2 id=\"Ô∏è-hands-on-example\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-hands-on-example\" aria-label=\"Ô∏è hands on example permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ†Ô∏è Hands-on Example</h2>\n<p>In this section, we'll be installing <strong>CPA</strong> using Kustomize manifests. The main part of which is the <strong>Deployment</strong> resource below:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> apps/v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Deployment\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> dns<span class=\"token punctuation\">-</span>autoscaler\n    <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> other\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">k8s-app</span><span class=\"token punctuation\">:</span> dns<span class=\"token punctuation\">-</span>autoscaler\n        <span class=\"token key atrule\">kubernetes.io/cluster-service</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">selector</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">matchLabels</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">k8s-app</span><span class=\"token punctuation\">:</span> dns<span class=\"token punctuation\">-</span>autoscaler\n    <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">k8s-app</span><span class=\"token punctuation\">:</span> dns<span class=\"token punctuation\">-</span>autoscaler\n        <span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">securityContext</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">seccompProfile</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> RuntimeDefault\n                <span class=\"token key atrule\">supplementalGroups</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">65534</span> <span class=\"token punctuation\">]</span>\n                <span class=\"token key atrule\">fsGroup</span><span class=\"token punctuation\">:</span> <span class=\"token number\">65534</span>\n            <span class=\"token key atrule\">nodeSelector</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">kubernetes.io/os</span><span class=\"token punctuation\">:</span> linux\n            <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> autoscaler\n                <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.k8s.io/cpa/cluster<span class=\"token punctuation\">-</span>proportional<span class=\"token punctuation\">-</span>autoscaler<span class=\"token punctuation\">:</span>1.8.5\n                <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n                                <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"20m\"</span>\n                                <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"10Mi\"</span>\n                <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token punctuation\">-</span> /cluster<span class=\"token punctuation\">-</span>proportional<span class=\"token punctuation\">-</span>autoscaler\n                    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>namespace=kube<span class=\"token punctuation\">-</span>system\n                    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>configmap=dns<span class=\"token punctuation\">-</span>autoscaler\n                    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>target=Deployment/coredns\n                    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>default<span class=\"token punctuation\">-</span>params=<span class=\"token punctuation\">{</span>\"linear\"<span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>\"nodesPerReplica\"<span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\"min\"<span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\"max\"<span class=\"token punctuation\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span>\"preventSinglePointFailure\"<span class=\"token punctuation\">:</span><span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span>\"includeUnschedulableNodes\"<span class=\"token punctuation\">:</span><span class=\"token boolean important\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>logtostderr=true\n                    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>v=2\n            <span class=\"token key atrule\">tolerations</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"CriticalAddonsOnly\"</span>\n                <span class=\"token key atrule\">operator</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Exists\"</span>\n            <span class=\"token key atrule\">serviceAccountName</span><span class=\"token punctuation\">:</span> dns<span class=\"token punctuation\">-</span>autoscaler</code></pre></div>\n<p>Then run the following commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">git</span> clone https://github.com/seifrajhi/cpa-eks-demo.git\nkubectl apply <span class=\"token parameter variable\">-f</span> cpa-eks-demo/</code></pre></div>\n<p>This will create a <strong>Deployment</strong> in the <code class=\"language-text\">kube-system</code> namespace which we can inspect:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get deployment dns-autoscaler <span class=\"token parameter variable\">-n</span> other</code></pre></div>\n<p>After <strong>CPA</strong> starts up, it will automatically create a <strong>ConfigMap</strong> we can modify to adjust its configuration:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl describe configmap dns-autoscaler <span class=\"token parameter variable\">-n</span> kube-system</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">Name</span><span class=\"token punctuation\">:</span>         dns<span class=\"token punctuation\">-</span>autoscaler\n<span class=\"token key atrule\">Namespace</span><span class=\"token punctuation\">:</span>    other\n<span class=\"token key atrule\">Labels</span><span class=\"token punctuation\">:</span>       &lt;none<span class=\"token punctuation\">></span>\n<span class=\"token key atrule\">Annotations</span><span class=\"token punctuation\">:</span>  &lt;none<span class=\"token punctuation\">></span>\nData\n====\n<span class=\"token key atrule\">linear</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">---</span><span class=\"token punctuation\">-</span>\n<span class=\"token punctuation\">{</span>'coresPerReplica'<span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>'includeUnschedulableNodes'<span class=\"token punctuation\">:</span><span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span>'nodesPerReplica'<span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>'preventSinglePointFailure'<span class=\"token punctuation\">:</span><span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span>'min'<span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>'max'<span class=\"token punctuation\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span>\n<span class=\"token key atrule\">Events</span><span class=\"token punctuation\">:</span>  &lt;none<span class=\"token punctuation\">></span></code></pre></div>\n<h2 id=\"-autoscaling-coredns\" style=\"position:relative;\"><a href=\"#-autoscaling-coredns\" aria-label=\" autoscaling coredns permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üì° Autoscaling CoreDNS</h2>\n<p>CoreDNS is the default DNS service for Kubernetes that runs in Pods with the label <code class=\"language-text\">k8s-app=kube-dns</code>. In this lab exercise, we'll autoscale CoreDNS based on the number of schedulable nodes and cores of our cluster. <strong>Cluster Proportional Autoscaler</strong> will resize the number of CoreDNS replicas.</p>\n<p>Currently, we're running a 2-node cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get nodes</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">NAME                                            STATUS   ROLES    AGE   VERSION\nip-10-42-109-155.eu-west-1.compute.internal     Ready    &lt;none>   30m   v1.29-eks-tbdl\nip-10-42-142-113.eu-west-1.compute.internal     Ready    &lt;none>   30m   v1.29-eks-tbdl</code></pre></div>\n<p>Based on autoscaling parameters defined in the <strong>ConfigMap</strong>, we see <strong>Cluster Proportional Autoscaler</strong> scale CoreDNS to 2 replicas:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get po <span class=\"token parameter variable\">-n</span> kube-system <span class=\"token parameter variable\">-l</span> k8s-app<span class=\"token operator\">=</span>kube-dns</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">NAME                       READY   STATUS    RESTARTS   AGE\ncoredns-5db97b446d-5zwws   1/1     Running   0          66s\ncoredns-5db97b446d-n5mp4   1/1     Running   0          89m</code></pre></div>\n<p>If we increase the size of the EKS cluster to 5 nodes, <strong>Cluster Proportional Autoscaler</strong> will scale up the number of replicas of CoreDNS to accommodate for it:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">aws eks update-nodegroup-config --cluster-name <span class=\"token variable\">$EKS_CLUSTER_NAME</span> <span class=\"token punctuation\">\\</span>\n    --nodegroup-name <span class=\"token variable\">$EKS_DEFAULT_MNG_NAME</span> --scaling-config <span class=\"token assign-left variable\">desiredSize</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$((</span>$EKS_DEFAULT_MNG_DESIRED<span class=\"token operator\">+</span><span class=\"token number\">3</span><span class=\"token variable\">))</span></span>\n\naws eks <span class=\"token function\">wait</span> nodegroup-active --cluster-name <span class=\"token variable\">$EKS_CLUSTER_NAME</span> <span class=\"token punctuation\">\\</span>\n    --nodegroup-name <span class=\"token variable\">$EKS_DEFAULT_MNG_NAME</span>\n\nkubectl <span class=\"token function\">wait</span> <span class=\"token parameter variable\">--for</span><span class=\"token operator\">=</span>condition<span class=\"token operator\">=</span>Ready nodes <span class=\"token parameter variable\">--all</span> <span class=\"token parameter variable\">--timeout</span><span class=\"token operator\">=</span>120s</code></pre></div>\n<p>Kubernetes now shows the 5 nodes in a Ready state:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get nodes</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">NAME                                          STATUS   ROLES    AGE   VERSION\nip-10-42-10-248.eu-west-1.compute.internal    Ready    &lt;none>   61s   v1.29-eks-tbdl\nip-10-42-10-29.eu-west-1.compute.internal     Ready    &lt;none>   124m  v1.29-eks-tbdl\nip-10-42-11-109.eu-west-1.compute.internal    Ready    &lt;none>   6m39s v1.29-eks-tbdl\nip-10-42-11-152.eu-west-1.compute.internal    Ready    &lt;none>   61s   v1.29-eks-tbdl\nip-10-42-12-139.eu-west-1.compute.internal    Ready    &lt;none>   6m20s v1.29-eks-tbdl</code></pre></div>\n<p>And we can see that the number of CoreDNS Pods has increased:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl get po <span class=\"token parameter variable\">-n</span> kube-system <span class=\"token parameter variable\">-l</span> k8s-app<span class=\"token operator\">=</span>kube-dns</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">NAME                       READY   STATUS    RESTARTS   AGE\ncoredns-657694c6f4-klj6w   1/1     Running   0          14h\ncoredns-657694c6f4-tdzsd   1/1     Running   0          54s\ncoredns-657694c6f4-wmnnc   1/1     Running   0          14h</code></pre></div>\n<p>You can take a look at the <strong>CPA</strong> logs to see how it responded to the change in the number of nodes in our cluster:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">kubectl logs deploy/dns-autoscaler <span class=\"token parameter variable\">-n</span> other</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\"includeUnschedulableNodes\":true,\"max\":6,\"min\":2,\"nodesPerReplica\":2,\"preventSinglePointFailure\":true}\nI0801 15:02:45.330307       1 k8sclient.go:272] Cluster status: SchedulableNodes[1], SchedulableCores[2]\nI0801 15:02:45.330328       1 k8sclient.go:273] Replicas are not as expected : updating replicas from 2 to 3</code></pre></div>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìù Conclusion</h2>\n<p>In summary, <strong>CPA</strong> provides a straightforward solution for efficiently managing and scaling Kubernetes clusters alongside infrastructure growth. By dynamically adjusting resources based on proportional scaling principles, <strong>CPA</strong> ensures optimal performance and cost-effectiveness while maintaining stability.</p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>","timeToRead":6,"rawMarkdownBody":"\n> **Easily scale your Kubernetes cluster with CPA¬†‚ôªÔ∏è**\n\n## üìå Introduction\n\nIn this blog, we will talk about the [Cluster Proportional Autoscaler (CPA)](https://github.com/kubernetes-sigs/cluster-proportional-autoscaler), a tool that makes it easier to scale your Kubernetes cluster. Unlike traditional autoscalers that rely on metrics like CPU and memory usage, CPA scales your app replicas directly based on the number of nodes or cores in your cluster.\n\nCPA offers two flexible scaling methods‚Ää‚Äî‚Ää**linear scaling** and **ladder scaling**‚Ää‚Äî‚Ääallowing you to choose the approach that best fits your needs. It also includes helpful features like ensuring a minimum number of replicas, preventing single points of failure, and including unschedulable nodes when scaling.\n\n### üìà CPA: Scaling in Sync with Your Cluster Size\n\nIf you have a workload that needs to scale in proportion to the size of the cluster itself, the CPA may be appropriate to use. While it has a narrower use-case and is generally useful only for cluster services like DNS, it has a very simple operating model and fewer dependencies.\n\n### ‚öôÔ∏è How the Cluster Proportional Autoscaler Works\n\nCPA is a horizontal pod autoscaler that scales replicas based on the number of nodes in a cluster. The proportional autoscaler container watches over the number of schedulable nodes and cores of a cluster and resizes the number of replicas. This functionality is desirable for applications that need to be autoscaled with the size of the cluster such as CoreDNS and other services that scale with the number of nodes/pods in a cluster.\n\nCPA has Golang API clients running inside pods that connect to the API Server and polls the number of nodes and cores in the cluster. The scaling parameters and data points are provided via a ConfigMap to the autoscaler and it refreshes its parameters table every poll interval to be up to date with the latest desired scaling parameters. Unlike other autoscalers, CPA does not rely on the Metrics API and does not require the Metrics Server.\n\n![CPA Diagram](./cpa.png)\n\n### üìä Scaling Methods of the CPA\n\nCPA offers two flexible scaling methods:\n\n#### üîÑ Linear Scaling\n\nThis scaling method will scale the application in direct proportion to the number of nodes or cores available in the cluster. Either the `coresPerReplica` or `nodesPerReplica` parameter can be omitted.\n\n- When `preventSinglePointFailure` is set to true, the controller ensures at least 2 replicas if there are more than one node.\n- When `includeUnschedulableNodes` is set to true, the replicas will be scaled based on the total number of nodes, otherwise, they will only scale based on the number of schedulable nodes.\n\nThe equation for linear control mode is:\n\n```\nreplicas = max( ceil( cores * 1/coresPerReplica ) , ceil( nodes * 1/nodesPerReplica ) )\nreplicas = min(replicas, max)\nreplicas = max(replicas, min)\n```\n\n#### üìâ Ladder Scaling\n\nThis scaling method uses a step function to determine the ratio of nodes:replicas and/or cores:replicas. The step ladder function uses the data points for core and node scaling from the ConfigMap, and the lookup that yields the higher number of replicas will be used as the target scaling number.\n\nEither the `coresPerReplica` or `nodesPerReplica` parameter can be omitted. Replicas can also be set to 0, unlike in linear mode, which can be used to enable optional features as the cluster grows.\n\nThe ConfigMap for ladder scaling looks like this:\n\n```yaml\ndata:\n    ladder: |-\n        {\n            \"coresToReplicas\":\n            [\n                [ 1, 1 ],\n                [ 64, 3 ],\n                [ 512, 5 ],\n                [ 1024, 7 ],\n                [ 2048, 10 ],\n                [ 4096, 15 ]\n            ],\n            \"nodesToReplicas\":\n            [\n                [ 1, 1 ],\n                [ 2, 2 ]\n            ]\n        }\n```\n\nBy using these flexible scaling methods, CPA allows you to choose the approach that best fits your Kubernetes cluster's needs.\n\n## ‚öñÔ∏è CPA vs HPA\n\nThe key differences between **CPA** and the **Horizontal Pod Autoscaler (HPA)** are:\n\n- **CPA** scales based on the number of nodes/cores in the cluster, while **HPA** scales based on CPU/memory utilization.\n- **CPA** does not rely on the Metrics API or Metrics Server, unlike **HPA**.\n- **CPA** uses a simple control loop to watch cluster size and scale the target workload, while **HPA** is a Kubernetes API resource.\n- **CPA** is well-suited for cluster services that need to scale with the overall cluster size, while **HPA** is more general-purpose.\n\nThe choice between **CPA** and **HPA** depends on the specific scaling needs of the workloads in your Kubernetes environment. **CPA** provides a more cluster-centric scaling approach, while **HPA** responds to resource utilization metrics.\n\n## üõ†Ô∏è Hands-on Example\n\nIn this section, we'll be installing **CPA** using Kustomize manifests. The main part of which is the **Deployment** resource below:\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n    name: dns-autoscaler\n    namespace: other\n    labels:\n        k8s-app: dns-autoscaler\n        kubernetes.io/cluster-service: \"true\"\nspec:\n    selector:\n        matchLabels:\n            k8s-app: dns-autoscaler\n    template:\n        metadata:\n            labels:\n                k8s-app: dns-autoscaler\n        spec:\n            securityContext:\n                seccompProfile:\n                    type: RuntimeDefault\n                supplementalGroups: [ 65534 ]\n                fsGroup: 65534\n            nodeSelector:\n                kubernetes.io/os: linux\n            containers:\n            - name: autoscaler\n                image: registry.k8s.io/cpa/cluster-proportional-autoscaler:1.8.5\n                resources:\n                        requests:\n                                cpu: \"20m\"\n                                memory: \"10Mi\"\n                command:\n                    - /cluster-proportional-autoscaler\n                    - --namespace=kube-system\n                    - --configmap=dns-autoscaler\n                    - --target=Deployment/coredns\n                    - --default-params={\"linear\":{\"nodesPerReplica\":2,\"min\":2,\"max\":6,\"preventSinglePointFailure\":true,\"includeUnschedulableNodes\":true}}\n                    - --logtostderr=true\n                    - --v=2\n            tolerations:\n            - key: \"CriticalAddonsOnly\"\n                operator: \"Exists\"\n            serviceAccountName: dns-autoscaler\n```\n\nThen run the following commands:\n\n```sh\ngit clone https://github.com/seifrajhi/cpa-eks-demo.git\nkubectl apply -f cpa-eks-demo/\n```\n\nThis will create a **Deployment** in the `kube-system` namespace which we can inspect:\n\n```sh\nkubectl get deployment dns-autoscaler -n other\n```\n\nAfter **CPA** starts up, it will automatically create a **ConfigMap** we can modify to adjust its configuration:\n\n```sh\nkubectl describe configmap dns-autoscaler -n kube-system\n```\n\n```yaml\nName:         dns-autoscaler\nNamespace:    other\nLabels:       <none>\nAnnotations:  <none>\nData\n====\nlinear:\n----\n{'coresPerReplica':2,'includeUnschedulableNodes':true,'nodesPerReplica':1,'preventSinglePointFailure':true,'min':1,'max':4}\nEvents:  <none>\n```\n\n## üì° Autoscaling CoreDNS\n\nCoreDNS is the default DNS service for Kubernetes that runs in Pods with the label `k8s-app=kube-dns`. In this lab exercise, we'll autoscale CoreDNS based on the number of schedulable nodes and cores of our cluster. **Cluster Proportional Autoscaler** will resize the number of CoreDNS replicas.\n\nCurrently, we're running a 2-node cluster:\n\n```sh\nkubectl get nodes\n```\n\n```\nNAME                                            STATUS   ROLES    AGE   VERSION\nip-10-42-109-155.eu-west-1.compute.internal     Ready    <none>   30m   v1.29-eks-tbdl\nip-10-42-142-113.eu-west-1.compute.internal     Ready    <none>   30m   v1.29-eks-tbdl\n```\n\nBased on autoscaling parameters defined in the **ConfigMap**, we see **Cluster Proportional Autoscaler** scale CoreDNS to 2 replicas:\n\n```sh\nkubectl get po -n kube-system -l k8s-app=kube-dns\n```\n\n```\nNAME                       READY   STATUS    RESTARTS   AGE\ncoredns-5db97b446d-5zwws   1/1     Running   0          66s\ncoredns-5db97b446d-n5mp4   1/1     Running   0          89m\n```\n\nIf we increase the size of the EKS cluster to 5 nodes, **Cluster Proportional Autoscaler** will scale up the number of replicas of CoreDNS to accommodate for it:\n\n```sh\naws eks update-nodegroup-config --cluster-name $EKS_CLUSTER_NAME \\\n    --nodegroup-name $EKS_DEFAULT_MNG_NAME --scaling-config desiredSize=$(($EKS_DEFAULT_MNG_DESIRED+3))\n\naws eks wait nodegroup-active --cluster-name $EKS_CLUSTER_NAME \\\n    --nodegroup-name $EKS_DEFAULT_MNG_NAME\n\nkubectl wait --for=condition=Ready nodes --all --timeout=120s\n```\n\nKubernetes now shows the 5 nodes in a Ready state:\n\n```sh\nkubectl get nodes\n```\n\n```\nNAME                                          STATUS   ROLES    AGE   VERSION\nip-10-42-10-248.eu-west-1.compute.internal    Ready    <none>   61s   v1.29-eks-tbdl\nip-10-42-10-29.eu-west-1.compute.internal     Ready    <none>   124m  v1.29-eks-tbdl\nip-10-42-11-109.eu-west-1.compute.internal    Ready    <none>   6m39s v1.29-eks-tbdl\nip-10-42-11-152.eu-west-1.compute.internal    Ready    <none>   61s   v1.29-eks-tbdl\nip-10-42-12-139.eu-west-1.compute.internal    Ready    <none>   6m20s v1.29-eks-tbdl\n```\n\nAnd we can see that the number of CoreDNS Pods has increased:\n\n```sh\nkubectl get po -n kube-system -l k8s-app=kube-dns\n```\n\n```\nNAME                       READY   STATUS    RESTARTS   AGE\ncoredns-657694c6f4-klj6w   1/1     Running   0          14h\ncoredns-657694c6f4-tdzsd   1/1     Running   0          54s\ncoredns-657694c6f4-wmnnc   1/1     Running   0          14h\n```\n\nYou can take a look at the **CPA** logs to see how it responded to the change in the number of nodes in our cluster:\n\n```sh\nkubectl logs deploy/dns-autoscaler -n other\n```\n\n```\n{\"includeUnschedulableNodes\":true,\"max\":6,\"min\":2,\"nodesPerReplica\":2,\"preventSinglePointFailure\":true}\nI0801 15:02:45.330307       1 k8sclient.go:272] Cluster status: SchedulableNodes[1], SchedulableCores[2]\nI0801 15:02:45.330328       1 k8sclient.go:273] Replicas are not as expected : updating replicas from 2 to 3\n```\n\n## üìù Conclusion\n\nIn summary, **CPA** provides a straightforward solution for efficiently managing and scaling Kubernetes clusters alongside infrastructure growth. By dynamically adjusting resources based on proportional scaling principles, **CPA** ensures optimal performance and cost-effectiveness while maintaining stability.\n\n\n<br>\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò **_Until next time üéâ_**\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordCount":{"words":962},"frontmatter":{"id":"a266eb7e113df967903a0e12","path":"/blog/k8s-cluster-proportional-autoscaler/","humanDate":"Oct 22, 2024","fullDate":"2024-10-22","title":"Cluster Proportional Autoscaler CPA: Adjust your core services to match your growing infrastructure üåÅ","keywords":["Kubernetes","CPA","Autoscaling","AWS EKS","DevOps"],"excerpt":"Learn how the Cluster Proportional Autoscaler (CPA) can help you scale your Kubernetes cluster efficiently. This guide covers the benefits and implementation of CPA to match your growing infrastructure needs.","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqUlEQVR42h2TSU9TURiGL50vkxUQQ0wwEpduADUGFCORoAvdmSC6MRg2igvHGBM3xoWJSZG4U6Mx0YVGBhGpFVpKiy2UFmiZWugtZaoMSvAPPH69iy/nnu+95z1vznmOcuhQBSUl+9hfuh97oZ08NQ9FyZFS9DIYjOTI3JBjwGq2otpU6Rkwm0yUlRZLFVFYWKD/W1lZhXL/wUPaO17S1deP51eQvgEPz547aL3RxpVrLVxqvsrdh4+4deceNafqKK84TMv1Zj6+78DtcRIaG+Ld29c8ffKYTx9eocRm59na2eV3JMLa2BiZYJDtxALbsaj+vRIMsBkKsTE+TtznZ+prNysjw6yHQ6S9wyxPxUitZpiZjzMv6xSfpIpMTZMc+InW9QXN52PR2c+i64f0BtB+ukh6PLq+5HGzEgigiaaJttTXS8LrxT86RnhyignxURKahj8QZHZiknRUdvP7SX3vQ+vp1s1TUpoYpnQjF1pW7xfd7WZ5eoZYKMzIaAjfSICunl6U6GyC6FyC9MYfUplt0rNxMgsLZLxDrA550Ia9eqJlMVqSVCnpJSVRcjyMtr5BcmWN6bk4E9FpXANulMnwMIvxCItz46ylY8QTEzgHPXS+ecNIZ6cklpSjo0w6ncwNDpKUs17PnvnOPzKb22z93WVdxvkFjex9KBvxb+ymnGiRz7i+OLjQWKsjkGO2sFdQOt1wjvrG8xyprOZY7Unq6s9yUwhwOF7gaO/g9p37NF1u5vjxE9SLplw8f4a21iYaztRgNtswGs1YrSomo0m4s2DSOVQwZtmTns1ixSQM5ufnU1Z2QN+8qKgYVc2luupolmEjikBrMtkEVgtWmw2LvsisA6yqKgUFhfpoE82+x05ubp7AbOdg+UGqqqoF6Epy5UHU1NTyH8cW+8PBtsxuAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/d37efa2820da5a101da92fa9dee1d08a/44056/cpa-cover.png","srcSet":"/static/d37efa2820da5a101da92fa9dee1d08a/1ce7f/cpa-cover.png 750w,\n/static/d37efa2820da5a101da92fa9dee1d08a/35de1/cpa-cover.png 1080w,\n/static/d37efa2820da5a101da92fa9dee1d08a/9d13a/cpa-cover.png 1366w,\n/static/d37efa2820da5a101da92fa9dee1d08a/44056/cpa-cover.png 1440w","sizes":"100vw"},"sources":[{"srcSet":"/static/d37efa2820da5a101da92fa9dee1d08a/f5716/cpa-cover.webp 750w,\n/static/d37efa2820da5a101da92fa9dee1d08a/2327c/cpa-cover.webp 1080w,\n/static/d37efa2820da5a101da92fa9dee1d08a/50779/cpa-cover.webp 1366w,\n/static/d37efa2820da5a101da92fa9dee1d08a/744e5/cpa-cover.webp 1440w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4798611111111111}}},"coverCredits":"Photo by Saifeddine Rajhi"}}},"pageContext":{"prevThought":{"frontmatter":{"path":"/blog/arkade-kubernetes-developer-tools/","title":"Arkade: An Open Source Marketplace For Developer Tools üîù","date":"2024-10-22 20:55:00"},"excerpt":"One-Stop-Shop for CLI Tools¬†üõí üìë „ÄΩÔ∏è Introduction As a Platform or SRE engineer, you know how important it is to have the right tools at‚Ä¶","html":"<blockquote>\n<p><strong>One-Stop-Shop for CLI Tools¬†üõí</strong></p>\n</blockquote>\n<h2 id=\"-Ô∏è-introduction\" style=\"position:relative;\"><a href=\"#-%EF%B8%8F-introduction\" aria-label=\" Ô∏è introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìë „ÄΩÔ∏è Introduction</h2>\n<p>As a Platform or SRE engineer, you know how important it is to have the right tools at your disposal.</p>\n<p>Whether you're working with CLI tools or Kubernetes applications, having the latest versions of your favorite tools can make all the difference. That's where Arkade comes in.</p>\n<p><a href=\"https://github.com/alexellis/arkade\" target=\"_blank\" rel=\"noopener noreferrer\">Arkade</a> is an open-source marketplace for developer tools that simplifies the installation process, making it easy to get the tools you need with just a single command.</p>\n<p>In this blog post, we'll take a closer look at Arkade and explore why it's become known as the Swiss Army Knife of developers. By the end of this post, you'll have a better understanding of what Arkade is, how it can benefit you as a developer, and how to get started using it.</p>\n<p>So, let's dive in and explore the world of Arkade!</p>\n<h3 id=\"intro-to-arkade\" style=\"position:relative;\"><a href=\"#intro-to-arkade\" aria-label=\"intro to arkade permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Intro to Arkade</h3>\n<p><img src=\"/fc04cc9bbdfbd8b31cc5548fdc3ede5f/arkade.gif\" alt=\"arkade\" loading=\"lazy\">\n          </p>\n<p>Arkade is how developers install the latest versions of their favorite CLI tools and Kubernetes apps. With <code class=\"language-text\">arkade get</code>, you'll have <code class=\"language-text\">kubectl</code>, <code class=\"language-text\">kind</code>, <code class=\"language-text\">terraform</code>, and <code class=\"language-text\">jq</code> on your machine faster than you can type <code class=\"language-text\">apt-get install</code> or <code class=\"language-text\">brew update</code>.</p>\n<p>With over 120 CLIs and 55 Kubernetes apps (charts, manifests, installers) available for Kubernetes, gone are the days of contending with dozens of README files just to set up a development stack with the usual suspects like <code class=\"language-text\">ingress-nginx</code>, <code class=\"language-text\">Postgres</code>, and <code class=\"language-text\">cert-manager</code>.</p>\n<h3 id=\"getting-arkade\" style=\"position:relative;\"><a href=\"#getting-arkade\" aria-label=\"getting arkade permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Getting Arkade</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Note: you can also run without `sudo` and move the binary yourself</span>\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-sLS</span> https://get.arkade.dev <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">sh</span>\narkade <span class=\"token parameter variable\">--help</span>\nark <span class=\"token parameter variable\">--help</span>  <span class=\"token comment\"># a handy alias</span>\n<span class=\"token comment\"># Windows users with Git Bash</span>\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-sLS</span> https://get.arkade.dev <span class=\"token operator\">|</span> <span class=\"token function\">sh</span></code></pre></div>\n<p>Windows users: Arkade requires bash to be available, therefore Windows users should <a href=\"https://git-scm.com/downloads\" target=\"_blank\" rel=\"noopener noreferrer\">install and use Git Bash</a>. An alias of <code class=\"language-text\">ark</code> is created at installation time, so you can also run <code class=\"language-text\">ark install APP</code>.</p>\n<h3 id=\"usage-overview\" style=\"position:relative;\"><a href=\"#usage-overview\" aria-label=\"usage overview permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Usage Overview</h3>\n<p>Arkade can be used to install Kubernetes apps or to download CLI tools.</p>\n<ul>\n<li><code class=\"language-text\">arkade install</code> - install a Kubernetes app</li>\n<li><code class=\"language-text\">arkade info</code> - see the post-installation screen for a Kubernetes app</li>\n<li><code class=\"language-text\">arkade get</code> - download a CLI tool</li>\n<li><code class=\"language-text\">arkade update</code> - perform a self-update of Arkade on MacOS and Linux</li>\n</ul>\n<p>An Arkade \"app\" could represent a Helm chart such as <code class=\"language-text\">openfaas/faas-netes</code>, a custom CLI installer such as <code class=\"language-text\">istioctl</code>, or a set of static manifests (i.e., <code class=\"language-text\">MetalLB</code>). An Arkade \"tool\" is a CLI that can be downloaded for your operating system. Arkade downloads statically linked binaries from their upstream locations on GitHub or the vendor's chosen URL such as with <code class=\"language-text\">kubectl</code> and <code class=\"language-text\">terraform</code>.</p>\n<p>Did you know? Arkade users run <code class=\"language-text\">arkade get</code> both on their local workstations and on their CI runners such as GitHub Actions or Jenkins.</p>\n<h3 id=\"download-cli-tools-with-arkade\" style=\"position:relative;\"><a href=\"#download-cli-tools-with-arkade\" aria-label=\"download cli tools with arkade permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Download CLI Tools with Arkade</h3>\n<p>Arkade downloads the correct version of a CLI for your OS and CPU with automatic detection of Windows / MacOS / Linux / Intel / ARM.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Download a binary release of a tool</span>\narkade get kubectl\n<span class=\"token comment\"># Download a specific version of that tool</span>\narkade get kubectl@v1.22.0\n<span class=\"token comment\"># Download multiple tools at once</span>\narkade get kubectl <span class=\"token punctuation\">\\</span>\n    helm <span class=\"token punctuation\">\\</span>\n    istioctl\n<span class=\"token comment\"># Download multiple specific versions</span>\narkade get faas-cli@0.13.15 <span class=\"token punctuation\">\\</span>\n    kubectl@v1.22.0\n<span class=\"token comment\"># Override machine os/arch</span>\narkade get faas-cli <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--arch</span> arm64 <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--os</span> linux\n<span class=\"token comment\"># Override machine os/arch</span>\narkade get faas-cli <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--arch</span> arm64 <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--os</span> darwin</code></pre></div>\n<p>This is a time saver compared to searching for download pages every time you need a tool. Files are stored at <code class=\"language-text\">$HOME/.arkade/bin/</code>.</p>\n<p>Want to download tools to a custom path such as into the GitHub Actions cached tool folder?</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">arkade get faas-cli kubectl <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--path</span> <span class=\"token environment constant\">$HOME</span>/runner/_work/_tools</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Usage:</span>\n<span class=\"token comment\"># /runner/_work/_tools/faas-cli version</span>\n<span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token environment constant\">$HOME</span>/runner/_work/_tools\nfaas-cli version</code></pre></div>\n<p>Think of <code class=\"language-text\">arkade get TOOL</code> as doing for CLIs what <code class=\"language-text\">arkade install</code> does for Helm. Adding a new tool for download is as simple as editing <a href=\"https://github.com/alexellis/arkade/blob/master/pkg/get/tools.go\" target=\"_blank\" rel=\"noopener noreferrer\">tools.go</a>.</p>\n<p><a href=\"https://github.com/alexellis/arkade?tab=readme-ov-file#catalog-of-clis\" target=\"_blank\" rel=\"noopener noreferrer\">Click here for the full catalog of CLIs</a>.</p>\n<h3 id=\"install-system-packages\" style=\"position:relative;\"><a href=\"#install-system-packages\" aria-label=\"install system packages permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Install System Packages</h3>\n<p>System packages are tools designed for installation on a Linux workstation, server, or CI runner. These are a more limited group of applications designed for quick setup, scripting, and CI, and generally do not fit into the <code class=\"language-text\">arkade get</code> pattern due to additional installation steps or system configuration.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Show packages</span>\narkade system <span class=\"token function\">install</span>\n<span class=\"token comment\"># Show package flags</span>\narkade system <span class=\"token function\">install</span> go <span class=\"token parameter variable\">--help</span>\n<span class=\"token comment\"># Install latest version of Go to /usr/local/bin/go</span>\narkade system <span class=\"token function\">install</span> go\n<span class=\"token comment\"># Install Go 1.18 to /tmp/go</span>\narkade system <span class=\"token function\">install</span> go <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--version</span> <span class=\"token number\">1.18</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--path</span> /tmp/\n<span class=\"token comment\"># Install containerd for ARM64, 32-bit ARM or x86_64</span>\n<span class=\"token comment\"># with systemd enabled</span>\narkade system <span class=\"token function\">install</span> containerd <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">--systemd</span></code></pre></div>\n<p>Run the following to see what's available:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">arkade system <span class=\"token function\">install</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">actions-runner  Install GitHub Actions Runner\nbuildkitd       Install Buildkitd\ncni             Install CNI plugins\ncontainerd      Install containerd\nfirecracker     Install Firecracker\ngitlab-runner   Install Gitlab Runner\ngo              Install Go\n<span class=\"token function\">node</span>            Install Node.js\nprometheus      Install Prometheus\ntc-redirect-tap Install tc-redirect-tap\nregistry        Install Open Source Registry implementation <span class=\"token keyword\">for</span> storing and distributing container images using the OCI Distribution Specification</code></pre></div>\n<h3 id=\"install-clis-during-ci-with-github-actions\" style=\"position:relative;\"><a href=\"#install-clis-during-ci-with-github-actions\" aria-label=\"install clis during ci with github actions permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Install CLIs during CI with GitHub Actions</h3>\n<p><a href=\"https://github.com/alexellis/arkade-get\" target=\"_blank\" rel=\"noopener noreferrer\">alexellis/arkade-get@master</a></p>\n<p>Example downloading <code class=\"language-text\">faas-cli</code> (specific version) and <code class=\"language-text\">kubectl</code> (latest), putting them into the PATH automatically, and executing one of them in a subsequent step.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- uses: alexellis/arkade-get@master\n    with:\n        kubectl: latest\n        faas-cli: <span class=\"token number\">0.14</span>.10\n- name: check <span class=\"token keyword\">for</span> faas-cli\n    run: <span class=\"token operator\">|</span>\n        faas-cli version</code></pre></div>\n<p>If you just need system applications, you could also try \"setup-arkade\":</p>\n<p><a href=\"https://github.com/alexellis/setup-arkade\" target=\"_blank\" rel=\"noopener noreferrer\">alexellis/setup-arkade@master</a></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- uses: alexellis/setup-arkade@v2\n- name: Install containerd and go\n    run: <span class=\"token operator\">|</span>\n        arkade system <span class=\"token function\">install</span> containerd\n        arkade system <span class=\"token function\">install</span> go</code></pre></div>\n<h3 id=\"verify-and-upgrade-images-in-helm-charts\" style=\"position:relative;\"><a href=\"#verify-and-upgrade-images-in-helm-charts\" aria-label=\"verify and upgrade images in helm charts permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Verify and Upgrade Images in Helm Charts</h3>\n<p>There are two commands built into Arkade designed for software vendors and open source maintainers.</p>\n<ul>\n<li><code class=\"language-text\">arkade helm chart upgrade</code> - run this command to scan for container images and update them automatically by querying a remote registry.</li>\n<li><code class=\"language-text\">arkade helm chart verify</code> - after changing the contents of a <code class=\"language-text\">values.yaml</code> or <code class=\"language-text\">docker-compose.yaml</code> file, this command will check each image exists on a remote registry.</li>\n</ul>\n<p>Whilst end-users may use a GitOps-style tool to deploy charts and update their versions, maintainers need to make conscious decisions about when and which images to change within a Helm chart or compose file. These two features are used by OpenFaaS Ltd on projects and products like OpenFaaS CE/Pro (Serverless platform) and faasd (docker-compose file).</p>\n<h3 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üìë Conclusion</h3>\n<p>Arkade is an open-source marketplace for developer tools that simplifies the process of installing and managing CLI tools, Kubernetes applications, and system packages. It offers a one-stop-shop solution for developers, making it easier to find and install the latest versions of their favorite tools.</p>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<p><br><br></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"},"nextThought":{"frontmatter":{"path":"/blog/cnoe-platform-engineering-excellence/","title":"Making Platform Engineering Easy with CNOE","date":"2024-10-22 19:06:00"},"excerpt":"Use CNOE to build better software tools¬†üèó üå© üí° Introduction Cloud Native Operational Excellence (CNOE) is a framework for platform‚Ä¶","html":"<blockquote>\n<p><strong>Use CNOE to build better software tools¬†üèó üå©</strong></p>\n</blockquote>\n<h2 id=\"-introduction\" style=\"position:relative;\"><a href=\"#-introduction\" aria-label=\" introduction permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üí° Introduction</h2>\n<p>Cloud Native Operational Excellence (CNOE) is a framework for platform engineers to efficiently build <a href=\"https://internaldeveloperplatform.org/what-is-an-internal-developer-platform/\" target=\"_blank\" rel=\"noopener noreferrer\">Internal Developer Platforms (IDP)</a> with cloud-native technologies and community-driven best practices. Key tenets include prioritizing open-source tech, community-driven decision-making, suggesting tools over practices, relying on Kubernetes, and offering standardized yet customizable infrastructure.</p>\n<p>CNOE supports deployment in Cloud, On-Premises, and Edge environments, incorporating tools like <a href=\"https://kind.sigs.k8s.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Kind</a>, <a href=\"https://argo-cd.readthedocs.io/en/stable/\" target=\"_blank\" rel=\"noopener noreferrer\">Argo CD</a>, <a href=\"https://argoproj.github.io/argo-workflows/\" target=\"_blank\" rel=\"noopener noreferrer\">Argo Workflows</a>, <a href=\"https://backstage.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Backstage</a>, <a href=\"https://gitea.io/en-us/\" target=\"_blank\" rel=\"noopener noreferrer\">Gitea</a>, <a href=\"https://www.keycloak.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Keycloak</a>, <a href=\"https://external-secrets.io/\" target=\"_blank\" rel=\"noopener noreferrer\">External Secrets</a>, <a href=\"https://kubernetes.github.io/ingress-nginx/\" target=\"_blank\" rel=\"noopener noreferrer\">Ingress NGINX</a>, <a href=\"https://crossplane.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Crossplane</a>, and <a href=\"https://github.com/GoogleCloudPlatform/spark-on-k8s-operator\" target=\"_blank\" rel=\"noopener noreferrer\">Spark Operator</a>.</p>\n<p>This blog post explores CNOE's features, benefits, modular design, and how it aids platform engineers in building IDP platforms quickly and securely. Stay tuned for more insights on this innovative Platform Engineering framework.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACa0lEQVR42p1UXUiTURh+VtGPtUnWVYl2UVtUJIuQfsgQa02lLZzft2+bJkjltFbOsUlZffQj+/m2tbkILYiMbPQZGetnQXRVgndFdBFUN0EQUZaQF9HF17uTA5WtVi+8nMP785zzPu97DlCwKKpZBhX+WURxTg6gLNh/AGYk9aEIzxQ1TGf14II6NEmL4YhrwIVtaBEXFl7avcmVcN6oxem0DakJN6SxehjFUlhDBjRKHbBFSMPL89Axu9THZXiicHDd5OG9a8LweBMuvqwDH6wGJznBRyroluvgCJT+nc+d4jy0XPLCO+KBvc9DiZ1ovXwQjaE2ulUduEgJizP37gAnzy2s3L1ntmOXbwv2nNTBIK5FdU/5DH/DuXJ0JGvwSimB/H5RDpypwIF3ZbjzrR1XXh/AiUeVGFeK8VnRsKaMfF2F629W4+rbNeiU65H8aMbwJw7xMQ1l5pwGFQMeVbbh/qQb6Z9mAqmB/EVA6nszHkxo8VxZT9zySP/gaNX9uUw+uglcqAumXjecg3q45f3wP61A7MUGuJIGVDo0xFsb9p0/gu6HemqcEULMw7i1hMwzG5NpBB++Ruog4i1oTiyjwFuwBIbQ4K+ivY8lCxeOwxpuBy9JqBW1NJcR8gUYqDK95MywCvF+7KY1K7Z4kJK7IERHGZgt3kP7zRASK6j7MVgTWvKfgjXSTWqfxmG25LCPTh5iyoW20ks4zEaEJUSPkb2KZvA2rJLMXokQ20iA/WTro7ijOZpCBpNXDS5QDE6czzhhc0Z29qZJDg0UkW8J2xtdC9iBdv9StAbVeT4C5Lf/XqdukScWwC/2AOC38UigdgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cnoe\" title=\"\" src=\"/static/f01555e57e9541ca69b75d82868dab4f/c5bb3/cnoe.png\" srcset=\"/static/f01555e57e9541ca69b75d82868dab4f/04472/cnoe.png 170w,\n/static/f01555e57e9541ca69b75d82868dab4f/9f933/cnoe.png 340w,\n/static/f01555e57e9541ca69b75d82868dab4f/c5bb3/cnoe.png 680w,\n/static/f01555e57e9541ca69b75d82868dab4f/b12f7/cnoe.png 1020w,\n/static/f01555e57e9541ca69b75d82868dab4f/bc3ae/cnoe.png 1268w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<h2 id=\"-intro-to-cnoe\" style=\"position:relative;\"><a href=\"#-intro-to-cnoe\" aria-label=\" intro to cnoe permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üõ• Intro to CNOE</h2>\n<p>For enterprises using open-source software (OSS) as the backbone of their cloud platforms, the challenge lies in selecting technologies that align with their long-term business objectives. The significant costs associated with retooling and re-platforming for large organizations underscore the importance of strategic technology decisions. To mitigate risks, enterprises often look to the investments and experiences of their peers.</p>\n<p>The primary aim of the CNOE framework is to unite a group of enterprises operating at a similar scale, enabling them to collectively navigate operational technology choices, reduce risks associated with technology selections, coordinate contributions, and provide guidance on leveraging CNCF technologies effectively for optimal cloud efficiencies. In other words, CNOE is a framework developed around open-source cloud-native projects to assist companies in building their internal developer tooling. It aims to help platform engineers build their IDP platforms faster and more securely, with best practices integrated. CNOE prioritizes open-source technologies, community-driven decisions, and offers guidance on technology choices for optimal cloud efficiencies.</p>\n<p>It is not just a unified control plane or a CI/CD tool but provides building blocks for expanding control planes and enhancing application delivery. CNOE is modular, allowing users to select core technologies for their internal developer platforms while being standardized to infrastructure and customizable by developers. All CNOE deliverables are developed openly for sharing within the open-source community.</p>\n<h2 id=\"-problem-statement\" style=\"position:relative;\"><a href=\"#-problem-statement\" aria-label=\" problem statement permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>ü§î Problem Statement</h2>\n<p>The dynamic tooling landscape, fragmented infrastructure, and evolving CI/CD definitions present challenges for customers. Adopting a wide array of tools without clear direction can lead to supportability and maintainability issues within tool-governing communities. Traditional infrastructure and modern tools like <a href=\"https://argo-cd.readthedocs.io/en/stable/\" target=\"_blank\" rel=\"noopener noreferrer\">ArgoCD</a>, <a href=\"https://fluxcd.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Flux</a>, and <a href=\"https://tekton.dev/\" target=\"_blank\" rel=\"noopener noreferrer\">Tekton</a> require a shift in paradigms, while legacy systems still interact with traditional infrastructure setups. Developers' core workflows have remained consistent, but the abstractions in *-Ops frameworks create a gap between developers and delivery processes. Fragmentation in software delivery methods results in non-portable software components that are difficult to integrate into a cohesive application.</p>\n<h2 id=\"-cnoe-principles\" style=\"position:relative;\"><a href=\"#-cnoe-principles\" aria-label=\" cnoe principles permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚úÖ CNOE Principles</h2>\n<ul>\n<li><strong>Open source first</strong>: Prioritize open-source technology over proprietary technology, allowing for collaboration and customization.</li>\n<li><strong>Community driven</strong>: Decisions guided by the community and its governing body.</li>\n<li><strong>Tools, not practices</strong>: Suggestions on tools and configurations, not practices.</li>\n<li><strong>Kubernetes-powered, not limited</strong>: Operate on Kubernetes, but not restricted to orchestrating against it.</li>\n<li><strong>Standardized, customizable</strong>: Address usability requirements while allowing customization.</li>\n<li><strong>Built to be shared</strong>: Develop deliverables openly for the larger open-source community.</li>\n</ul>\n<h3 id=\"-cnoe-is-not\" style=\"position:relative;\"><a href=\"#-cnoe-is-not\" aria-label=\" cnoe is not permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>‚ùå CNOE is not</h3>\n<ul>\n<li>A unified control plane, but a way to expand and extend it.</li>\n<li>A CI/CD tool, but a platform for integrating and delivering applications.</li>\n<li>New technologies or managed services, but a way to interact and integrate.</li>\n<li>Responsible for operationalizing the toolchain, requiring companies to fund and operate open-source tools.</li>\n</ul>\n<h3 id=\"reference-implementation-of-cnoe-and-its-toolings-on-aws\" style=\"position:relative;\"><a href=\"#reference-implementation-of-cnoe-and-its-toolings-on-aws\" aria-label=\"reference implementation of cnoe and its toolings on aws permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Reference Implementation of CNOE and its Toolings on AWS</h3>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEA0lEQVR42o1UfUxTVxS//aTUFmxLaUurRfyKDcr0IaKhexkkjqXzg5kX3HCgzrxKsejTSZBorpl8yLB+kZU9XEDlY8szMiKsbjB9Jk4yHcnsVqeYbGiCkczNGf9dsrt732vxM8aT3Nx3zzvn3N8553cuAFgo9p5+/sabCxdtuD8NyKIAT4lj52ias/rSXHvggttS9UMGgKJa/oMUAKFnbCUp59qcxZWRDVuC7S6fr8A0t7DOmUWxqSTwnGAkybFTTEvbcd5h23UlPaPqqsUNRR14lbQ2Fll6YFHWzWaLEdBITQcEA2AEFRCQyrK53yihgEgpGWO9ixtJJp8r4SPz/u6HH65qmLRNIabYUY1kDBFOA+8YkfQDyEHWVg1bHjf4PRBCbXHJbVeOf8DpgUhL3Ncf+nNx59DjO5ta/lpGzlC6NF4PRhBU2ElJAt26dbcgGv1jvnRnZJM1ejHYIdkUTS4vLIwukfQIKWkMwl0xbvcwMa3sK4dVOthRvW27mGna+PUMoop1nRy6fPrzevL9X1deSqS/ePEoDzTCnqD12gHvjGfqRUrzggKnbQ9GrLOqv7fhq5X/bvUWPqrOXQpiHu2K3V8Y87mVZho3whf+wIQ9lDeiY95ff/yphhlBUi1rG0NzWvn2T+rq6h2ATlCA7AxSIYwELz1ZnZ20LhUOZmXUfjPPvqvfkx+CZmJ6o/d0dZRvvb5dRNPJec/Bz9472XsG7Ws47JURxmHnNj5Y6m36Z10CfGkTzFy7d8eRZUdX2dyiW4dInUSovrI1N/vv8jfeSXQWcow55M/JG4dAJyH0wJjUtbebJ3b7Dk1cQyzQkPNHoQPFZfV7z69oXm2keEpDFkBA4YKC2V1zaQEpEwjeTiIxENaThWnDa1pD/ELI83ok0urvWkrSSbok4DBvSkWdYLoAGQMpB4N5KVMDKRicFSF4AswUT7kTgrmvS/iZ/2rwLdzTJH0gZs+pG3OWhO+nu4T8ZIqlNFP9AwA747SZBMXkploDooGwZGblZRMYbCowDYRLsq+HF6VTeMSwiaqie6Lq48hDFOz7hU4E44QR55buc78d7Pu2UppvppbKXMc1gYpxnScQM6SSYGQ4WJyyTFSggHHY7/f8nufvu3cncGayKFH42uGrlkBb29n6jo41RFNT+eYCpty3muO4ZCOebxcnSBSKjx6mDK4PKa5EI5bVWKHHIBnQUI3Jr8Y10/aun2aDFbSOjCiCtA4hSvPk5ZmS+NyCJ88QjQPkHStLefopS+FOmK1w0G5pfmB8yfuieP7JA4l5Jnuw/WKZPzwcZVqOz8KdUMFTzMyBs5uzX+r0KiG0IPu29gvlgfDQWOmxT2eTs9jzbtrdL0tnv06Q/wFzoJFBh9GEdgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"reference-impl\" title=\"\" src=\"/static/22d59f3264d10eba3147ba7512a25a75/c5bb3/reference-impl.png\" srcset=\"/static/22d59f3264d10eba3147ba7512a25a75/04472/reference-impl.png 170w,\n/static/22d59f3264d10eba3147ba7512a25a75/9f933/reference-impl.png 340w,\n/static/22d59f3264d10eba3147ba7512a25a75/c5bb3/reference-impl.png 680w,\n/static/22d59f3264d10eba3147ba7512a25a75/b12f7/reference-impl.png 1020w,\n/static/22d59f3264d10eba3147ba7512a25a75/b5a09/reference-impl.png 1360w,\n/static/22d59f3264d10eba3147ba7512a25a75/07a9c/reference-impl.png 1440w\" sizes=\"(max-width: 680px) 100vw, 680px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n          </p>\n<p>CNOE organization on GitHub has a repo which is a reference implementation of CNOE and toolings on AWS cloud provider. This installation pattern where some Kubernetes manifests are handled in Terraform while others are handled in a GitOps manner may not be suitable for many organizations. If you can be certain about parameters such as domain name and certificate handling, it is better to utilize the GitOps approach where this information is committed to a repository. The reason it is handled this way is to allow for customization for different organizations without forking this repository and committing organization-specific information into the repository.</p>\n<h2 id=\"-conclusion\" style=\"position:relative;\"><a href=\"#-conclusion\" aria-label=\" conclusion permalink\" class=\"anchor before\"><svg class=\"anchor-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>üîö Conclusion</h2>\n<p>With the launch of CNOE, members will contribute tooling, plugins, and reference implementations that facilitate building internal developer platforms. Members are also releasing a capability map that captures key open technologies and their relevance in building internal developer platforms across these organizations.</p>\n<p><strong>Thank You üñ§</strong></p>\n<br>\n<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>\n<blockquote>\n<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>\n</blockquote>\n<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>\n<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href=\"https://www.linkedin.com/in/rajhi-saif/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.linkedin.com/in/rajhi-saif/</a></p>\n<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href=\"https://x.com/rajhisaifeddine\" target=\"_blank\" rel=\"noopener noreferrer\">https://x.com/rajhisaifeddine</a></p>\n<p><strong>The end ‚úåüèª</strong></p>\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n<p><strong>üìÖ Stay updated</strong></p>\n<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p>"}}},"staticQueryHashes":["1271460761","1321585977"],"slicesMap":{}}