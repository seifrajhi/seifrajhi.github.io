<!DOCTYPE html><html lang="en" class="blogpost-view-page"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="description" property="og:description" content="EKS, Databases, Cloud Native DB"/><meta data-react-helmet="true" name="keywords" content="Open source,Kubernetes,TiDB,AWS EKS,Cloud Native"/><meta data-react-helmet="true" name="author" content="@RajhiSaifeddine"/><meta data-react-helmet="true" property="og:title" content="Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database - Blog"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@RajhiSaifeddine"/><meta data-react-helmet="true" name="twitter:title" content="Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database - Blog"/><meta data-react-helmet="true" name="twitter:description" content="EKS, Databases, Cloud Native DB"/><meta data-react-helmet="true" name="image" property="og:image" content="https://seifrajhi.github.io/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png"/><meta data-react-helmet="true" name="twitter:image" content="https://seifrajhi.github.io/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png"/><meta data-react-helmet="true" property="og:url" content="https://seifrajhi.github.io/blog/data-on-kubernetes-8/"/><meta name="theme-color" content="#ffffff"/><link rel="stylesheet" href="/styles.3418df2b1c63496c79d3.css"/><link rel="stylesheet"/><link rel="alternate" type="application/rss+xml" title="Saifeddine Rajhi&#x27;s Blog RSS Feed" href="/rss.xml"/><title data-react-helmet="true">Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database - Blog by Saifeddine Rajhi</title><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","image":"/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png","headline":"Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database","dateCreated":"2024-09-27","datePublished":"2024-09-27","dateModified":"2024-09-27","inLanguage":"en-US","isFamilyFriendly":true,"isAccessibleForFree":true,"author":{"@type":"Person","name":"Saifeddine Rajhi","url":"https://seifrajhi.github.io"},"publisher":{"@type":"Organization","name":"Saifeddine Rajhi's Website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://seifrajhi.github.io/blog/data-on-kubernetes-8/"},"keywords":["Open source","Kubernetes","TiDB","AWS EKS","Cloud Native"],"genre":["Platform engineer","software engineering","science","deep learning","statistics"],"articleSection":"Technical Blog","articleBody":"> **TiDB: A Cloud-Native Database for hybrid workloads**\n\n## üìö Introduction\n\nThe idea of a Kubernetes-native database like TiDB came up to solve the problems of running traditional databases on Kubernetes. Databases like MySQL and Cassandra have been around for a long time and work well, but they can be hard to manage on Kubernetes.¬†\n\n[TiDB](https://docs.pingcap.com/tidb/stable), created by PingCAP, is built from the start to work well with Kubernetes. It can handle both [transactional and analytical workloads](https://www.fivetran.com/blog/databases-demystified-analytical-vs-transactional) without needing a separate ETL process. This makes TiDB a very useful  for managing data on Kubernetes.\n\nTraditional databases often face challenges when adapted to Kubernetes, such as managing multiple nodes and integrating with Kubernetes storage. TiDB addresses these issues by being designed as a cloud-native database from day one.¬†\n\nIt makes use of Kubernetes resources like Pods, StatefulSets, and PersistentVolumes, and is managed by an operator, making deployment and scaling easier. With TiDB, you get the benefits of both transactional and analytical processing in one system, simplifying your data management tasks.\n\n## ‚úçÔ∏è History and development of¬†TiDB\n\n\nTiDB, [short for \"Titanium Database,\"](https://docs.pingcap.com/tidb/stable/overview) is an open-source, MySQL-compatible database developed by PingCAP. The development of TiDB began in 2015 with the goal of creating a database that could handle both transactional and analytical workloads efficiently. The inspiration for TiDB came from Google's F1 project, which built on top of Spanner, a globally distributed database. \n\nTiDB was designed to address the limitations of traditional databases, such as scalability and flexibility, by making use of a cloud-native architecture.\n\n\n### Overview of PingCAP and their role in the development of¬†TiDB\n\nPingCAP, the company behind TiDB, was founded by a group of engineers with extensive experience in database systems and distributed computing. Their mission was to build a database that could meet the demands of modern applications, which require both high availability and the ability to process large volumes of data in real-time. \n\nPingCAP has been the primary contributor to TiDB, continuously improving its features and performance. They have also fostered a strong community around TiDB, encouraging collaboration and contributions from developers worldwide.\n\n### Key Features of¬†TiDB\n\n**_‚úÖ Hybrid Transactional and Analytical Processing (HTAP):_**\n\nOne of the standout features of TiDB is its support for Hybrid Transactional and Analytical Processing (HTAP). This means TiDB can handle both transactional (OLTP) and analytical (OLAP) workloads without the need for a separate ETL process. TiDB achieves this by using two different storage engines: TiKV for transactional workloads and TiFlash for analytical workloads. This dual-engine approach allows TiDB to provide real-time analytics on fresh transactional data, making it highly efficient for applications that require both types of operations.\n\n**_‚úÖ MySQL compatibility:_**\n\nTiDB is fully compatible with MySQL, which means it can be used as a drop-in replacement for MySQL databases. This compatibility extends to MySQL protocols and SQL syntax, making it easy for developers to migrate their applications to TiDB without significant changes. This feature also allows TiDB to integrate seamlessly with existing MySQL tools and ecosystems.\n\n**_‚úÖ Scalability and flexibility:_**\n\nTiDB is designed to scale horizontally, which means it can handle increasing amounts of data and traffic by adding more nodes to the cluster. This scalability is achieved through a distributed architecture where data is automatically sharded and balanced across multiple nodes. TiDB's flexibility allows it to run on various environments, including on-premises data centers, public clouds, and Kubernetes clusters. This makes TiDB a versatile solution for different deployment scenarios.\n\n**_‚úÖ High availability and fault tolerance:_**\n\nTiDB ensures high availability and fault tolerance through its distributed architecture. Data is replicated across multiple nodes, typically with at least three replicas, to provide redundancy. In the event of a node failure, TiDB can automatically failover to another replica, ensuring continuous availability. The Placement Driver (PD) component of TiDB manages metadata and coordinates data placement, further enhancing the system's resilience and ability to recover from failures.\n\n## TiDB Architecture\n\nTiDB's architecture is designed for high performance, scalability, and flexibility by separating compute and storage into distinct, independently scalable components. \n\nLet's look at each component:\n\n**_‚ùé TiDB:_**\n\nEach TiDB instance is a stateless service exposing a MySQL endpoint. It parses SQL requests, uses metadata from the Placement Driver to create execution plans, and queries TiKV and TiFlash nodes. Results are assembled and returned to the client. A proxy typically provides load balancing for the TiDB cluster.\n\n**_‚ùé TiKV:_**\n\nTiKV is an open-source, distributed key-value database for transactional workloads. It uses RocksDB and provides a custom Distributed SQL API. TiKV ensures high availability and fault tolerance by storing multiple replicas of data across nodes, supporting automatic failover. It is a CNCF Graduated project recognized for its reliability.\n\n**_‚ùé TiFlash:_**\n\nTiFlash is a columnar storage engine for analytical workloads, based on ClickHouse. Data is replicated from TiKV to TiFlash in real-time, enabling analytical queries on fresh transactional data without a separate ETL process. Columnar storage offers significant performance advantages for analytical queries.\n\n**_‚ùé TiSpark:_**\n\nTiSpark is a library for Apache Spark, supporting complex analytical (OLAP) queries. It integrates with Spark to ingest data from TiFlash using the Distributed SQL API, leveraging Spark's data processing capabilities for large-scale analytics.\n\n**_‚ùé Placement Driver (PD):_**\n\nThe PD manages metadata for TiDB, deployed in a cluster of at least three nodes. It uses range-based sharding to divide table keys into regions, assigning them to TiKV nodes. PD monitors data amounts, splitting large regions to scale up and merging smaller ones to scale down.\n\n**_‚ùé TiDB Operator:_**\n\nThe TiDB Operator automates deployment, management, and scaling of TiDB clusters on Kubernetes. It handles tasks like deployment, scaling, upgrades, monitoring, and backup/restore operations, leveraging Kubernetes resources like Pods, StatefulSets, and PersistentVolumes.\n\n\n### How TiDB uses Kubernetes resources\n\nTiDB integrates seamlessly with Kubernetes, using its resources to manage and scale efficiently:\n\n- **_Pods:_** Each TiDB instance runs as a stateless service in a Pod, easily scalable based on demand.\n- **_StatefulSets:_** TiKV and TiFlash nodes are deployed using StatefulSets, ensuring stable network identities and persistent storage.\n- **_PersistentVolumes (PVs) and PersistentVolumeClaims (PVCs):_** TiDB uses PVs for durable storage and PVCs for specific storage requests.\n\n### Role of the TiDB operator in managing the databases:\n\nThe TiDB Operator simplifies running TiDB on Kubernetes by automating:\n\n- **_Deployment:_** Automates deployment of TiDB components using Kubernetes resources.\n- **_Scaling:_** Automatically scales TiDB clusters based on resource usage and demand.\n- **Upgrades:** Manages rolling upgrades, minimizing downtime.\n- **_Monitoring and alerts:_** Integrates with Prometheus and Grafana for metrics and alerts.\n- **_Backup and restore:_** Supports backup and restore operations for data durability and recovery.\n\n## Deploy TiDB on¬†EKS\n\nDeploying TiDB on AWS Elastic Kubernetes Service EKS involves several steps to ensure a smooth and efficient setup. Below is a guide to help you through the process.\n\n\n![ alt text](./tidb-eks-steps.png)\n\nBefore deploying a TiDB cluster on EKS, make sure the below requirements are satisfied:\n\n- [Install Helm 3](https://helm.sh/docs/intro/install/): used for deploying TiDB Operator.\n- [Complete all operations in Getting started with eksctl](https://docs.aws.amazon.com/eks/latest/userguide/getting-started-eksctl.html). The guide includes the steps to install and configure `awscli`, `eksctl` used for creating Kubernetes clusters and `kubectl`.\n\n\n\n### Create EKS Cluster and Node¬†Pool\n\nThe Recommended instance types and storage are:\nInstance types: to gain better performance, the following is recommended:\n\n- **_PD nodes:_** `c7g.xlarge`\n- **_TiDB nodes:_** `c7g.4xlarge`\n- **_TiKV or TiFlash nodes:_** `m7g.4xlarge`\n- **_Storage:_** Because AWS supports the EBS `gp3` volume type, it is recommended to use `EBS gp3`. For gp3 provisioning, the following is recommended:\n- **_TiKV:_** 400 MiB/s, 4000 IOPS\n- **_TiFlash:_** 625 MiB/s, 6000 IOPS\n- **_AMI type:_** `Amazon Linux 2`\n\n\n**Create EKS Cluster:**\n\n\n```Yaml\napiVersion: eksctl.io/v1alpha5\nkind: ClusterConfig\nmetadata:\n  name: tidb-eks-demo\n  region: eu-west-1\naddons:\n  - name: aws-ebs-csi-driver\n\nnodeGroups:\n  - name: admin\n    desiredCapacity: 1\n    privateNetworking: true\n    labels:\n      dedicated: admin\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1b\n    desiredCapacity: 0\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tidb-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: c5.2xlarge\n    labels:\n      dedicated: tidb\n    taints:\n      dedicated: tidb:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1b\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: pd-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: c7g.xlarge\n    labels:\n      dedicated: pd\n    taints:\n      dedicated: pd:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1a\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1a\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1b\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1b\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n  - name: tikv-1c\n    desiredCapacity: 1\n    privateNetworking: true\n    availabilityZones: [\"eu-west-1c\"]\n    instanceType: r5b.2xlarge\n    labels:\n      dedicated: tikv\n    taints:\n      dedicated: tikv:NoSchedule\n    iam:\n      withAddonPolicies:\n        ebs: true\n```\n\n\nBy default, only two TiDB nodes are required, so you can set the desiredCapacity of the `tidb-1b` node group to 0. You can scale out this node group any time if necessary.\n\nExecute the following command to create the cluster:\n\n```Shell\n$ eksctl create cluster -f cluster.yaml\n```\n\n### Configure Storage\n\n**Deploy AWS EBS CSI Driver: **\n\nIf you are using the gp3 storage type, deploy the AWS EBS Container Storage Interface (CSI) driver.\n\n```Shell\n$ kubectl patch -n kube-system ds ebs-csi-node -p '{\"spec\":{\"template\":{\"spec\":{\"tolerations\":[{\"operator\":\"Exists\"}]}}}}'\n```\n\nExpected output:\n```Shell\n$ daemonset.apps/ebs-csi-node patched\n```\n\n**Create StorageClass for gp3:**\n\n```Shell\nkind: StorageClass\napiVersion: storage.k8s.io/v1\nmetadata:\n  name: gp3\nprovisioner: ebs.csi.aws.com\nallowVolumeExpansion: true\nvolumeBindingMode: WaitForFirstConsumer\nparameters:\n  type: gp3\n  fsType: ext4\n  iops: \"4000\"\n  throughput: \"400\"\nmountOptions:\n  - nodelalloc\n  - noatime\n```\n\n### Deploy TiDB Operator\n\nTo deploy TiDB Operator in the EKS cluster, follow the below steps.\n\n**Install TiDB Operator CRDs:**\n\n```Shell\n$ kubectl create -f https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/manifests/crd.yaml\n```\n\n**Install TiDB Operator:**\n\n```Shell\n$ helm repo add pingcap https://charts.pingcap.org/ \n$ kubectl create namespace tidb-admin \n$ helm install --namespace tidb-admin tidb-operator pingcap/tidb-operator --version v1.6.0\n```\n\n**Confirm TiDB Operator Components:**\n```Shell\n$ kubectl get pods --namespace tidb-admin -l app.kubernetes.io/instance=tidb-operator\n```\n\n### Deploy TiDB Cluster and Monitoring Component:\n\n**Create Namespace:**\n```Shell\n$ kubectl create namespace tidb-cluster\n```\n\n**Deploy TiDB Cluster and Monitor:**\n\n```Shell\n$ curl -O https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-cluster.yaml\n$ curl -O https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-monitor.yaml\n$ curl -O https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-dashboard.yaml\n$ kubectl apply -f tidb-cluster.yaml -n tidb-cluster\n$ kubectl apply -f tidb-monitor.yaml -n tidb-cluster\n$ kubectl apply -f tidb-dashboard.yaml -n tidb-cluster\n```\n\n**View Cluster Status:**\n\n```Shell\n$ kubectl get pods -n tidb-cluster\n```\n\nWhen all the Pods are in the Running or Ready state, the TiDB cluster is successfully started.\n\n**It's your turn to set up TiDB. Good luck and have fun! üòÑ**\n\n## üîö Closing thoughts\n\n\nTiDB offers a modern solution to the challenges of running traditional databases on Kubernetes. By being designed as a cloud-native database from the start, TiDB seamlessly integrates with Kubernetes resources, making deployment and scaling straightforward. It efficiently handles both transactional and analytical workloads, eliminating the need for separate ETL processes.\n\n<br>\n<br>\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  _**Until next time üéâ**_\n\n\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n_**Keep Learning !! Keep Sharing !! üî∞**_\n\n\n**üìªüß° References:**\n\n- https://docs.pingcap.com/tidb/stable\n- https://docs.pingcap.com/tidb-in-kubernetes/stable/deploy-on-aws-eks\n- https://docs.pingcap.com/tidb/stable/tidb-in-kubernetes\n- https://github.com/pingcap/tidb-operator\n- https://www.youtube.com/watch?v=FqMcwv_FL7Q\n- https://surrealdb.com/docs/surrealdb/deployment/amazon\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud coomputing and containers.\n","wordcount":1498}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://seifrajhi.github.io/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://seifrajhi.github.io/blog/"},{"@type":"ListItem","position":3,"name":"Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database","item":"https://seifrajhi.github.io/blog/data-on-kubernetes-8/"}]}</script><link crossorigin="" href="https://utteranc.es" rel="preconnect"/><link crossorigin="" href="https://www.google-analytics.com" rel="preconnect"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=47ae28bb567c9025f1fee24afb2d20c9" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2"/><style>@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2) format("woff2")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMr3.woff) format("woff")}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-LLPCCGNLH7', 'auto', {"alwaysSendReferrer":true});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LLPCCGNLH7"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-LLPCCGNLH7', {"anonymize_ip":true,"send_page_view":false});gtag('config', 'GTM-5V895PDS', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><link rel="stylesheet"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://seifrajhi.github.io/blog/data-on-kubernetes-8/" data-baseprotocol="https:" data-basehost="seifrajhi.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="blogpost-header"><div class="view-page-header"><div class="view-page-header-wrapper"><div class="logo-wrapper"><div class="logo"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained logo-img"><div style="max-width:150px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;174&#x27;%20width=&#x27;150&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" data-src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture><noscript><picture><source type="image/avif" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="name"><a href="/blog/" title="back to blog">Saifeddine <br/> Rajhi</a></div></div><h2 class="blog-title"><a href="/blog/" title="back to the homepage">Blog</a></h2></div></div><nav class="main-navigation"><ul><li><a rel="home" title="Go Home" href="/">Home</a></li><li><a title="Go to my Technical Blog" href="/blog/">Blog</a></li><li><a title="Go to my Thoughts" href="/thoughts/">Thoughts</a></li><li><a title="Review My CV" href="/cv/platform-engineer/">Resume</a></li></ul></nav></div><main><article class="blog-wrapper"><header><figure class="cover"><div class="cover-filter"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper cover cover-image"><div aria-hidden="true" style="padding-top:55.93750000000001%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACy0lEQVR42j2Sy09TWRzHbyYyI5Q+KH0JfV76uFza0mJbaDv0Ta0taKGABcIjVhgVzBiDY2Iyycxk3BkTM7vZzCxd4c6NLlwY49KVbl36D7j+eO4xcfHL7/zu+eV7vo+rdDsHzM9fYW6uzfR0lVisTDzeoFhcJZlcYmHhKrOzl8S5KeeLF9vMzNRwu9OcH4lQya5w9uIt/77+iGk4jJJKXaLX+4Vu9waXL++yvHwg+h6rq4fyvLFxk62tE9rtPVnr6zc5OnqAqhYZNU9jMWtEtRrP3n/m4X9vUAqFLpubt6jV+jQaWxLM683Sau2KeVuCdTr78s4AL5V6VCobDAannJz8TjCYZ+hcAD29wuOzDyihUIF0uiUAr5HNLktJxuuZTFt+M0AWF3vkcitShcFyZqZOubxOvd6XNlks09jMMe7s3UMxwJaWtr9LGwzuC7k3aDZ3WFs7Ynf3V3F3SzLe2bkj7Dni9PRv+v1jrguW/f5t7PYEY2MJfN4cysREhkCwIGTm8PvnMRhPirMxBwILTE5mCInu832b/X6jz0tbXK5ZGY7dHsdsjmIyRVGMxXSyghYtous1mWBcLwkpJZFuU/QKvkiRmFYmGl0kkajLUtWCANEYGgpw7scp8UCRiYksyrgjhUMbYPe1GRkJM2rRcWt7eHxrDA9PCW80Ov48MQEQDOXFTgST2DPb4rjCDcrVbQabd2nUj+mt/4XiGE8wVXuCN3lIeFIl6E0R/PlPgsnbWK06Pk+ah+kO5XyXkgjC4UiIEKLCrwLN5WM+vXwHZ6949s9z/OoSiqo3sVvDOF0JPE4dlzOHw1PCKWrcuUAkWsEdrOK5IPxV89Lnn86rNGqCVesPttYe8Oj+UyrVQ+xCibL//xci1d8wm8JYhQyDldWqYbVosttsKZyORZHiHGZLTP4iVpvOmD2D19di3F3hh6EQI6MxHBeyfAWXI3PkcrT8rgAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/3f9ae8abfe1eb936c594e896bdbf5667/8d8ff/eks-tidb.webp 750w,/static/3f9ae8abfe1eb936c594e896bdbf5667/eedfa/eks-tidb.webp 1080w,/static/3f9ae8abfe1eb936c594e896bdbf5667/e048d/eks-tidb.webp 1366w,/static/3f9ae8abfe1eb936c594e896bdbf5667/f594a/eks-tidb.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png" data-srcset="/static/3f9ae8abfe1eb936c594e896bdbf5667/9ae6a/eks-tidb.png 750w,/static/3f9ae8abfe1eb936c594e896bdbf5667/be7fa/eks-tidb.png 1080w,/static/3f9ae8abfe1eb936c594e896bdbf5667/ee3cf/eks-tidb.png 1366w,/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png 1920w" alt="Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database"/></picture><noscript><picture><source type="image/webp" srcSet="/static/3f9ae8abfe1eb936c594e896bdbf5667/8d8ff/eks-tidb.webp 750w,/static/3f9ae8abfe1eb936c594e896bdbf5667/eedfa/eks-tidb.webp 1080w,/static/3f9ae8abfe1eb936c594e896bdbf5667/e048d/eks-tidb.webp 1366w,/static/3f9ae8abfe1eb936c594e896bdbf5667/f594a/eks-tidb.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png" srcSet="/static/3f9ae8abfe1eb936c594e896bdbf5667/9ae6a/eks-tidb.png 750w,/static/3f9ae8abfe1eb936c594e896bdbf5667/be7fa/eks-tidb.png 1080w,/static/3f9ae8abfe1eb936c594e896bdbf5667/ee3cf/eks-tidb.png 1366w,/static/3f9ae8abfe1eb936c594e896bdbf5667/25d3a/eks-tidb.png 1920w" alt="Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><figcaption data-nosnippet="" class="image-title">Photo by Saifeddine Rajhi</figcaption></figure><h1>Data on Kubernetes: Part 8‚Ää-‚ÄäExploring TiDB, a cloud-native database</h1><div data-nosnippet="" class="blog-details"><time class="blog-createdat" dateTime="2024-09-27">Sep 27, 2024</time><span> ‚Ä¢ </span><span class="blog-time2read">9<!-- -->mins<!-- --> read</span><div class="theme-switcher"><div class="theme-switcher-toggler"><div class="theme-switcher-track"></div><div class="theme-switcher-thumb"></div><input class="theme-switcher-input" type="checkbox" readonly="" aria-label="Switch between Dark and Light modes"/></div></div></div><ul data-nosnippet="" class="blog-tags"><li>Open source</li><li>Kubernetes</li><li>TiDB</li><li>AWS EKS</li><li>Cloud Native</li></ul></header><div class="blog-divider"></div><div id="intro"></div><div class="content-wrapper"><div data-nosnippet="" class="blog-content-nav-wrapper"><ul class="blog-content-nav"><h2>Content</h2><ul class="toc-list"></ul></ul></div><div class="content blog-content"><blockquote>
<p><strong>TiDB: A Cloud-Native Database for hybrid workloads</strong></p>
</blockquote>
<h2 id="-introduction" style="position:relative;"><a href="#-introduction" aria-label=" introduction permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üìö Introduction</h2>
<p>The idea of a Kubernetes-native database like TiDB came up to solve the problems of running traditional databases on Kubernetes. Databases like MySQL and Cassandra have been around for a long time and work well, but they can be hard to manage on Kubernetes.¬†</p>
<p><a href="https://docs.pingcap.com/tidb/stable" target="_blank" rel="noopener noreferrer">TiDB</a>, created by PingCAP, is built from the start to work well with Kubernetes. It can handle both <a href="https://www.fivetran.com/blog/databases-demystified-analytical-vs-transactional" target="_blank" rel="noopener noreferrer">transactional and analytical workloads</a> without needing a separate ETL process. This makes TiDB a very useful  for managing data on Kubernetes.</p>
<p>Traditional databases often face challenges when adapted to Kubernetes, such as managing multiple nodes and integrating with Kubernetes storage. TiDB addresses these issues by being designed as a cloud-native database from day one.¬†</p>
<p>It makes use of Kubernetes resources like Pods, StatefulSets, and PersistentVolumes, and is managed by an operator, making deployment and scaling easier. With TiDB, you get the benefits of both transactional and analytical processing in one system, simplifying your data management tasks.</p>
<h2 id="Ô∏è-history-and-development-oftidb" style="position:relative;"><a href="#%EF%B8%8F-history-and-development-oftidb" aria-label="Ô∏è history and development oftidb permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>‚úçÔ∏è History and development of¬†TiDB</h2>
<p>TiDB, <a href="https://docs.pingcap.com/tidb/stable/overview" target="_blank" rel="noopener noreferrer">short for "Titanium Database,"</a> is an open-source, MySQL-compatible database developed by PingCAP. The development of TiDB began in 2015 with the goal of creating a database that could handle both transactional and analytical workloads efficiently. The inspiration for TiDB came from Google's F1 project, which built on top of Spanner, a globally distributed database.</p>
<p>TiDB was designed to address the limitations of traditional databases, such as scalability and flexibility, by making use of a cloud-native architecture.</p>
<h3 id="overview-of-pingcap-and-their-role-in-the-development-oftidb" style="position:relative;"><a href="#overview-of-pingcap-and-their-role-in-the-development-oftidb" aria-label="overview of pingcap and their role in the development oftidb permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Overview of PingCAP and their role in the development of¬†TiDB</h3>
<p>PingCAP, the company behind TiDB, was founded by a group of engineers with extensive experience in database systems and distributed computing. Their mission was to build a database that could meet the demands of modern applications, which require both high availability and the ability to process large volumes of data in real-time.</p>
<p>PingCAP has been the primary contributor to TiDB, continuously improving its features and performance. They have also fostered a strong community around TiDB, encouraging collaboration and contributions from developers worldwide.</p>
<h3 id="key-features-oftidb" style="position:relative;"><a href="#key-features-oftidb" aria-label="key features oftidb permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Key Features of¬†TiDB</h3>
<p><strong><em>‚úÖ Hybrid Transactional and Analytical Processing (HTAP):</em></strong></p>
<p>One of the standout features of TiDB is its support for Hybrid Transactional and Analytical Processing (HTAP). This means TiDB can handle both transactional (OLTP) and analytical (OLAP) workloads without the need for a separate ETL process. TiDB achieves this by using two different storage engines: TiKV for transactional workloads and TiFlash for analytical workloads. This dual-engine approach allows TiDB to provide real-time analytics on fresh transactional data, making it highly efficient for applications that require both types of operations.</p>
<p><strong><em>‚úÖ MySQL compatibility:</em></strong></p>
<p>TiDB is fully compatible with MySQL, which means it can be used as a drop-in replacement for MySQL databases. This compatibility extends to MySQL protocols and SQL syntax, making it easy for developers to migrate their applications to TiDB without significant changes. This feature also allows TiDB to integrate seamlessly with existing MySQL tools and ecosystems.</p>
<p><strong><em>‚úÖ Scalability and flexibility:</em></strong></p>
<p>TiDB is designed to scale horizontally, which means it can handle increasing amounts of data and traffic by adding more nodes to the cluster. This scalability is achieved through a distributed architecture where data is automatically sharded and balanced across multiple nodes. TiDB's flexibility allows it to run on various environments, including on-premises data centers, public clouds, and Kubernetes clusters. This makes TiDB a versatile solution for different deployment scenarios.</p>
<p><strong><em>‚úÖ High availability and fault tolerance:</em></strong></p>
<p>TiDB ensures high availability and fault tolerance through its distributed architecture. Data is replicated across multiple nodes, typically with at least three replicas, to provide redundancy. In the event of a node failure, TiDB can automatically failover to another replica, ensuring continuous availability. The Placement Driver (PD) component of TiDB manages metadata and coordinates data placement, further enhancing the system's resilience and ability to recover from failures.</p>
<h2 id="tidb-architecture" style="position:relative;"><a href="#tidb-architecture" aria-label="tidb architecture permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>TiDB Architecture</h2>
<p>TiDB's architecture is designed for high performance, scalability, and flexibility by separating compute and storage into distinct, independently scalable components.</p>
<p>Let's look at each component:</p>
<p><strong><em>‚ùé TiDB:</em></strong></p>
<p>Each TiDB instance is a stateless service exposing a MySQL endpoint. It parses SQL requests, uses metadata from the Placement Driver to create execution plans, and queries TiKV and TiFlash nodes. Results are assembled and returned to the client. A proxy typically provides load balancing for the TiDB cluster.</p>
<p><strong><em>‚ùé TiKV:</em></strong></p>
<p>TiKV is an open-source, distributed key-value database for transactional workloads. It uses RocksDB and provides a custom Distributed SQL API. TiKV ensures high availability and fault tolerance by storing multiple replicas of data across nodes, supporting automatic failover. It is a CNCF Graduated project recognized for its reliability.</p>
<p><strong><em>‚ùé TiFlash:</em></strong></p>
<p>TiFlash is a columnar storage engine for analytical workloads, based on ClickHouse. Data is replicated from TiKV to TiFlash in real-time, enabling analytical queries on fresh transactional data without a separate ETL process. Columnar storage offers significant performance advantages for analytical queries.</p>
<p><strong><em>‚ùé TiSpark:</em></strong></p>
<p>TiSpark is a library for Apache Spark, supporting complex analytical (OLAP) queries. It integrates with Spark to ingest data from TiFlash using the Distributed SQL API, leveraging Spark's data processing capabilities for large-scale analytics.</p>
<p><strong><em>‚ùé Placement Driver (PD):</em></strong></p>
<p>The PD manages metadata for TiDB, deployed in a cluster of at least three nodes. It uses range-based sharding to divide table keys into regions, assigning them to TiKV nodes. PD monitors data amounts, splitting large regions to scale up and merging smaller ones to scale down.</p>
<p><strong><em>‚ùé TiDB Operator:</em></strong></p>
<p>The TiDB Operator automates deployment, management, and scaling of TiDB clusters on Kubernetes. It handles tasks like deployment, scaling, upgrades, monitoring, and backup/restore operations, leveraging Kubernetes resources like Pods, StatefulSets, and PersistentVolumes.</p>
<h3 id="how-tidb-uses-kubernetes-resources" style="position:relative;"><a href="#how-tidb-uses-kubernetes-resources" aria-label="how tidb uses kubernetes resources permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How TiDB uses Kubernetes resources</h3>
<p>TiDB integrates seamlessly with Kubernetes, using its resources to manage and scale efficiently:</p>
<ul>
<li><strong><em>Pods:</em></strong> Each TiDB instance runs as a stateless service in a Pod, easily scalable based on demand.</li>
<li><strong><em>StatefulSets:</em></strong> TiKV and TiFlash nodes are deployed using StatefulSets, ensuring stable network identities and persistent storage.</li>
<li><strong><em>PersistentVolumes (PVs) and PersistentVolumeClaims (PVCs):</em></strong> TiDB uses PVs for durable storage and PVCs for specific storage requests.</li>
</ul>
<h3 id="role-of-the-tidb-operator-in-managing-the-databases" style="position:relative;"><a href="#role-of-the-tidb-operator-in-managing-the-databases" aria-label="role of the tidb operator in managing the databases permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Role of the TiDB operator in managing the databases:</h3>
<p>The TiDB Operator simplifies running TiDB on Kubernetes by automating:</p>
<ul>
<li><strong><em>Deployment:</em></strong> Automates deployment of TiDB components using Kubernetes resources.</li>
<li><strong><em>Scaling:</em></strong> Automatically scales TiDB clusters based on resource usage and demand.</li>
<li><strong>Upgrades:</strong> Manages rolling upgrades, minimizing downtime.</li>
<li><strong><em>Monitoring and alerts:</em></strong> Integrates with Prometheus and Grafana for metrics and alerts.</li>
<li><strong><em>Backup and restore:</em></strong> Supports backup and restore operations for data durability and recovery.</li>
</ul>
<h2 id="deploy-tidb-oneks" style="position:relative;"><a href="#deploy-tidb-oneks" aria-label="deploy tidb oneks permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Deploy TiDB on¬†EKS</h2>
<p>Deploying TiDB on AWS Elastic Kubernetes Service EKS involves several steps to ensure a smooth and efficient setup. Below is a guide to help you through the process.</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 54.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACC0lEQVR42mNgYGBgRMIoQEtLi01fXl8AyOTJ8sqS31q4dW6mc6YSkM9tbGzMyoAP/P8PMXTt2gLJ5cuz/GfNSvTRs1QSA4rBNf6v/88SGhrKzBC6inlCeZpcc2641a7pNao3NvWIQMz4z8iQu20iu3NsgLBHtIcMyCWrFmba795evPTE4eqO0FAnaS0ZLSF3Y1vJ+vh4DqA806pVQAOBYEVzUvS2/pxFe6YXzFvenpQPN7BoV1ZV7trk+UU7suaUrEl1OZpZWr4+NW/ZzsziZXuLikJ3FM8s3pA3Ye+2oinbjmRPtuw9c0x3/pEjC2fsO7Bs5rHDUbOmXfCZPf3M9CXzr0xdNPuSK0PZge1lhdvWTqg8vKe3fO9Wp/8MDOxnZvaIHGqtFN1UX8+1v34Kz/36+QLH6lcJ/a/fz1I+cyZ/94YNWn0bN2pXTpgtPnlDY2DPsurJPcur+yesrnVmKNlzOLD6yKnwikMnYot37teBO50AgKlZtr81ZNr6sr7ZW6u7Fu9tc8OmlvE/ZqzDxMCgvr6eCURPnDiR/djkEwXbWvf07us53HVkyvFUYIStYoZhmEISAGPrsnmuVdMnZdXNmZ7avHCuDQOloL5/jl1J86T06o5ZyWUd080oNrCnY6ZNU/20tAndi+N72ucYkmUINBMwzJwZLXn8eObc7dvjl+7dm7T4yLGsqQBg8uNIePtjBgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt=" alt text" title="" src="/static/bfa9f3f9d874c5d9e5e293a116ad888c/c5bb3/tidb-eks-steps.png" srcset="/static/bfa9f3f9d874c5d9e5e293a116ad888c/04472/tidb-eks-steps.png 170w,
/static/bfa9f3f9d874c5d9e5e293a116ad888c/9f933/tidb-eks-steps.png 340w,
/static/bfa9f3f9d874c5d9e5e293a116ad888c/c5bb3/tidb-eks-steps.png 680w,
/static/bfa9f3f9d874c5d9e5e293a116ad888c/b12f7/tidb-eks-steps.png 1020w,
/static/bfa9f3f9d874c5d9e5e293a116ad888c/b5a09/tidb-eks-steps.png 1360w,
/static/bfa9f3f9d874c5d9e5e293a116ad888c/65781/tidb-eks-steps.png 2778w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<p>Before deploying a TiDB cluster on EKS, make sure the below requirements are satisfied:</p>
<ul>
<li><a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer">Install Helm 3</a>: used for deploying TiDB Operator.</li>
<li><a href="https://docs.aws.amazon.com/eks/latest/userguide/getting-started-eksctl.html" target="_blank" rel="noopener noreferrer">Complete all operations in Getting started with eksctl</a>. The guide includes the steps to install and configure <code class="language-text">awscli</code>, <code class="language-text">eksctl</code> used for creating Kubernetes clusters and <code class="language-text">kubectl</code>.</li>
</ul>
<h3 id="create-eks-cluster-and-nodepool" style="position:relative;"><a href="#create-eks-cluster-and-nodepool" aria-label="create eks cluster and nodepool permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Create EKS Cluster and Node¬†Pool</h3>
<p>The Recommended instance types and storage are:
Instance types: to gain better performance, the following is recommended:</p>
<ul>
<li><strong><em>PD nodes:</em></strong> <code class="language-text">c7g.xlarge</code></li>
<li><strong><em>TiDB nodes:</em></strong> <code class="language-text">c7g.4xlarge</code></li>
<li><strong><em>TiKV or TiFlash nodes:</em></strong> <code class="language-text">m7g.4xlarge</code></li>
<li><strong><em>Storage:</em></strong> Because AWS supports the EBS <code class="language-text">gp3</code> volume type, it is recommended to use <code class="language-text">EBS gp3</code>. For gp3 provisioning, the following is recommended:</li>
<li><strong><em>TiKV:</em></strong> 400 MiB/s, 4000 IOPS</li>
<li><strong><em>TiFlash:</em></strong> 625 MiB/s, 6000 IOPS</li>
<li><strong><em>AMI type:</em></strong> <code class="language-text">Amazon Linux 2</code></li>
</ul>
<p><strong>Create EKS Cluster:</strong></p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> eksctl.io/v1alpha5
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ClusterConfig
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> tidb<span class="token punctuation">-</span>eks<span class="token punctuation">-</span>demo
  <span class="token key atrule">region</span><span class="token punctuation">:</span> eu<span class="token punctuation">-</span>west<span class="token punctuation">-</span><span class="token number">1</span>
<span class="token key atrule">addons</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> aws<span class="token punctuation">-</span>ebs<span class="token punctuation">-</span>csi<span class="token punctuation">-</span>driver

<span class="token key atrule">nodeGroups</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> admin
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> admin
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> tidb<span class="token punctuation">-</span>1a
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1a"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> c5.2xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tidb
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tidb<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> tidb<span class="token punctuation">-</span>1b
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1b"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> c5.2xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tidb
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tidb<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> tidb<span class="token punctuation">-</span>1c
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1c"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> c5.2xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tidb
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tidb<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pd<span class="token punctuation">-</span>1a
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1a"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> c7g.xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> pd
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> pd<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pd<span class="token punctuation">-</span>1b
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1b"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> c7g.xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> pd
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> pd<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> pd<span class="token punctuation">-</span>1c
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1c"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> c7g.xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> pd
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> pd<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> tikv<span class="token punctuation">-</span>1a
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1a"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> r5b.2xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tikv
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tikv<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> tikv<span class="token punctuation">-</span>1b
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1b"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> r5b.2xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tikv
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tikv<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> tikv<span class="token punctuation">-</span>1c
    <span class="token key atrule">desiredCapacity</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">privateNetworking</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">availabilityZones</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"eu-west-1c"</span><span class="token punctuation">]</span>
    <span class="token key atrule">instanceType</span><span class="token punctuation">:</span> r5b.2xlarge
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tikv
    <span class="token key atrule">taints</span><span class="token punctuation">:</span>
      <span class="token key atrule">dedicated</span><span class="token punctuation">:</span> tikv<span class="token punctuation">:</span>NoSchedule
    <span class="token key atrule">iam</span><span class="token punctuation">:</span>
      <span class="token key atrule">withAddonPolicies</span><span class="token punctuation">:</span>
        <span class="token key atrule">ebs</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></div>
<p>By default, only two TiDB nodes are required, so you can set the desiredCapacity of the <code class="language-text">tidb-1b</code> node group to 0. You can scale out this node group any time if necessary.</p>
<p>Execute the following command to create the cluster:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ eksctl create cluster <span class="token parameter variable">-f</span> cluster.yaml</code></pre></div>
<h3 id="configure-storage" style="position:relative;"><a href="#configure-storage" aria-label="configure storage permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Configure Storage</h3>
<p>**Deploy AWS EBS CSI Driver: **</p>
<p>If you are using the gp3 storage type, deploy the AWS EBS Container Storage Interface (CSI) driver.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ kubectl patch <span class="token parameter variable">-n</span> kube-system ds ebs-csi-node <span class="token parameter variable">-p</span> <span class="token string">'{"spec":{"template":{"spec":{"tolerations":[{"operator":"Exists"}]}}}}'</span></code></pre></div>
<p>Expected output:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ daemonset.apps/ebs-csi-node patched</code></pre></div>
<p><strong>Create StorageClass for gp3:</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: gp3
provisioner: ebs.csi.aws.com
allowVolumeExpansion: <span class="token boolean">true</span>
volumeBindingMode: WaitForFirstConsumer
parameters:
  type: gp3
  fsType: ext4
  iops: <span class="token string">"4000"</span>
  throughput: <span class="token string">"400"</span>
mountOptions:
  - nodelalloc
  - noatime</code></pre></div>
<h3 id="deploy-tidb-operator" style="position:relative;"><a href="#deploy-tidb-operator" aria-label="deploy tidb operator permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Deploy TiDB Operator</h3>
<p>To deploy TiDB Operator in the EKS cluster, follow the below steps.</p>
<p><strong>Install TiDB Operator CRDs:</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ kubectl create <span class="token parameter variable">-f</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/manifests/crd.yaml</code></pre></div>
<p><strong>Install TiDB Operator:</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ helm repo <span class="token function">add</span> pingcap https://charts.pingcap.org/ 
$ kubectl create namespace tidb-admin 
$ helm <span class="token function">install</span> <span class="token parameter variable">--namespace</span> tidb-admin tidb-operator pingcap/tidb-operator <span class="token parameter variable">--version</span> v1.6.0</code></pre></div>
<p><strong>Confirm TiDB Operator Components:</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ kubectl get pods <span class="token parameter variable">--namespace</span> tidb-admin <span class="token parameter variable">-l</span> app.kubernetes.io/instance<span class="token operator">=</span>tidb-operator</code></pre></div>
<h3 id="deploy-tidb-cluster-and-monitoring-component" style="position:relative;"><a href="#deploy-tidb-cluster-and-monitoring-component" aria-label="deploy tidb cluster and monitoring component permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Deploy TiDB Cluster and Monitoring Component:</h3>
<p><strong>Create Namespace:</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ kubectl create namespace tidb-cluster</code></pre></div>
<p><strong>Deploy TiDB Cluster and Monitor:</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">curl</span> <span class="token parameter variable">-O</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-cluster.yaml
$ <span class="token function">curl</span> <span class="token parameter variable">-O</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-monitor.yaml
$ <span class="token function">curl</span> <span class="token parameter variable">-O</span> https://raw.githubusercontent.com/pingcap/tidb-operator/v1.6.0/examples/aws/tidb-dashboard.yaml
$ kubectl apply <span class="token parameter variable">-f</span> tidb-cluster.yaml <span class="token parameter variable">-n</span> tidb-cluster
$ kubectl apply <span class="token parameter variable">-f</span> tidb-monitor.yaml <span class="token parameter variable">-n</span> tidb-cluster
$ kubectl apply <span class="token parameter variable">-f</span> tidb-dashboard.yaml <span class="token parameter variable">-n</span> tidb-cluster</code></pre></div>
<p><strong>View Cluster Status:</strong></p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ kubectl get pods <span class="token parameter variable">-n</span> tidb-cluster</code></pre></div>
<p>When all the Pods are in the Running or Ready state, the TiDB cluster is successfully started.</p>
<p><strong>It's your turn to set up TiDB. Good luck and have fun! üòÑ</strong></p>
<h2 id="-closing-thoughts" style="position:relative;"><a href="#-closing-thoughts" aria-label=" closing thoughts permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üîö Closing thoughts</h2>
<p>TiDB offers a modern solution to the challenges of running traditional databases on Kubernetes. By being designed as a cloud-native database from the start, TiDB seamlessly integrates with Kubernetes resources, making deployment and scaling straightforward. It efficiently handles both transactional and analytical workloads, eliminating the need for separate ETL processes.</p>
<br>
<br>
<blockquote>
<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <em><strong>Until next time üéâ</strong></em></p>
</blockquote>
<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>
<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href="https://www.linkedin.com/in/rajhi-saif/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/rajhi-saif/</a></p>
<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href="https://x.com/rajhisaifeddine" target="_blank" rel="noopener noreferrer">https://x.com/rajhisaifeddine</a></p>
<p><strong>The end ‚úåüèª</strong></p>
<p><em><strong>Keep Learning !! Keep Sharing !! üî∞</strong></em></p>
<p><strong>üìªüß° References:</strong></p>
<ul>
<li><a href="https://docs.pingcap.com/tidb/stable" target="_blank" rel="noopener noreferrer">https://docs.pingcap.com/tidb/stable</a></li>
<li><a href="https://docs.pingcap.com/tidb-in-kubernetes/stable/deploy-on-aws-eks" target="_blank" rel="noopener noreferrer">https://docs.pingcap.com/tidb-in-kubernetes/stable/deploy-on-aws-eks</a></li>
<li><a href="https://docs.pingcap.com/tidb/stable/tidb-in-kubernetes" target="_blank" rel="noopener noreferrer">https://docs.pingcap.com/tidb/stable/tidb-in-kubernetes</a></li>
<li><a href="https://github.com/pingcap/tidb-operator" target="_blank" rel="noopener noreferrer">https://github.com/pingcap/tidb-operator</a></li>
<li>
<iframe width="100%" height="315" src="https://www.youtube-nocookie.com/embed/FqMcwv_FL7Q?rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</li>
<li><a href="https://surrealdb.com/docs/surrealdb/deployment/amazon" target="_blank" rel="noopener noreferrer">https://surrealdb.com/docs/surrealdb/deployment/amazon</a></li>
</ul>
<p><strong>üìÖ Stay updated</strong></p>
<p>Subscribe to our newsletter for more insights on AWS cloud coomputing and containers.</p></div></div><div id="content-end"></div></article><div data-nosnippet="" class="social-share-wrapper"><h3>Share Your Love</h3><button keywords="" aria-label="Share Via Facebook" class="react-share__ShareButton social-share-item facebook" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"></path></svg></button><button keywords="" aria-label="Share Via Twitter" class="react-share__ShareButton social-share-item twitter" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></button><button aria-label="Share Via LinkedIn" keywords="" class="react-share__ShareButton social-share-item linkedin" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></button><button keywords="" aria-label="Share Via Reddit" class="react-share__ShareButton social-share-item reddit" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit" class="svg-inline--fa fa-reddit " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z"></path></svg></button><button keywords="" aria-label="Add to Pocket" class="react-share__ShareButton social-share-item pocket" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="get-pocket" class="svg-inline--fa fa-get-pocket " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"></path></svg></button></div><br/><br/><br/></main><aside class="blogpost-sidebar"><div data-nosnippet="" class="blog-navigation-wrapper"><h3>Read Other Posts</h3><nav class="blog-navigation"><div class="nav-links"><a rel="next" class="next-post" href="/blog/opentelemtry/">Get Started with OpenTelemetry SDKs<!-- --> ‚Üí</a><a rel="prev" class="prev-post" href="/blog/data-on-kubernetes/">‚Üê <!-- -->Managing Data on Kubernetes</a><a class="all-posts" href="/blog/">All Posts</a></div></nav></div></aside><footer data-nosnippet=""><div class="footer-wrapper"><div data-nosnippet="" class="social"><ul class="social-list"><li class="social-item social-linkedin"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="linkedin" href="https://www.linkedin.com/in/rajhi-saif/" title="Saifeddine Rajhi on LinkedIn" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg><span>LinkedIn</span></a></li><li class="social-item social-github"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="github" href="https://github.com/seifrajhi" title="Saifeddine Rajhi on Github" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span>GitHub</span></a></li><li class="social-item social-email"><a itemProp="email" eventCategory="social" eventAction="click" eventLabel="email" href="mailto:rajhiseif@gmail.com" title="Saifeddine Rajhi&#x27;s Email"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"></path></svg><span>Email</span></a></li><li class="social-item social-X/Twitter"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="X/Twitter" href="https://x.com/RajhiSaifeddine" title="Saifeddine Rajhi on X/X/Twitter" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg><span>X/Twitter</span></a></li><li class="social-item social-reddit"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="reddit" href="https://www.reddit.com/user/ScoreApprehensive992/" title="Saifeddine Rajhi on Reddit" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit-alien" class="svg-inline--fa fa-reddit-alien fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M373 138.6c-25.2 0-46.3-17.5-51.9-41l0 0c-30.6 4.3-54.2 30.7-54.2 62.4l0 .2c47.4 1.8 90.6 15.1 124.9 36.3c12.6-9.7 28.4-15.5 45.5-15.5c41.3 0 74.7 33.4 74.7 74.7c0 29.8-17.4 55.5-42.7 67.5c-2.4 86.8-97 156.6-213.2 156.6S45.5 410.1 43 323.4C17.6 311.5 0 285.7 0 255.7c0-41.3 33.4-74.7 74.7-74.7c17.2 0 33 5.8 45.7 15.6c34-21.1 76.8-34.4 123.7-36.4l0-.3c0-44.3 33.7-80.9 76.8-85.5C325.8 50.2 347.2 32 373 32c29.4 0 53.3 23.9 53.3 53.3s-23.9 53.3-53.3 53.3zM157.5 255.3c-20.9 0-38.9 20.8-40.2 47.9s17.1 38.1 38 38.1s36.6-9.8 37.8-36.9s-14.7-49.1-35.7-49.1zM395 303.1c-1.2-27.1-19.2-47.9-40.2-47.9s-36.9 22-35.7 49.1c1.2 27.1 16.9 36.9 37.8 36.9s39.3-11 38-38.1zm-60.1 70.8c1.5-3.6-1-7.7-4.9-8.1c-23-2.3-47.9-3.6-73.8-3.6s-50.8 1.3-73.8 3.6c-3.9 .4-6.4 4.5-4.9 8.1c12.9 30.8 43.3 52.4 78.7 52.4s65.8-21.6 78.7-52.4z"></path></svg><span>Reddit</span></a></li><li class="social-item social-stackoverflow"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://stackoverflow.com/users/21897244/saifeddine-rajhi" title="Saifeddine Rajhi on StackOverflow" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="stack-overflow" class="svg-inline--fa fa-stack-overflow fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"></path></svg><span>StackOverflow</span></a></li><li class="social-item social-Goodreads"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://www.goodreads.com/user/show/176103378-saifeddine" title="Saifeddine Rajhi on Goodreads" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="goodreads" class="svg-inline--fa fa-goodreads fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M299.9 191.2c5.1 37.3-4.7 79-35.9 100.7-22.3 15.5-52.8 14.1-70.8 5.7-37.1-17.3-49.5-58.6-46.8-97.2 4.3-60.9 40.9-87.9 75.3-87.5 46.9-.2 71.8 31.8 78.2 78.3zM448 88v336c0 30.9-25.1 56-56 56H56c-30.9 0-56-25.1-56-56V88c0-30.9 25.1-56 56-56h336c30.9 0 56 25.1 56 56zM330 313.2s-.1-34-.1-217.3h-29v40.3c-.8.3-1.2-.5-1.6-1.2-9.6-20.7-35.9-46.3-76-46-51.9.4-87.2 31.2-100.6 77.8-4.3 14.9-5.8 30.1-5.5 45.6 1.7 77.9 45.1 117.8 112.4 115.2 28.9-1.1 54.5-17 69-45.2.5-1 1.1-1.9 1.7-2.9.2.1.4.1.6.2.3 3.8.2 30.7.1 34.5-.2 14.8-2 29.5-7.2 43.5-7.8 21-22.3 34.7-44.5 39.5-17.8 3.9-35.6 3.8-53.2-1.2-21.5-6.1-36.5-19-41.1-41.8-.3-1.6-1.3-1.3-2.3-1.3h-26.8c.8 10.6 3.2 20.3 8.5 29.2 24.2 40.5 82.7 48.5 128.2 37.4 49.9-12.3 67.3-54.9 67.4-106.3z"></path></svg><span>Goodreads</span></a></li><li class="social-item social-osi"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://ossinsight.io/analyze/seifrajhi" title="Saifeddine Rajhi on OSSInsights" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="osi" class="svg-inline--fa fa-osi fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M8 266.44C10.3 130.64 105.4 34 221.8 18.34c138.8-18.6 255.6 75.8 278 201.1 21.3 118.8-44 230-151.6 274-9.3 3.8-14.4 1.7-18-7.7q-26.7-69.45-53.4-139c-3.1-8.1-1-13.2 7-16.8 24.2-11 39.3-29.4 43.3-55.8a71.47 71.47 0 0 0-64.5-82.2c-39-3.4-71.8 23.7-77.5 59.7-5.2 33 11.1 63.7 41.9 77.7 9.6 4.4 11.5 8.6 7.8 18.4q-26.85 69.9-53.7 139.9c-2.6 6.9-8.3 9.3-15.5 6.5-52.6-20.3-101.4-61-130.8-119-24.9-49.2-25.2-87.7-26.8-108.7zm20.9-1.9c.4 6.6.6 14.3 1.3 22.1 6.3 71.9 49.6 143.5 131 183.1 3.2 1.5 4.4.8 5.6-2.3q22.35-58.65 45-117.3c1.3-3.3.6-4.8-2.4-6.7-31.6-19.9-47.3-48.5-45.6-86 1-21.6 9.3-40.5 23.8-56.3 30-32.7 77-39.8 115.5-17.6a91.64 91.64 0 0 1 45.2 90.4c-3.6 30.6-19.3 53.9-45.7 69.8-2.7 1.6-3.5 2.9-2.3 6q22.8 58.8 45.2 117.7c1.2 3.1 2.4 3.8 5.6 2.3 35.5-16.6 65.2-40.3 88.1-72 34.8-48.2 49.1-101.9 42.3-161-13.7-117.5-119.4-214.8-255.5-198-106.1 13-195.3 102.5-197.1 225.8z"></path></svg><span>OSSInsights</span></a></li><li class="social-item social-devstats"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://devstats.cluster.fun/?user=seifrajhi" title="Saifeddine Rajhi on DevStats" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-line" class="svg-inline--fa fa-chart-line fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"></path></svg><span>DevStats</span></a></li><li class="social-item social-RSS"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="RSS" href="https://seifrajhi.github.io/rss.xml" title="Subscribe to my blog post" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg><span>RSS</span></a></li></ul></div><div class="copyright">Saifeddine Rajhi ¬© 1994 - <!-- -->2024<!-- --> <br/><a rel="license" href="https://creativecommons.org/licenses/by/4.0/" title="Content is published under CC BY 4.0 license">CC BY 4.0</a></div><div class="pgp"><a href="https://keybase.io/saifrajhi">0C3B BABB 8BC1 EA2B</a></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/data-on-kubernetes-8/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-9a8612690ac49bf4d185.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-88fb5c28d68e831e730a.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-83bdb4e48c18bf191297.js\"],\"component---src-pages-blog-js\":[\"/component---src-pages-blog-js-1d9df5951d31bb40530f.js\"],\"component---src-pages-cv-ecommerce-developer-js\":[\"/component---src-pages-cv-ecommerce-developer-js-d1851454f247dcae7a52.js\"],\"component---src-pages-cv-platform-engineer-backup-js\":[\"/component---src-pages-cv-platform-engineer-backup-js-032ec4806b6ebaf7b512.js\"],\"component---src-pages-cv-platform-engineer-js\":[\"/component---src-pages-cv-platform-engineer-js-3f9ab5d9a89c46bb51e4.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-05d8f3435c4df82fd6b8.js\"],\"component---src-pages-thoughts-js\":[\"/component---src-pages-thoughts-js-fe54f831bbb3f7f31564.js\"],\"component---src-templates-blog-template-js\":[\"/component---src-templates-blog-template-js-b2a62575daef5a334ab3.js\"],\"component---src-templates-thought-template-js\":[\"/component---src-templates-thought-template-js-22418db5dfd1822532e8.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="71c83b6af7649f5f052e";</script><script src="/webpack-runtime-2488ea56f400e0738f06.js" async></script><script src="/framework-c989293af61a95023f7f.js" async></script><script src="/app-9a8612690ac49bf4d185.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>