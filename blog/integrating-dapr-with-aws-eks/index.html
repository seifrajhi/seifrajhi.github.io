<!DOCTYPE html><html lang="en" class="blogpost-view-page"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="description" property="og:description" content="Learn how to accelerate your microservices development on AWS EKS using Dapr. Simplify and secure your distributed applications with ease."/><meta data-react-helmet="true" name="keywords" content="Dapr,AWS EKS,Microservices,Kubernetes,AWS,Distributed Applications"/><meta data-react-helmet="true" name="author" content="@RajhiSaifeddine"/><meta data-react-helmet="true" property="og:title" content="Speed Up Microservices Development with Dapr on AWS EKS - Blog"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@RajhiSaifeddine"/><meta data-react-helmet="true" name="twitter:title" content="Speed Up Microservices Development with Dapr on AWS EKS - Blog"/><meta data-react-helmet="true" name="twitter:description" content="Learn how to accelerate your microservices development on AWS EKS using Dapr. Simplify and secure your distributed applications with ease."/><meta data-react-helmet="true" name="image" property="og:image" content="https://seifrajhi.github.io/static/97a423b2289a433a2560c484437c7cfe/94622/daper-eks-cover.png"/><meta data-react-helmet="true" name="twitter:image" content="https://seifrajhi.github.io/static/97a423b2289a433a2560c484437c7cfe/94622/daper-eks-cover.png"/><meta data-react-helmet="true" property="og:url" content="https://seifrajhi.github.io/blog/integrating-dapr-with-aws-eks/"/><meta name="theme-color" content="#ffffff"/><link rel="stylesheet" href="/styles.19780313cdbeec1e4ef5.css"/><link rel="stylesheet"/><link rel="alternate" type="application/rss+xml" title="Saifeddine Rajhi&#x27;s Blog RSS Feed" href="/rss.xml"/><title data-react-helmet="true">Speed Up Microservices Development with Dapr on AWS EKS - Blog by Saifeddine Rajhi</title><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","image":"/static/97a423b2289a433a2560c484437c7cfe/94622/daper-eks-cover.png","headline":"Speed Up Microservices Development with Dapr on AWS EKS","dateCreated":"2024-11-02","datePublished":"2024-11-02","dateModified":"2024-11-02","inLanguage":"en-US","isFamilyFriendly":true,"isAccessibleForFree":true,"author":{"@type":"Person","name":"Saifeddine Rajhi","url":"https://seifrajhi.github.io"},"publisher":{"@type":"Organization","name":"Saifeddine Rajhi's Website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://seifrajhi.github.io/blog/integrating-dapr-with-aws-eks/"},"keywords":["Dapr","AWS EKS","Microservices","Kubernetes","AWS","Distributed Applications"],"genre":["Platform engineer","software engineering","science","deep learning","statistics"],"articleSection":"Technical Blog","articleBody":"\n> **Use Dapr to Build Distributed Applications Easily on Kubernetes 🎩**\n\n## 🐳 Introduction\n\n[Building distributed](https://en.wikipedia.org/wiki/Distributed_computing) applications means creating software that runs on multiple computers within a network, working together to achieve a common goal. This involves coordinating various components or modules that might be spread across different infrastructures.\n\nOrganizations often opt for distributed applications for two main reasons. First, they allow multiple development teams to work independently while contributing to a larger system. Second, they enable the integration of components built with different programming languages, enhancing interoperability.\n\nThis flexibility is important in today's diverse tech landscape, where different teams might prefer different tools and languages.\n\nHowever, developing distributed applications comes with several challenges. Ensuring that numerous components work together fluently requires careful attention to resiliency (the ability to recover from failures), [observability](https://en.wikipedia.org/wiki/Observability_(software)) (monitoring the system's health), security, and scalability across various services and runtimes.\n\nAdditionally, these applications often interact with [message brokers](https://en.wikipedia.org/wiki/Message_broker) (like [Kafka](https://kafka.apache.org/) or [RabbitMQ](https://www.rabbitmq.com/)), [data stores](https://en.wikipedia.org/wiki/Data_store) (like databases), and external services (like third-party APIs), necessitating a thorough understanding of specific APIs and SDKs, which adds to the complexity. The need for robust error handling, efficient load balancing, and seamless service discovery further complicates the development process.\n\nIn this blog, we will explore how the open-source [Dapr](https://dapr.io/) (Distributed Application Runtime) can assist us in building reliable and secure distributed applications. Dapr provides a set of building blocks for common microservice patterns, such as service invocation (calling services), state management (handling data), and [pub/sub messaging](https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern) (publish/subscribe communication), which can significantly reduce the development effort.\n\nBy using Dapr’s built-in best practices and patterns, we will also highlight common use cases for Dapr on [AWS EKS](https://aws.amazon.com/eks/) (Elastic Kubernetes Service), demonstrating how it can simplify and enhance your microservices architecture. This approach not only speeds up development but also ensures that your applications are scalable and maintainable.\n\n> For more on Dapr, [check out Part 1 of our series](https://seifrajhi.github.io/blog/dapr-kubernetes-event-driven-runtime-part1/). You can also learn more about [Kubernetes](https://kubernetes.io/), [AWS EKS](https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html), and [microservices architecture](https://martinfowler.com/articles/microservices.html) to deepen your understanding of the concepts discussed in this post.\n\n## 🚀 What is Dapr and Why Do We Need It?\n\n[Dapr](https://dapr.io/) (Distributed Application Runtime) is an open-source project designed to simplify the development of microservices. It provides a set of building blocks that address common challenges in building distributed applications, such as service-to-service communication, state management, and pub/sub messaging.\n\n### 🌟 Main Features of Dapr\n\n![Dapr Features](image.png)\n\n1. **Service Invocation**:\n    - Dapr makes it easy for microservices to communicate with each other. Instead of writing custom code to handle HTTP or gRPC calls, you can use Dapr's [Service Invocation](https://docs.dapr.io/developing-applications/building-blocks/service-invocation/) API. This API abstracts the complexity and provides built-in retries, timeouts, and error handling. The [middleware components](https://docs.dapr.io/concepts/components-concept/#middleware) are used with the service invocation building block.\n\n2. **State Management**:\n    - Managing state in a distributed system can be complex. Dapr provides a [State Management API](https://docs.dapr.io/developing-applications/building-blocks/state-management/) that allows you to store and retrieve state across different services. This API supports various state stores like Redis, DynamoDB, and Cosmos DB, making it flexible and easy to use.\n\n3. **Publish/Subscribe Messaging**:\n    - For event-driven architectures, Dapr offers a [Pub/Sub API](https://docs.dapr.io/developing-applications/building-blocks/pubsub/). This allows services to publish events and other services to subscribe to them, enabling asynchronous communication. You can integrate with message brokers like AWS SNS, SQS, and Kafka without changing your application code.\n\n4. **Bindings**:\n    - Dapr supports input and output bindings to interact with external systems. This means you can easily connect to databases, message queues, and other services using Dapr's [Binding API](https://docs.dapr.io/developing-applications/building-blocks/bindings/).\n\n5. **Workflow**:\n    - Dapr provides a built-in [workflow](https://docs.dapr.io/developing-applications/building-blocks/workflow/) feature to orchestrate logic across various microservices.\n\n6. **Actors**:\n    - Dapr supports the actor model, allowing you to encapsulate code and data in reusable actor objects, which is a common microservices design pattern.\n\n7. **Secrets Management**:\n    - Security is a critical aspect of any distributed system. Dapr includes features like mutual TLS (mTLS) for secure service-to-service communication and [secret management](https://docs.dapr.io/developing-applications/building-blocks/secrets/) to handle sensitive information like API keys and database credentials.\n\n8. **Configuration**:\n    - Dapr provides a [Configuration API](https://docs.dapr.io/developing-applications/building-blocks/configuration/) to manage and be notified of application configuration changes.\n\n9. **Distributed Lock**:\n    - Dapr offers a [Distributed Lock API](https://docs.dapr.io/developing-applications/building-blocks/distributed-lock/) to provide mutually exclusive access to shared resources from an application.\n\n10. **Cryptography**:\n     - Dapr includes a [Cryptography API](https://docs.dapr.io/developing-applications/building-blocks/cryptography/) to perform cryptographic operations without exposing keys to your application.\n\n11. **Jobs**:\n     - Dapr provides a [Jobs API](https://docs.dapr.io/developing-applications/building-blocks/jobs/) to manage the scheduling and orchestration of jobs.\n\nBy leveraging these features, Dapr simplifies the development of distributed applications, allowing developers to focus on writing business logic rather than dealing with the complexities of distributed systems. This leads to faster development cycles, more reliable applications, and easier maintenance.\n\n### ❓ Why Do We Need Dapr?\n\nDeveloping distributed applications involves several challenges:\n\n- **Complex Communication**: Ensuring reliable communication between services can be difficult, especially when dealing with different protocols and error handling.\n- **State Management**: Keeping track of state across multiple services requires a consistent and reliable approach.\n- **Event-Driven Architecture**: Implementing pub/sub messaging patterns can be complex and requires integration with various message brokers.\n- **External Integrations**: Connecting to external systems like databases and third-party APIs often involves writing boilerplate code.\n- **Observability**: Monitoring and diagnosing issues in a distributed system requires comprehensive logging, metrics, and tracing.\n- **Security**: Ensuring secure communication and managing secrets are essential for protecting your application.\n- **Isolation**: Dapr namespacing provides isolation and multi-tenancy across many capabilities, giving greater security. Typically applications and components are deployed to namespaces to provide isolation in a given environment, such as Kubernetes.\n\nDapr addresses these challenges by providing a set of standardized APIs and components that simplify the development process. By using Dapr, developers can focus on writing business logic instead of dealing with the complexities of distributed systems. This leads to faster development cycles, more reliable applications, and easier maintenance.\n\nFor more details, [check the official documentation](https://docs.dapr.io/concepts/overview/).\n\n## 🛠️ How-To: Invoke Services Using Middleware Component\n\n![Service Invocation](image-1.png)\n\nIn this section, we'll demonstrate how to deploy services with unique application IDs, allowing other services to discover and call endpoints using Dapr's service invocation over HTTP.\n\n### 🆔 Step 1: Choose an ID for Your Service\n\nDapr allows you to assign a global, unique ID for your app. This ID encapsulates the state for your application, regardless of the number of instances it may have.\n\n### 🛠️ Step 2: Set an App-ID When Deploying to Kubernetes\n\nIn Kubernetes, set the `dapr.io/app-id` annotation on your pod:\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n    name: my-app\n    namespace: default\n    labels:\n        app: my-app\nspec:\n    replicas: 1\n    selector:\n        matchLabels:\n            app: my-app\n    template:\n        metadata:\n            labels:\n                app: my-app\n            annotations:\n                dapr.io/enabled: \"true\"\n                dapr.io/app-id: \"order-processor\"\n                dapr.io/app-port: \"6001\"\n                dapr.io/app-protocol: \"http\"  # Use \"https\" if your app uses TLS\n```\n\n### 📡 Step 3: Invoke the Service\n\nTo invoke an application using Dapr, you can use the invoke API on any Dapr instance. The sidecar programming model encourages each application to interact with its own instance of Dapr. The Dapr sidecars discover and communicate with one another.\n\nBelow is an example in Python that leverages Dapr SDKs for service invocation:\n\n```python\nimport random\nfrom time import sleep\nimport logging\nimport requests\nimport json\n\nbase_url = \"http://localhost:3500/v1.0/invoke/order-processor/method\"\nheaders = {'Content-Type': 'application/json'}\n\nlogging.basicConfig(level=logging.INFO)\n\nwhile True:\n        sleep(random.randrange(50, 5000) / 1000)\n        order_id = random.randint(1, 1000)\n        order = {'orderId': order_id, 'item': 'laptop', 'quantity': 1}\n        \n        # Invoke a service\n        result = requests.post(\n                url=f'{base_url}/orders',\n                data=json.dumps(order),\n                headers=headers\n        )\n        \n        logging.info(f'Order requested: {order_id}')\n        logging.info(f'Result: {result.text}')\n```\n\n### 🌐 Additional URL Formats\n\nTo invoke a `GET` endpoint:\n\n```shell\ncurl http://localhost:3500/v1.0/invoke/order-processor/method/orders/100\n```\n\nDapr provides multiple ways to call the service invocation API:\n\n- Change the address in the URL to `localhost:<dapr-http-port>`.\n- Add a `dapr-app-id` header to specify the ID of the target service, or alternatively pass the ID via HTTP Basic Auth: `http://dapr-app-id:<service-id>@localhost:3500/path`.\n\nFor example, the following command:\n\n```shell\ncurl http://localhost:3500/v1.0/invoke/order-processor/method/orders/100\n```\n\nis equivalent to:\n\n```shell\ncurl -H 'dapr-app-id: order-processor' 'http://localhost:3500/orders/100' -X GET\n```\n\nor:\n\n```shell\ncurl 'http://dapr-app-id:order-processor@localhost:3500/orders/100' -X GET\n```\n\nUsing CLI:\n\n```shell\ndapr invoke --app-id order-processor --method orders/100\n```\n\n### 🔍 Including a Query String in the URL\n\nYou can append a query string or a fragment to the end of the URL, and Dapr will pass it through unchanged. For example:\n\n```shell\ncurl 'http://dapr-app-id:order-processor@localhost:3500/orders/100?basket=1234&key=abc' -X GET\n```\n\n### 🏷️ Using Namespaces\n\nWhen running on namespace-supported platforms, include the namespace of the target app in the app ID. For example, use `order-processor.production`.\n\nInvoking the service with a namespace would look like:\n\n```shell\ncurl http://localhost:3500/v1.0/invoke/order-processor.production/method/orders/100 -X GET\n```\n\nThis example demonstrates how to use Dapr's service invocation to call services securely and efficiently within a Kubernetes environment. For more details, check the [official Dapr documentation](https://docs.dapr.io/developing-applications/building-blocks/service-invocation/). Let me know if you need any further details or adjustments!\n\n## Demo: Set Up an AWS EKS Cluster and App test\n\nIn this section, we'll walk you through setting up an Elastic Kubernetes Service (EKS) cluster and deploying a sample application to test Dapr integration.\n\n### 📋 Prerequisites\n\nBefore you begin, ensure you have the following installed:\n- `kubectl`\n- `AWS CLI`\n- `eksctl`\n- An existing VPC and subnets\n\n### 🔐 Authenticating to AWS\n\nTo interact with AWS services like DynamoDB from your EKS pods, you need to ensure that your pods have the necessary permissions. This can be achieved using IAM Roles for Service Accounts (IRSA) or a pod identity agent.\n\n#### Using IAM Roles for Service Accounts (IRSA)\n\n1. **Create an IAM Role**: Create an IAM role with the necessary permissions for accessing AWS services. Attach the required policies to this role.\n\n    ```shell\n    aws iam create-role --role-name EKS-DynamoDB-Role --assume-role-policy-document file://trust-policy.json\n    aws iam attach-role-policy --role-name EKS-DynamoDB-Role --policy-arn arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess\n    ```\n\n    The `trust-policy.json` should contain the trust relationship allowing EKS to assume this role:\n\n    ```json\n    {\n      \"Version\": \"2012-10-17\",\n      \"Statement\": [\n        {\n          \"Effect\": \"Allow\",\n          \"Principal\": {\n            \"Service\": \"eks.amazonaws.com\"\n          },\n          \"Action\": \"sts:AssumeRole\"\n        }\n      ]\n    }\n    ```\n\n2. **Associate the IAM Role with a Kubernetes Service Account**:\n\n    ```shell\n    eksctl create iamserviceaccount \\\n      --name my-service-account \\\n      --namespace default \\\n      --cluster my-cluster \\\n      --attach-role-arn arn:aws:iam::<AWS_ACCOUNT_ID>:role/EKS-DynamoDB-Role \\\n      --approve\n    ```\n\n3. **Update Your Pod Specification**: Update your pod specification to use the service account:\n\n    ```yaml\n    apiVersion: v1\n    kind: Pod\n    metadata:\n      name: my-pod\n    spec:\n      serviceAccountName: my-service-account\n      containers:\n      - name: my-container\n        image: my-image\n    ```\n\n#### Using a Pod Identity Agent\n\n1. **Deploy the Pod Identity Agent**: Follow the installation instructions to deploy the agent to your EKS cluster.\n\n2. **Annotate Your Pods**: Annotate your pods with the IAM role to be assumed:\n\n    ```yaml\n    apiVersion: v1\n    kind: Pod\n    metadata:\n      name: my-pod\n      annotations:\n        iam.amazonaws.com/role: EKS-DynamoDB-Role\n    spec:\n      containers:\n      - name: my-container\n        image: my-image\n    ```\n\nBy following these steps, you can ensure that your EKS pods have the necessary permissions to interact with AWS services securely.\n\n### 🛠️ Step 1: Deploy an EKS Cluster\n\n1. **Log into AWS**:\n\n    ```shell\n    aws configure\n    ```\n\n2. **Create an EKS Cluster**:\n\n    To create an EKS cluster, use the following command. You can specify a specific version of Kubernetes using the `--version` flag (1.13.x or newer version required).\n\n    ```shell\n    eksctl create cluster --name dapre-eks-demo --region eu-west-1 --version 1.30 --vpc-private-subnets subnet-12345,subnet-67890 --without-nodegroup\n    ```\n\n    Adjust the `--vpc-private-subnets` values to meet your requirements. You can also specify public subnets by changing `--vpc-private-subnets` to `--vpc-public-subnets`.\n\n3. **Verify `kubectl` Context**:\n    Ensure your `kubectl` context is set to the new EKS cluster.\n\n    ```shell\n    kubectl config current-context\n    ```\n\n4. **Update Security Group Rules**:\n    Allow the EKS cluster to communicate with the Dapr sidecar by creating an inbound rule for port `4000`.\n\n    ```shell\n    aws ec2 authorize-security-group-ingress --region eu-west-1 \\\n    --group-id sg-0123456789abcdef0 \\\n    --protocol tcp \\\n    --port 4000 \\\n    --source-group sg-0123456789abcdef0\n    ```\n\n### Step 2: Deploy Sample Applications\n\nFirst, we need to clone the repo that has the code snippet:\n\n```shell\ngit clone https://github.com/dapr/quickstarts.git\ncd quickstarts/tutorials/hello-kubernetes\n```\n\nThen, we need to set up Dapr dev mode on our Kubernetes cluster.\n\nFollow the steps below to deploy Dapr to Kubernetes using the `--dev` flag.\n\n> **Note**: Any previous Dapr installations in the Kubernetes cluster need to be uninstalled first. You can use `dapr uninstall -k` to remove Dapr.\n\nWith the `dapr init -k --dev` command, the CLI will also install the `Redis` and `Zipkin` containers `dapr-dev-redis` and `dapr-dev-zipkin` in the `default` namespace apart from the Dapr control plane in the `dapr-system` namespace.\n\nThe `statestore`, `pubsub`, and `appconfig` default components and configuration are applied in the default Kubernetes namespace if they do not exist.\n\nYou can use `dapr components -k` and `dapr configurations -k` to see these.\n\nFor more details, check the [official Dapr documentation](https://docs.dapr.io/getting-started/).\n\n```shell\ndapr init -k --dev\nExpected output in a fresh Kubernetes cluster without Dapr installed:\n\n⌛  Making the jump to hyperspace...\nℹ️  Note: To install Dapr using Helm, see here: https://docs.dapr.io/getting-started/install-dapr-kubernetes/#install-with-helm-advanced\n\nℹ️  Container images will be pulled from Docker Hub\n✅  Deploying the Dapr control plane with latest version to your cluster...\n✅  Deploying the Dapr dashboard with latest version to your cluster...\n✅  Deploying the Dapr Redis with 17.14.5 version to your cluster...\n✅  Deploying the Dapr Zipkin with latest version to your cluster...\nℹ️  Applying \"statestore\" component to Kubernetes \"default\" namespace.\nℹ️  Applying \"pubsub\" component to Kubernetes \"default\" namespace.\nℹ️  Applying \"appconfig\" zipkin configuration to Kubernetes \"default\" namespace.\n✅  Success! Dapr has been installed to namespace dapr-system. To verify, run `dapr status -k' in your terminal. To get started, go here: https://aka.ms/dapr-getting-started\n```\n\n**🐍 Deploy the Python App**\n\nNext, we deploy the Python app. This is a basic Python app that posts JSON messages to `localhost:3500`, the default listening port for Dapr. You can invoke the Node.js application's `neworder` endpoint by posting to `v1.0/invoke/nodeapp/method/neworder`. The message contains some data with an `orderId` that increments once per second:\n\n```python\nimport time\nimport requests\n\nn = 0\ndapr_url = \"http://localhost:3500/v1.0/invoke/nodeapp/method/neworder\"\n\nwhile True:\n    n += 1\n    message = {\"data\": {\"orderId\": n}}\n\n    try:\n        response = requests.post(dapr_url, json=message)\n        print(response.json())\n    except Exception as e:\n        print(e)\n\n    time.sleep(1)\n```\n\nTo deploy the Python app to the Kubernetes cluster:\n\n```shell\nkubectl apply -f ./deploy/python.yaml\n```\n\n**🟢 Deploy the Node.js App**\n\nTo deploy the Node.js app to Kubernetes, use the following command:\n\n```shell\nkubectl apply -f ./deploy/node.yaml\n```\n\nThis will deploy the Node.js app to Kubernetes. The Dapr control plane will automatically inject the Dapr sidecar to the Pod. If you take a look at the `node.yaml` file, you will see how Dapr is enabled for that deployment:\n\n- `dapr.io/enabled: true` - This tells the Dapr control plane to inject a sidecar to this deployment.\n- `dapr.io/app-id: nodeapp` - This assigns a unique ID or name to the Dapr application, so it can be sent messages to and communicated with by other Dapr apps.\n- `dapr.io/enable-api-logging: \"true\"` - This is added to `node.yaml` file by default to see the API logs.\n\nYou'll also see the container image that you're deploying. If you want to update the code and deploy a new image, see the **Next Steps** section.\n\n**🔄 Accessing the Kubernetes Service**\n\nThere are several different ways to access a Kubernetes service depending on which platform you are using. Port forwarding is one consistent way to access a service, whether it is hosted locally or on a cloud Kubernetes provider like AKS.\n\n```shell\nkubectl port-forward service/nodeapp 8080:80\n```\n\nThis will make your service available on `http://localhost:8080`.\n\n**Configure the Redis Statestore Component**\n\nApply the `redis.yaml` file and observe that your state store was successfully configured!\n\n```shell\nkubectl apply -f ./deploy/redis.yaml\n```\n\n**📜 Viewing Logs**\n\nNow that the Node.js and Python applications are deployed, watch messages come through:\n\n**Node.js App Logs**\n\nGet the logs of the Node.js app:\n\n```shell\nkubectl logs --selector=app=node -c node --tail=-1\n```\n\nIf all went well, you should see logs like this:\n\n```shell\nGot a new order! Order ID: 1\nSuccessfully persisted state for Order ID: 1\nGot a new order! Order ID: 2\nSuccessfully persisted state for Order ID: 2\nGot a new order! Order ID: 3\nSuccessfully persisted state for Order ID: 3\n```\n\n**API Call Logs**\n\nObserve API call logs:\n\n**Node.js App API Logs**\n\nGet the API call logs of the Node.js app:\n\n```shell\nkubectl logs --selector=app=node -c daprd --tail=-1\n```\n\nWhen save state API calls are made, you should see logs similar to this:\n\n```shell\ntime=\"2024-11-02T22:46:09.82121774Z\" level=info method=\"POST /v1.0/state/statestore\" app_id=nodeapp instance=nodeapp-7dd6648dd4-7hpmh scope=dapr.runtime.http-info type=log ver=1.7.2\ntime=\"2024-11-02T22:46:10.828764787Z\" level=info method=\"POST /v1.0/state/statestore\" app_id=nodeapp instance=nodeapp-7dd6648dd4-7hpmh scope=dapr.runtime.http-info type=log ver=1.7.2\n```\n\n**Python App API Logs**\n\nGet the API call logs of the Python app:\n\n```shell\nkubectl logs --selector=app=python -c daprd --tail=-1\n```\n\n```shell\ntime=\"2024-11-02T02:47:49.972688145Z\" level=info method=\"POST /neworder\" app_id=pythonapp instance=pythonapp-545df48d55-jvj52 scope=dapr.runtime.http-info type=log ver=1.7.2\ntime=\"2024-11-02T02:47:50.984994545Z\" level=info method=\"POST /neworder\" app_id=pythonapp instance=pythonapp-545df48d55-jvj52 scope=dapr.runtime.http-info type=log ver=1.7.2\n```\n\n**✅ Confirm Successful Persistence**\n\nCall the Node.js app's order endpoint to get the latest order. Grab the external IP address that you saved before, append `/order`, and perform a GET request against it (enter it into your browser, use Postman, or curl it!):\n\n```shell\ncurl $NODE_APP/order\n{\"orderID\":\"42\"}\n```\n\nYou should see the latest JSON in response!\n\nThis will spin down each resource defined by the `.yaml` files in the `deploy` directory, including the state component.\n\n> **Note**: This will also delete the state store component. If the `--dev` flag was used for Dapr init, and you want to use the `dapr-dev-redis` deployment as state store, replace the `redisHost` value inside `./deploy/redis.yaml` with `dapr-dev-redis-master:6379` and also the `secretKeyRef`, `name` with `dapr-dev-redis`. Then run the command `kubectl apply -f ./deploy/redis.yaml`, to apply the file again. This will create a `statestore` Dapr component pointing to `dapr-dev-redis` deployment.\n\nFor more details, check the [official Dapr documentation](https://docs.dapr.io/getting-started/).\n\n## 🏁 Conclusion\n\nIn this blog post, we explored how Dapr can significantly simplify the development and management of distributed applications on AWS EKS. By leveraging Dapr's building blocks, such as service invocation, state management, and pub/sub messaging, developers can focus more on business logic and less on the complexities of distributed systems.\n\nWe demonstrated how to set up an AWS EKS cluster, deploy sample applications, and integrate Dapr to enhance microservices architecture. This approach not only accelerates development but also ensures that your applications are scalable, secure, and maintainable.\n\nDapr's open-source nature and extensive documentation make it an excellent choice for organizations looking to streamline their microservices development on Kubernetes. Whether you are just starting with microservices or looking to optimize your existing architecture, Dapr provides the tools and best practices to help you succeed.\n\nFor more information and detailed guides, be sure to check out the [official Dapr documentation](https://docs.dapr.io/).\n\nHappy coding! 🚀\n\n<br>\n\n> 💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  **_Until next time 🎉_**\n\n\n🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**♻️ LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**♻️ X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ✌🏻**\n\n<h1 align=\"center\">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>\n\n**📅 Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordcount":2341}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://seifrajhi.github.io/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://seifrajhi.github.io/blog/"},{"@type":"ListItem","position":3,"name":"Speed Up Microservices Development with Dapr on AWS EKS","item":"https://seifrajhi.github.io/blog/integrating-dapr-with-aws-eks/"}]}</script><link crossorigin="" href="https://utteranc.es" rel="preconnect"/><link crossorigin="" href="https://www.google-analytics.com" rel="preconnect"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=47ae28bb567c9025f1fee24afb2d20c9" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2"/><style>@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2) format("woff2")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMr3.woff) format("woff")}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-LLPCCGNLH7', 'auto', {"alwaysSendReferrer":true});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LLPCCGNLH7"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-LLPCCGNLH7', {"anonymize_ip":true,"send_page_view":false});gtag('config', 'GTM-5V895PDS', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><link rel="stylesheet"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://seifrajhi.github.io/blog/integrating-dapr-with-aws-eks/" data-baseprotocol="https:" data-basehost="seifrajhi.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="blogpost-header"><div class="view-page-header"><div class="view-page-header-wrapper"><div class="logo-wrapper"><div class="logo"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained logo-img"><div style="max-width:150px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;174&#x27;%20width=&#x27;150&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" data-src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture><noscript><picture><source type="image/avif" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="name"><a href="/blog/" title="back to blog">Saifeddine <br/> Rajhi</a></div></div><h2 class="blog-title"><a href="/blog/" title="back to the homepage">Blog</a></h2></div></div><nav class="main-navigation"><ul><li><a rel="home" title="Go Home" href="/">Home</a></li><li><a title="Go to my Technical Blog" href="/blog/">Blog</a></li><li><a title="Go to my Thoughts" href="/thoughts/">Thoughts</a></li><li><a title="My public talks" href="/talks/">talks</a></li><li><a title="Review My Resume" href="/cv/platform-engineer/">cv</a></li></ul></nav></div><main><article class="blog-wrapper"><header><figure class="cover"><div class="cover-filter"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper cover cover-image"><div aria-hidden="true" style="padding-top:55.260416666666664%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;object-fit:fill;object-position:center" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAADEUlEQVR42h2S+0+bVRjH321chk6ZWTTGMJNtXgAX0I3b0K0bihsbGkpwmzpwZmpFVyHFwgq90MtbWrpCByOUwegs9AJtR8vbt1SKY+CIzvg/fTzxh3NOnuQ5n3y/3+eRsmEz067veeDtZeHubXH0LEwMEL5vYjFgZCV4h+h9I0tTRsL3BoiJOrlgJrVoZ9bXz9xkH17bt4Sm+siER5A2liwk534lGxpGeTSCujxKPj6GGvXyXHESmx/FbrMTnHTidtqQnQ6yUT87a+Pk4h6ycZmU+JcRnFzMgZQND6GEjaw/MpGLjpCPmfl9xcaO4mHIFOanH4OokVGyMR/qagD7VByrLUkiNM9ubpp8aoJccoz8qkwh5UHKxQU9YiSfMLGZHKKQMPI4ZOauHKC9K8YX3+2RSoTZFkq2Yh5sfhWr+wn+yd8ExCdUOVFiNtQVuxDiRHqqjLMl1Gypbgrrdp4XLIzJs1z+PMLZC3Oc+WSV9zQz6I5rmO38mjb9MDVdFgblIPmoi/WwXQgaRY27/odL/27P8NeTafb+CPBsc4K9DS+9P/dwRj/Am+9eoLS0g9qPblNy7DhlB16k9OQblNdX0+92sZnwkl2WRX4i82U3+Yiw/HfeLyB+ttPjbK95UJYcvF9dzeHmWl4Xb2XTZ2h/maR77ym1l69w8OArVF08S1XPRUZEbyHtZS1iR4k62FiRkXbTPpHdmIC5+WfznhiKi/ZzGsorT1D+2iH0N2oI2dsJBBVu9cvsP1LBq29X8nGbltbOLtLLVrJiiGrcIeYgLO9mZHYyDoJeAyadjh86rnPyRCNFRS+wXyqmuLiIpndKqD/dwNGaZr7sbEHb9imt527wYXUT0069EGETm2Imt2RFUsWVE6H2dX/FqYpm3nq5hpekCkqlQ5TtK6NYQKV9JZSIuv5YFbODPUxYdNy8qeN8XS2+wVtsiNVbe2gguziI9ExY/vOxj92klfyigdVAL4brV7lyupWGo03UVZzCcO0Slm+0dNRp0Da20H2+Fc0HDWhbGknPW0jN3EF5YCITHOY/8gsXKGWZb6cAAAAASUVORK5CYII=" alt=""/><picture><source type="image/webp" data-srcset="/static/97a423b2289a433a2560c484437c7cfe/5436b/daper-eks-cover.webp 750w,/static/97a423b2289a433a2560c484437c7cfe/e1011/daper-eks-cover.webp 1080w,/static/97a423b2289a433a2560c484437c7cfe/87692/daper-eks-cover.webp 1366w,/static/97a423b2289a433a2560c484437c7cfe/9d794/daper-eks-cover.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:fill;object-position:center;opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/97a423b2289a433a2560c484437c7cfe/94622/daper-eks-cover.png" data-srcset="/static/97a423b2289a433a2560c484437c7cfe/ba276/daper-eks-cover.png 750w,/static/97a423b2289a433a2560c484437c7cfe/87bd8/daper-eks-cover.png 1080w,/static/97a423b2289a433a2560c484437c7cfe/aff65/daper-eks-cover.png 1366w,/static/97a423b2289a433a2560c484437c7cfe/94622/daper-eks-cover.png 1920w" alt="Speed Up Microservices Development with Dapr on AWS EKS"/></picture><noscript><picture><source type="image/webp" srcSet="/static/97a423b2289a433a2560c484437c7cfe/5436b/daper-eks-cover.webp 750w,/static/97a423b2289a433a2560c484437c7cfe/e1011/daper-eks-cover.webp 1080w,/static/97a423b2289a433a2560c484437c7cfe/87692/daper-eks-cover.webp 1366w,/static/97a423b2289a433a2560c484437c7cfe/9d794/daper-eks-cover.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:fill;object-position:center;opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/97a423b2289a433a2560c484437c7cfe/94622/daper-eks-cover.png" srcSet="/static/97a423b2289a433a2560c484437c7cfe/ba276/daper-eks-cover.png 750w,/static/97a423b2289a433a2560c484437c7cfe/87bd8/daper-eks-cover.png 1080w,/static/97a423b2289a433a2560c484437c7cfe/aff65/daper-eks-cover.png 1366w,/static/97a423b2289a433a2560c484437c7cfe/94622/daper-eks-cover.png 1920w" alt="Speed Up Microservices Development with Dapr on AWS EKS"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><figcaption data-nosnippet="" class="image-title">Photo by Saifeddine Rajhi</figcaption></figure><h1>Speed Up Microservices Development with Dapr on AWS EKS</h1><div data-nosnippet="" class="blog-details"><time class="blog-createdat" dateTime="2024-11-02">Nov 2, 2024</time><span> • </span><span class="blog-time2read">13<!-- -->mins<!-- --> read</span><div class="theme-switcher"><div class="theme-switcher-toggler"><div class="theme-switcher-track"></div><div class="theme-switcher-thumb"></div><input class="theme-switcher-input" type="checkbox" readonly="" aria-label="Switch between Dark and Light modes"/></div></div></div><ul data-nosnippet="" class="blog-tags"><li>Dapr</li><li>AWS EKS</li><li>Microservices</li><li>Kubernetes</li><li>AWS</li><li>Distributed Applications</li></ul></header><div class="blog-divider"></div><div id="intro"></div><div class="content-wrapper"><div data-nosnippet="" class="blog-content-nav-wrapper"><ul class="blog-content-nav"><h2>Content</h2><ul class="toc-list"></ul></ul></div><div class="content blog-content"><blockquote>
<p><strong>Use Dapr to Build Distributed Applications Easily on Kubernetes 🎩</strong></p>
</blockquote>
<h2 id="-introduction" style="position:relative;"><a href="#-introduction" aria-label=" introduction permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🐳 Introduction</h2>
<p><a href="https://en.wikipedia.org/wiki/Distributed_computing" target="_blank" rel="noopener noreferrer">Building distributed</a> applications means creating software that runs on multiple computers within a network, working together to achieve a common goal. This involves coordinating various components or modules that might be spread across different infrastructures.</p>
<p>Organizations often opt for distributed applications for two main reasons. First, they allow multiple development teams to work independently while contributing to a larger system. Second, they enable the integration of components built with different programming languages, enhancing interoperability.</p>
<p>This flexibility is important in today's diverse tech landscape, where different teams might prefer different tools and languages.</p>
<p>However, developing distributed applications comes with several challenges. Ensuring that numerous components work together fluently requires careful attention to resiliency (the ability to recover from failures), <a href="https://en.wikipedia.org/wiki/Observability_(software)" target="_blank" rel="noopener noreferrer">observability</a> (monitoring the system's health), security, and scalability across various services and runtimes.</p>
<p>Additionally, these applications often interact with <a href="https://en.wikipedia.org/wiki/Message_broker" target="_blank" rel="noopener noreferrer">message brokers</a> (like <a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Kafka</a> or <a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a>), <a href="https://en.wikipedia.org/wiki/Data_store" target="_blank" rel="noopener noreferrer">data stores</a> (like databases), and external services (like third-party APIs), necessitating a thorough understanding of specific APIs and SDKs, which adds to the complexity. The need for robust error handling, efficient load balancing, and seamless service discovery further complicates the development process.</p>
<p>In this blog, we will explore how the open-source <a href="https://dapr.io/" target="_blank" rel="noopener noreferrer">Dapr</a> (Distributed Application Runtime) can assist us in building reliable and secure distributed applications. Dapr provides a set of building blocks for common microservice patterns, such as service invocation (calling services), state management (handling data), and <a href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" target="_blank" rel="noopener noreferrer">pub/sub messaging</a> (publish/subscribe communication), which can significantly reduce the development effort.</p>
<p>By using Dapr’s built-in best practices and patterns, we will also highlight common use cases for Dapr on <a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener noreferrer">AWS EKS</a> (Elastic Kubernetes Service), demonstrating how it can simplify and enhance your microservices architecture. This approach not only speeds up development but also ensures that your applications are scalable and maintainable.</p>
<blockquote>
<p>For more on Dapr, <a href="https://seifrajhi.github.io/blog/dapr-kubernetes-event-driven-runtime-part1/" target="_blank" rel="noopener noreferrer">check out Part 1 of our series</a>. You can also learn more about <a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer">Kubernetes</a>, <a href="https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html" target="_blank" rel="noopener noreferrer">AWS EKS</a>, and <a href="https://martinfowler.com/articles/microservices.html" target="_blank" rel="noopener noreferrer">microservices architecture</a> to deepen your understanding of the concepts discussed in this post.</p>
</blockquote>
<h2 id="-what-is-dapr-and-why-do-we-need-it" style="position:relative;"><a href="#-what-is-dapr-and-why-do-we-need-it" aria-label=" what is dapr and why do we need it permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🚀 What is Dapr and Why Do We Need It?</h2>
<p><a href="https://dapr.io/" target="_blank" rel="noopener noreferrer">Dapr</a> (Distributed Application Runtime) is an open-source project designed to simplify the development of microservices. It provides a set of building blocks that address common challenges in building distributed applications, such as service-to-service communication, state management, and pub/sub messaging.</p>
<h3 id="-main-features-of-dapr" style="position:relative;"><a href="#-main-features-of-dapr" aria-label=" main features of dapr permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🌟 Main Features of Dapr</h3>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 87.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACI0lEQVR42qVUi27bMAzM///YgCEIuiVruyGN29Sv2FZkS/JDL98oJ2mKtMGyjTBhCxZPxyPFGd7bONIzwntP7kAr/K3NLgGD9Y4jkwswtZ7WtmzhUglfdLD0tgl9K/NnwMCM7znSbIusfEY7cPjRQ6cN1H2O9lcB/bSHfxYYhb4OGIg5D3S9Rlkx5LsKUrTTD2vttJG1NdY8QaZrFF5hZwQMyfIJIAW5ET9eDZZbjcfUYxEZlE0AInbaYKTTKi1xV7/goUnwoDLyFMoOIZyyOGgf/I1hq0fI3iHa5sirBoN2EKJBlmXgnE9ySCFQ7ijtQd9QFEIVFPAaJ5BKTQBlWWK1WiHP8+n0vu+RpikYq85h1wADy04wtFSMgW3hekHFyTGfz1HsclSDw4JbfBcWd9xMviBfkjSDP8POptyJzdQeskK3/YY+XsKqPfa8wWazAWcMnfV44RKPcY6k6cDMiHLwk5sAeNLwJKaiNOM4xlMUQSh5ZB2KouHcoZot7cmTmDQcLtr3oijBQpDzFkY6qK0ld+h2tHYWrqUWogL1VTUdfNtNOcqg9h12P2vsNwpdZeCIpckSDPcr6M0a/tiXN129riMwKkCcxqhFfWTup8OKokQUbZAkyVuzfwr4Pv+w0ZBmxjh6N/AmhrPUMi6ntaS2GdBS+saYD9p90PA8HA65e1uhl1/RNuT1F5ihutJ5N0ybkwUmjHEwGhhBjn8eX/9jvwFM1C6rzytV6QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Dapr Features" title="" src="/static/431aa822010d0663494c4f4905da03db/c5bb3/image.png" srcset="/static/431aa822010d0663494c4f4905da03db/04472/image.png 170w,
/static/431aa822010d0663494c4f4905da03db/9f933/image.png 340w,
/static/431aa822010d0663494c4f4905da03db/c5bb3/image.png 680w,
/static/431aa822010d0663494c4f4905da03db/b12f7/image.png 1020w,
/static/431aa822010d0663494c4f4905da03db/b5a09/image.png 1360w,
/static/431aa822010d0663494c4f4905da03db/016a8/image.png 1576w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<ol>
<li>
<p><strong>Service Invocation</strong>:</p>
<ul>
<li>Dapr makes it easy for microservices to communicate with each other. Instead of writing custom code to handle HTTP or gRPC calls, you can use Dapr's <a href="https://docs.dapr.io/developing-applications/building-blocks/service-invocation/" target="_blank" rel="noopener noreferrer">Service Invocation</a> API. This API abstracts the complexity and provides built-in retries, timeouts, and error handling. The <a href="https://docs.dapr.io/concepts/components-concept/#middleware" target="_blank" rel="noopener noreferrer">middleware components</a> are used with the service invocation building block.</li>
</ul>
</li>
<li>
<p><strong>State Management</strong>:</p>
<ul>
<li>Managing state in a distributed system can be complex. Dapr provides a <a href="https://docs.dapr.io/developing-applications/building-blocks/state-management/" target="_blank" rel="noopener noreferrer">State Management API</a> that allows you to store and retrieve state across different services. This API supports various state stores like Redis, DynamoDB, and Cosmos DB, making it flexible and easy to use.</li>
</ul>
</li>
<li>
<p><strong>Publish/Subscribe Messaging</strong>:</p>
<ul>
<li>For event-driven architectures, Dapr offers a <a href="https://docs.dapr.io/developing-applications/building-blocks/pubsub/" target="_blank" rel="noopener noreferrer">Pub/Sub API</a>. This allows services to publish events and other services to subscribe to them, enabling asynchronous communication. You can integrate with message brokers like AWS SNS, SQS, and Kafka without changing your application code.</li>
</ul>
</li>
<li>
<p><strong>Bindings</strong>:</p>
<ul>
<li>Dapr supports input and output bindings to interact with external systems. This means you can easily connect to databases, message queues, and other services using Dapr's <a href="https://docs.dapr.io/developing-applications/building-blocks/bindings/" target="_blank" rel="noopener noreferrer">Binding API</a>.</li>
</ul>
</li>
<li>
<p><strong>Workflow</strong>:</p>
<ul>
<li>Dapr provides a built-in <a href="https://docs.dapr.io/developing-applications/building-blocks/workflow/" target="_blank" rel="noopener noreferrer">workflow</a> feature to orchestrate logic across various microservices.</li>
</ul>
</li>
<li>
<p><strong>Actors</strong>:</p>
<ul>
<li>Dapr supports the actor model, allowing you to encapsulate code and data in reusable actor objects, which is a common microservices design pattern.</li>
</ul>
</li>
<li>
<p><strong>Secrets Management</strong>:</p>
<ul>
<li>Security is a critical aspect of any distributed system. Dapr includes features like mutual TLS (mTLS) for secure service-to-service communication and <a href="https://docs.dapr.io/developing-applications/building-blocks/secrets/" target="_blank" rel="noopener noreferrer">secret management</a> to handle sensitive information like API keys and database credentials.</li>
</ul>
</li>
<li>
<p><strong>Configuration</strong>:</p>
<ul>
<li>Dapr provides a <a href="https://docs.dapr.io/developing-applications/building-blocks/configuration/" target="_blank" rel="noopener noreferrer">Configuration API</a> to manage and be notified of application configuration changes.</li>
</ul>
</li>
<li>
<p><strong>Distributed Lock</strong>:</p>
<ul>
<li>Dapr offers a <a href="https://docs.dapr.io/developing-applications/building-blocks/distributed-lock/" target="_blank" rel="noopener noreferrer">Distributed Lock API</a> to provide mutually exclusive access to shared resources from an application.</li>
</ul>
</li>
<li>
<p><strong>Cryptography</strong>:</p>
<ul>
<li>Dapr includes a <a href="https://docs.dapr.io/developing-applications/building-blocks/cryptography/" target="_blank" rel="noopener noreferrer">Cryptography API</a> to perform cryptographic operations without exposing keys to your application.</li>
</ul>
</li>
<li>
<p><strong>Jobs</strong>:</p>
<ul>
<li>Dapr provides a <a href="https://docs.dapr.io/developing-applications/building-blocks/jobs/" target="_blank" rel="noopener noreferrer">Jobs API</a> to manage the scheduling and orchestration of jobs.</li>
</ul>
</li>
</ol>
<p>By leveraging these features, Dapr simplifies the development of distributed applications, allowing developers to focus on writing business logic rather than dealing with the complexities of distributed systems. This leads to faster development cycles, more reliable applications, and easier maintenance.</p>
<h3 id="-why-do-we-need-dapr" style="position:relative;"><a href="#-why-do-we-need-dapr" aria-label=" why do we need dapr permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>❓ Why Do We Need Dapr?</h3>
<p>Developing distributed applications involves several challenges:</p>
<ul>
<li><strong>Complex Communication</strong>: Ensuring reliable communication between services can be difficult, especially when dealing with different protocols and error handling.</li>
<li><strong>State Management</strong>: Keeping track of state across multiple services requires a consistent and reliable approach.</li>
<li><strong>Event-Driven Architecture</strong>: Implementing pub/sub messaging patterns can be complex and requires integration with various message brokers.</li>
<li><strong>External Integrations</strong>: Connecting to external systems like databases and third-party APIs often involves writing boilerplate code.</li>
<li><strong>Observability</strong>: Monitoring and diagnosing issues in a distributed system requires comprehensive logging, metrics, and tracing.</li>
<li><strong>Security</strong>: Ensuring secure communication and managing secrets are essential for protecting your application.</li>
<li><strong>Isolation</strong>: Dapr namespacing provides isolation and multi-tenancy across many capabilities, giving greater security. Typically applications and components are deployed to namespaces to provide isolation in a given environment, such as Kubernetes.</li>
</ul>
<p>Dapr addresses these challenges by providing a set of standardized APIs and components that simplify the development process. By using Dapr, developers can focus on writing business logic instead of dealing with the complexities of distributed systems. This leads to faster development cycles, more reliable applications, and easier maintenance.</p>
<p>For more details, <a href="https://docs.dapr.io/concepts/overview/" target="_blank" rel="noopener noreferrer">check the official documentation</a>.</p>
<h2 id="️-how-to-invoke-services-using-middleware-component" style="position:relative;"><a href="#%EF%B8%8F-how-to-invoke-services-using-middleware-component" aria-label="️ how to invoke services using middleware component permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🛠️ How-To: Invoke Services Using Middleware Component</h2>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 41.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTUlEQVR42nWRW0+DQBCF+f8/yxf1QRsTrNpEqEVL2dvsBQqx4HF2IbWJ+vCF2TOXnT1kne/hbUCwLRMW2jMd9QjUXmjhb8ij51mZMx5EBGstyBi4GDNJIwsvW1gzn4nMnIu1nDMcG44PJhLrW2SiVnh+fsLjeo19tcNLQ7hRA+50j7U+YlcZ3IoO92bASg+ohMKDDLimCRvTYdtorNyIK33C3p+QaUEoygJlWfImGjWvv+WnVcwHI5qAQge8u1kTvM2btMhri0K5tN3GxsuO3DsgS76EACkk8jzHhrclKdA6y94wquMvnXHOwdV7uOIVXkm2yiUbolVxVub53dbN/h0ONRrRsEeUNBubVZs8m88LnocEfz672O94oOv4p/BztDIgzQnDhYxRlCDFDaKFlnTWEnLhQtPSIBjecBonjKeFz/EnXpjGr1/af8RZ3z1ZX5m9cwesAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Service Invocation" title="" src="/static/afef9946acc68e0741d2eb46d7692117/c5bb3/image-1.png" srcset="/static/afef9946acc68e0741d2eb46d7692117/04472/image-1.png 170w,
/static/afef9946acc68e0741d2eb46d7692117/9f933/image-1.png 340w,
/static/afef9946acc68e0741d2eb46d7692117/c5bb3/image-1.png 680w,
/static/afef9946acc68e0741d2eb46d7692117/b12f7/image-1.png 1020w,
/static/afef9946acc68e0741d2eb46d7692117/b5a09/image-1.png 1360w,
/static/afef9946acc68e0741d2eb46d7692117/5ba90/image-1.png 1604w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<p>In this section, we'll demonstrate how to deploy services with unique application IDs, allowing other services to discover and call endpoints using Dapr's service invocation over HTTP.</p>
<h3 id="-step-1-choose-an-id-for-your-service" style="position:relative;"><a href="#-step-1-choose-an-id-for-your-service" aria-label=" step 1 choose an id for your service permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🆔 Step 1: Choose an ID for Your Service</h3>
<p>Dapr allows you to assign a global, unique ID for your app. This ID encapsulates the state for your application, regardless of the number of instances it may have.</p>
<h3 id="️-step-2-set-an-app-id-when-deploying-to-kubernetes" style="position:relative;"><a href="#%EF%B8%8F-step-2-set-an-app-id-when-deploying-to-kubernetes" aria-label="️ step 2 set an app id when deploying to kubernetes permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🛠️ Step 2: Set an App-ID When Deploying to Kubernetes</h3>
<p>In Kubernetes, set the <code class="language-text">dapr.io/app-id</code> annotation on your pod:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>app
    <span class="token key atrule">namespace</span><span class="token punctuation">:</span> default
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>app
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">selector</span><span class="token punctuation">:</span>
        <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
            <span class="token key atrule">app</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>app
    <span class="token key atrule">template</span><span class="token punctuation">:</span>
        <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
            <span class="token key atrule">labels</span><span class="token punctuation">:</span>
                <span class="token key atrule">app</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>app
            <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
                <span class="token key atrule">dapr.io/enabled</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
                <span class="token key atrule">dapr.io/app-id</span><span class="token punctuation">:</span> <span class="token string">"order-processor"</span>
                <span class="token key atrule">dapr.io/app-port</span><span class="token punctuation">:</span> <span class="token string">"6001"</span>
                <span class="token key atrule">dapr.io/app-protocol</span><span class="token punctuation">:</span> <span class="token string">"http"</span>  <span class="token comment"># Use "https" if your app uses TLS</span></code></pre></div>
<h3 id="-step-3-invoke-the-service" style="position:relative;"><a href="#-step-3-invoke-the-service" aria-label=" step 3 invoke the service permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>📡 Step 3: Invoke the Service</h3>
<p>To invoke an application using Dapr, you can use the invoke API on any Dapr instance. The sidecar programming model encourages each application to interact with its own instance of Dapr. The Dapr sidecars discover and communicate with one another.</p>
<p>Below is an example in Python that leverages Dapr SDKs for service invocation:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> random
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">import</span> logging
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> json

base_url <span class="token operator">=</span> <span class="token string">"http://localhost:3500/v1.0/invoke/order-processor/method"</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        order_id <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        order <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'orderId'</span><span class="token punctuation">:</span> order_id<span class="token punctuation">,</span> <span class="token string">'item'</span><span class="token punctuation">:</span> <span class="token string">'laptop'</span><span class="token punctuation">,</span> <span class="token string">'quantity'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
        
        <span class="token comment"># Invoke a service</span>
        result <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>
                url<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>base_url<span class="token punctuation">}</span></span><span class="token string">/orders'</span></span><span class="token punctuation">,</span>
                data<span class="token operator">=</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>order<span class="token punctuation">)</span><span class="token punctuation">,</span>
                headers<span class="token operator">=</span>headers
        <span class="token punctuation">)</span>
        
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Order requested: </span><span class="token interpolation"><span class="token punctuation">{</span>order_id<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Result: </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span></code></pre></div>
<h3 id="-additional-url-formats" style="position:relative;"><a href="#-additional-url-formats" aria-label=" additional url formats permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🌐 Additional URL Formats</h3>
<p>To invoke a <code class="language-text">GET</code> endpoint:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> http://localhost:3500/v1.0/invoke/order-processor/method/orders/100</code></pre></div>
<p>Dapr provides multiple ways to call the service invocation API:</p>
<ul>
<li>Change the address in the URL to <code class="language-text">localhost:&lt;dapr-http-port></code>.</li>
<li>Add a <code class="language-text">dapr-app-id</code> header to specify the ID of the target service, or alternatively pass the ID via HTTP Basic Auth: <code class="language-text">http://dapr-app-id:&lt;service-id>@localhost:3500/path</code>.</li>
</ul>
<p>For example, the following command:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> http://localhost:3500/v1.0/invoke/order-processor/method/orders/100</code></pre></div>
<p>is equivalent to:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">'dapr-app-id: order-processor'</span> <span class="token string">'http://localhost:3500/orders/100'</span> <span class="token parameter variable">-X</span> GET</code></pre></div>
<p>or:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> <span class="token string">'http://dapr-app-id:order-processor@localhost:3500/orders/100'</span> <span class="token parameter variable">-X</span> GET</code></pre></div>
<p>Using CLI:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">dapr invoke --app-id order-processor <span class="token parameter variable">--method</span> orders/100</code></pre></div>
<h3 id="-including-a-query-string-in-the-url" style="position:relative;"><a href="#-including-a-query-string-in-the-url" aria-label=" including a query string in the url permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🔍 Including a Query String in the URL</h3>
<p>You can append a query string or a fragment to the end of the URL, and Dapr will pass it through unchanged. For example:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> <span class="token string">'http://dapr-app-id:order-processor@localhost:3500/orders/100?basket=1234&amp;key=abc'</span> <span class="token parameter variable">-X</span> GET</code></pre></div>
<h3 id="️-using-namespaces" style="position:relative;"><a href="#%EF%B8%8F-using-namespaces" aria-label="️ using namespaces permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🏷️ Using Namespaces</h3>
<p>When running on namespace-supported platforms, include the namespace of the target app in the app ID. For example, use <code class="language-text">order-processor.production</code>.</p>
<p>Invoking the service with a namespace would look like:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> http://localhost:3500/v1.0/invoke/order-processor.production/method/orders/100 <span class="token parameter variable">-X</span> GET</code></pre></div>
<p>This example demonstrates how to use Dapr's service invocation to call services securely and efficiently within a Kubernetes environment. For more details, check the <a href="https://docs.dapr.io/developing-applications/building-blocks/service-invocation/" target="_blank" rel="noopener noreferrer">official Dapr documentation</a>. Let me know if you need any further details or adjustments!</p>
<h2 id="demo-set-up-an-aws-eks-cluster-and-app-test" style="position:relative;"><a href="#demo-set-up-an-aws-eks-cluster-and-app-test" aria-label="demo set up an aws eks cluster and app test permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Demo: Set Up an AWS EKS Cluster and App test</h2>
<p>In this section, we'll walk you through setting up an Elastic Kubernetes Service (EKS) cluster and deploying a sample application to test Dapr integration.</p>
<h3 id="-prerequisites" style="position:relative;"><a href="#-prerequisites" aria-label=" prerequisites permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>📋 Prerequisites</h3>
<p>Before you begin, ensure you have the following installed:</p>
<ul>
<li><code class="language-text">kubectl</code></li>
<li><code class="language-text">AWS CLI</code></li>
<li><code class="language-text">eksctl</code></li>
<li>An existing VPC and subnets</li>
</ul>
<h3 id="-authenticating-to-aws" style="position:relative;"><a href="#-authenticating-to-aws" aria-label=" authenticating to aws permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🔐 Authenticating to AWS</h3>
<p>To interact with AWS services like DynamoDB from your EKS pods, you need to ensure that your pods have the necessary permissions. This can be achieved using IAM Roles for Service Accounts (IRSA) or a pod identity agent.</p>
<h4 id="using-iam-roles-for-service-accounts-irsa" style="position:relative;"><a href="#using-iam-roles-for-service-accounts-irsa" aria-label="using iam roles for service accounts irsa permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using IAM Roles for Service Accounts (IRSA)</h4>
<ol>
<li>
<p><strong>Create an IAM Role</strong>: Create an IAM role with the necessary permissions for accessing AWS services. Attach the required policies to this role.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">aws iam create-role --role-name EKS-DynamoDB-Role --assume-role-policy-document file://trust-policy.json
aws iam attach-role-policy --role-name EKS-DynamoDB-Role --policy-arn arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess</code></pre></div>
<p>The <code class="language-text">trust-policy.json</code> should contain the trust relationship allowing EKS to assume this role:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"2012-10-17"</span><span class="token punctuation">,</span>
  <span class="token property">"Statement"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"Effect"</span><span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span>
      <span class="token property">"Principal"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"Service"</span><span class="token operator">:</span> <span class="token string">"eks.amazonaws.com"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"Action"</span><span class="token operator">:</span> <span class="token string">"sts:AssumeRole"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p><strong>Associate the IAM Role with a Kubernetes Service Account</strong>:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">eksctl create iamserviceaccount <span class="token punctuation">\</span>
  <span class="token parameter variable">--name</span> my-service-account <span class="token punctuation">\</span>
  <span class="token parameter variable">--namespace</span> default <span class="token punctuation">\</span>
  <span class="token parameter variable">--cluster</span> my-cluster <span class="token punctuation">\</span>
  --attach-role-arn arn:aws:iam::<span class="token operator">&lt;</span>AWS_ACCOUNT_ID<span class="token operator">></span>:role/EKS-DynamoDB-Role <span class="token punctuation">\</span>
  <span class="token parameter variable">--approve</span></code></pre></div>
</li>
<li>
<p><strong>Update Your Pod Specification</strong>: Update your pod specification to use the service account:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>pod
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">serviceAccountName</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service<span class="token punctuation">-</span>account
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>container
    <span class="token key atrule">image</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>image</code></pre></div>
</li>
</ol>
<h4 id="using-a-pod-identity-agent" style="position:relative;"><a href="#using-a-pod-identity-agent" aria-label="using a pod identity agent permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using a Pod Identity Agent</h4>
<ol>
<li>
<p><strong>Deploy the Pod Identity Agent</strong>: Follow the installation instructions to deploy the agent to your EKS cluster.</p>
</li>
<li>
<p><strong>Annotate Your Pods</strong>: Annotate your pods with the IAM role to be assumed:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>pod
  <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
    <span class="token key atrule">iam.amazonaws.com/role</span><span class="token punctuation">:</span> EKS<span class="token punctuation">-</span>DynamoDB<span class="token punctuation">-</span>Role
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>container
    <span class="token key atrule">image</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>image</code></pre></div>
</li>
</ol>
<p>By following these steps, you can ensure that your EKS pods have the necessary permissions to interact with AWS services securely.</p>
<h3 id="️-step-1-deploy-an-eks-cluster" style="position:relative;"><a href="#%EF%B8%8F-step-1-deploy-an-eks-cluster" aria-label="️ step 1 deploy an eks cluster permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🛠️ Step 1: Deploy an EKS Cluster</h3>
<ol>
<li>
<p><strong>Log into AWS</strong>:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">aws configure</code></pre></div>
</li>
<li>
<p><strong>Create an EKS Cluster</strong>:</p>
<p>To create an EKS cluster, use the following command. You can specify a specific version of Kubernetes using the <code class="language-text">--version</code> flag (1.13.x or newer version required).</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">eksctl create cluster <span class="token parameter variable">--name</span> dapre-eks-demo <span class="token parameter variable">--region</span> eu-west-1 <span class="token parameter variable">--version</span> <span class="token number">1.30</span> --vpc-private-subnets subnet-12345,subnet-67890 --without-nodegroup</code></pre></div>
<p>Adjust the <code class="language-text">--vpc-private-subnets</code> values to meet your requirements. You can also specify public subnets by changing <code class="language-text">--vpc-private-subnets</code> to <code class="language-text">--vpc-public-subnets</code>.</p>
</li>
<li>
<p><strong>Verify <code class="language-text">kubectl</code> Context</strong>:
Ensure your <code class="language-text">kubectl</code> context is set to the new EKS cluster.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl config current-context</code></pre></div>
</li>
<li>
<p><strong>Update Security Group Rules</strong>:
Allow the EKS cluster to communicate with the Dapr sidecar by creating an inbound rule for port <code class="language-text">4000</code>.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">aws ec2 authorize-security-group-ingress <span class="token parameter variable">--region</span> eu-west-1 <span class="token punctuation">\</span>
--group-id sg-0123456789abcdef0 <span class="token punctuation">\</span>
<span class="token parameter variable">--protocol</span> tcp <span class="token punctuation">\</span>
<span class="token parameter variable">--port</span> <span class="token number">4000</span> <span class="token punctuation">\</span>
--source-group sg-0123456789abcdef0</code></pre></div>
</li>
</ol>
<h3 id="step-2-deploy-sample-applications" style="position:relative;"><a href="#step-2-deploy-sample-applications" aria-label="step 2 deploy sample applications permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Step 2: Deploy Sample Applications</h3>
<p>First, we need to clone the repo that has the code snippet:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">git</span> clone https://github.com/dapr/quickstarts.git
<span class="token builtin class-name">cd</span> quickstarts/tutorials/hello-kubernetes</code></pre></div>
<p>Then, we need to set up Dapr dev mode on our Kubernetes cluster.</p>
<p>Follow the steps below to deploy Dapr to Kubernetes using the <code class="language-text">--dev</code> flag.</p>
<blockquote>
<p><strong>Note</strong>: Any previous Dapr installations in the Kubernetes cluster need to be uninstalled first. You can use <code class="language-text">dapr uninstall -k</code> to remove Dapr.</p>
</blockquote>
<p>With the <code class="language-text">dapr init -k --dev</code> command, the CLI will also install the <code class="language-text">Redis</code> and <code class="language-text">Zipkin</code> containers <code class="language-text">dapr-dev-redis</code> and <code class="language-text">dapr-dev-zipkin</code> in the <code class="language-text">default</code> namespace apart from the Dapr control plane in the <code class="language-text">dapr-system</code> namespace.</p>
<p>The <code class="language-text">statestore</code>, <code class="language-text">pubsub</code>, and <code class="language-text">appconfig</code> default components and configuration are applied in the default Kubernetes namespace if they do not exist.</p>
<p>You can use <code class="language-text">dapr components -k</code> and <code class="language-text">dapr configurations -k</code> to see these.</p>
<p>For more details, check the <a href="https://docs.dapr.io/getting-started/" target="_blank" rel="noopener noreferrer">official Dapr documentation</a>.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">dapr init <span class="token parameter variable">-k</span> <span class="token parameter variable">--dev</span>
Expected output <span class="token keyword">in</span> a fresh Kubernetes cluster without Dapr installed:

⌛  Making the jump to hyperspace<span class="token punctuation">..</span>.
ℹ️  Note: To <span class="token function">install</span> Dapr using Helm, see here: https://docs.dapr.io/getting-started/install-dapr-kubernetes/<span class="token comment">#install-with-helm-advanced</span>

ℹ️  Container images will be pulled from Docker Hub
✅  Deploying the Dapr control plane with latest version to your cluster<span class="token punctuation">..</span>.
✅  Deploying the Dapr dashboard with latest version to your cluster<span class="token punctuation">..</span>.
✅  Deploying the Dapr Redis with <span class="token number">17.14</span>.5 version to your cluster<span class="token punctuation">..</span>.
✅  Deploying the Dapr Zipkin with latest version to your cluster<span class="token punctuation">..</span>.
ℹ️  Applying <span class="token string">"statestore"</span> component to Kubernetes <span class="token string">"default"</span> namespace.
ℹ️  Applying <span class="token string">"pubsub"</span> component to Kubernetes <span class="token string">"default"</span> namespace.
ℹ️  Applying <span class="token string">"appconfig"</span> zipkin configuration to Kubernetes <span class="token string">"default"</span> namespace.
✅  Success<span class="token operator">!</span> Dapr has been installed to namespace dapr-system. To verify, run `dapr status -k' <span class="token keyword">in</span> your terminal. To get started, go here: https://aka.ms/dapr-getting-started</code></pre></div>
<p><strong>🐍 Deploy the Python App</strong></p>
<p>Next, we deploy the Python app. This is a basic Python app that posts JSON messages to <code class="language-text">localhost:3500</code>, the default listening port for Dapr. You can invoke the Node.js application's <code class="language-text">neworder</code> endpoint by posting to <code class="language-text">v1.0/invoke/nodeapp/method/neworder</code>. The message contains some data with an <code class="language-text">orderId</code> that increments once per second:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> time
<span class="token keyword">import</span> requests

n <span class="token operator">=</span> <span class="token number">0</span>
dapr_url <span class="token operator">=</span> <span class="token string">"http://localhost:3500/v1.0/invoke/nodeapp/method/neworder"</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    n <span class="token operator">+=</span> <span class="token number">1</span>
    message <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"orderId"</span><span class="token punctuation">:</span> n<span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token keyword">try</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>dapr_url<span class="token punctuation">,</span> json<span class="token operator">=</span>message<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>

    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre></div>
<p>To deploy the Python app to the Kubernetes cluster:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl apply <span class="token parameter variable">-f</span> ./deploy/python.yaml</code></pre></div>
<p><strong>🟢 Deploy the Node.js App</strong></p>
<p>To deploy the Node.js app to Kubernetes, use the following command:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl apply <span class="token parameter variable">-f</span> ./deploy/node.yaml</code></pre></div>
<p>This will deploy the Node.js app to Kubernetes. The Dapr control plane will automatically inject the Dapr sidecar to the Pod. If you take a look at the <code class="language-text">node.yaml</code> file, you will see how Dapr is enabled for that deployment:</p>
<ul>
<li><code class="language-text">dapr.io/enabled: true</code> - This tells the Dapr control plane to inject a sidecar to this deployment.</li>
<li><code class="language-text">dapr.io/app-id: nodeapp</code> - This assigns a unique ID or name to the Dapr application, so it can be sent messages to and communicated with by other Dapr apps.</li>
<li><code class="language-text">dapr.io/enable-api-logging: "true"</code> - This is added to <code class="language-text">node.yaml</code> file by default to see the API logs.</li>
</ul>
<p>You'll also see the container image that you're deploying. If you want to update the code and deploy a new image, see the <strong>Next Steps</strong> section.</p>
<p><strong>🔄 Accessing the Kubernetes Service</strong></p>
<p>There are several different ways to access a Kubernetes service depending on which platform you are using. Port forwarding is one consistent way to access a service, whether it is hosted locally or on a cloud Kubernetes provider like AKS.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl port-forward service/nodeapp <span class="token number">8080</span>:80</code></pre></div>
<p>This will make your service available on <code class="language-text">http://localhost:8080</code>.</p>
<p><strong>Configure the Redis Statestore Component</strong></p>
<p>Apply the <code class="language-text">redis.yaml</code> file and observe that your state store was successfully configured!</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl apply <span class="token parameter variable">-f</span> ./deploy/redis.yaml</code></pre></div>
<p><strong>📜 Viewing Logs</strong></p>
<p>Now that the Node.js and Python applications are deployed, watch messages come through:</p>
<p><strong>Node.js App Logs</strong></p>
<p>Get the logs of the Node.js app:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl logs <span class="token parameter variable">--selector</span><span class="token operator">=</span>app<span class="token operator">=</span>node <span class="token parameter variable">-c</span> <span class="token function">node</span> <span class="token parameter variable">--tail</span><span class="token operator">=</span>-1</code></pre></div>
<p>If all went well, you should see logs like this:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">Got a new order<span class="token operator">!</span> Order ID: <span class="token number">1</span>
Successfully persisted state <span class="token keyword">for</span> Order ID: <span class="token number">1</span>
Got a new order<span class="token operator">!</span> Order ID: <span class="token number">2</span>
Successfully persisted state <span class="token keyword">for</span> Order ID: <span class="token number">2</span>
Got a new order<span class="token operator">!</span> Order ID: <span class="token number">3</span>
Successfully persisted state <span class="token keyword">for</span> Order ID: <span class="token number">3</span></code></pre></div>
<p><strong>API Call Logs</strong></p>
<p>Observe API call logs:</p>
<p><strong>Node.js App API Logs</strong></p>
<p>Get the API call logs of the Node.js app:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl logs <span class="token parameter variable">--selector</span><span class="token operator">=</span>app<span class="token operator">=</span>node <span class="token parameter variable">-c</span> daprd <span class="token parameter variable">--tail</span><span class="token operator">=</span>-1</code></pre></div>
<p>When save state API calls are made, you should see logs similar to this:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token string">"2024-11-02T22:46:09.82121774Z"</span> <span class="token assign-left variable">level</span><span class="token operator">=</span>info <span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">"POST /v1.0/state/statestore"</span> <span class="token assign-left variable">app_id</span><span class="token operator">=</span>nodeapp <span class="token assign-left variable">instance</span><span class="token operator">=</span>nodeapp-7dd6648dd4-7hpmh <span class="token assign-left variable">scope</span><span class="token operator">=</span>dapr.runtime.http-info <span class="token assign-left variable">type</span><span class="token operator">=</span>log <span class="token assign-left variable">ver</span><span class="token operator">=</span><span class="token number">1.7</span>.2
<span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token string">"2024-11-02T22:46:10.828764787Z"</span> <span class="token assign-left variable">level</span><span class="token operator">=</span>info <span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">"POST /v1.0/state/statestore"</span> <span class="token assign-left variable">app_id</span><span class="token operator">=</span>nodeapp <span class="token assign-left variable">instance</span><span class="token operator">=</span>nodeapp-7dd6648dd4-7hpmh <span class="token assign-left variable">scope</span><span class="token operator">=</span>dapr.runtime.http-info <span class="token assign-left variable">type</span><span class="token operator">=</span>log <span class="token assign-left variable">ver</span><span class="token operator">=</span><span class="token number">1.7</span>.2</code></pre></div>
<p><strong>Python App API Logs</strong></p>
<p>Get the API call logs of the Python app:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl logs <span class="token parameter variable">--selector</span><span class="token operator">=</span>app<span class="token operator">=</span>python <span class="token parameter variable">-c</span> daprd <span class="token parameter variable">--tail</span><span class="token operator">=</span>-1</code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token string">"2024-11-02T02:47:49.972688145Z"</span> <span class="token assign-left variable">level</span><span class="token operator">=</span>info <span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">"POST /neworder"</span> <span class="token assign-left variable">app_id</span><span class="token operator">=</span>pythonapp <span class="token assign-left variable">instance</span><span class="token operator">=</span>pythonapp-545df48d55-jvj52 <span class="token assign-left variable">scope</span><span class="token operator">=</span>dapr.runtime.http-info <span class="token assign-left variable">type</span><span class="token operator">=</span>log <span class="token assign-left variable">ver</span><span class="token operator">=</span><span class="token number">1.7</span>.2
<span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token string">"2024-11-02T02:47:50.984994545Z"</span> <span class="token assign-left variable">level</span><span class="token operator">=</span>info <span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">"POST /neworder"</span> <span class="token assign-left variable">app_id</span><span class="token operator">=</span>pythonapp <span class="token assign-left variable">instance</span><span class="token operator">=</span>pythonapp-545df48d55-jvj52 <span class="token assign-left variable">scope</span><span class="token operator">=</span>dapr.runtime.http-info <span class="token assign-left variable">type</span><span class="token operator">=</span>log <span class="token assign-left variable">ver</span><span class="token operator">=</span><span class="token number">1.7</span>.2</code></pre></div>
<p><strong>✅ Confirm Successful Persistence</strong></p>
<p>Call the Node.js app's order endpoint to get the latest order. Grab the external IP address that you saved before, append <code class="language-text">/order</code>, and perform a GET request against it (enter it into your browser, use Postman, or curl it!):</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> <span class="token variable">$NODE_APP</span>/order
<span class="token punctuation">{</span><span class="token string">"orderID"</span><span class="token builtin class-name">:</span><span class="token string">"42"</span><span class="token punctuation">}</span></code></pre></div>
<p>You should see the latest JSON in response!</p>
<p>This will spin down each resource defined by the <code class="language-text">.yaml</code> files in the <code class="language-text">deploy</code> directory, including the state component.</p>
<blockquote>
<p><strong>Note</strong>: This will also delete the state store component. If the <code class="language-text">--dev</code> flag was used for Dapr init, and you want to use the <code class="language-text">dapr-dev-redis</code> deployment as state store, replace the <code class="language-text">redisHost</code> value inside <code class="language-text">./deploy/redis.yaml</code> with <code class="language-text">dapr-dev-redis-master:6379</code> and also the <code class="language-text">secretKeyRef</code>, <code class="language-text">name</code> with <code class="language-text">dapr-dev-redis</code>. Then run the command <code class="language-text">kubectl apply -f ./deploy/redis.yaml</code>, to apply the file again. This will create a <code class="language-text">statestore</code> Dapr component pointing to <code class="language-text">dapr-dev-redis</code> deployment.</p>
</blockquote>
<p>For more details, check the <a href="https://docs.dapr.io/getting-started/" target="_blank" rel="noopener noreferrer">official Dapr documentation</a>.</p>
<h2 id="-conclusion" style="position:relative;"><a href="#-conclusion" aria-label=" conclusion permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>🏁 Conclusion</h2>
<p>In this blog post, we explored how Dapr can significantly simplify the development and management of distributed applications on AWS EKS. By leveraging Dapr's building blocks, such as service invocation, state management, and pub/sub messaging, developers can focus more on business logic and less on the complexities of distributed systems.</p>
<p>We demonstrated how to set up an AWS EKS cluster, deploy sample applications, and integrate Dapr to enhance microservices architecture. This approach not only accelerates development but also ensures that your applications are scalable, secure, and maintainable.</p>
<p>Dapr's open-source nature and extensive documentation make it an excellent choice for organizations looking to streamline their microservices development on Kubernetes. Whether you are just starting with microservices or looking to optimize your existing architecture, Dapr provides the tools and best practices to help you succeed.</p>
<p>For more information and detailed guides, be sure to check out the <a href="https://docs.dapr.io/" target="_blank" rel="noopener noreferrer">official Dapr documentation</a>.</p>
<p>Happy coding! 🚀</p>
<br>
<blockquote>
<p>💡 Thank you for Reading !! 🙌🏻😁📃, see you in the next blog.🤘  <strong><em>Until next time 🎉</em></strong></p>
</blockquote>
<p>🚀 Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>
<p><strong>♻️ LinkedIn:</strong> <a href="https://www.linkedin.com/in/rajhi-saif/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/rajhi-saif/</a></p>
<p><strong>♻️ X/Twitter:</strong> <a href="https://x.com/rajhisaifeddine" target="_blank" rel="noopener noreferrer">https://x.com/rajhisaifeddine</a></p>
<p><strong>The end ✌🏻</strong></p>
<h1 align="center">🔰 Keep Learning !! Keep Sharing !! 🔰</h1>
<p><strong>📅 Stay updated</strong></p>
<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p></div></div><div id="content-end"></div></article><div data-nosnippet="" class="social-share-wrapper"><h3>Share Your Love</h3><button keywords="" aria-label="Share Via Facebook" class="react-share__ShareButton social-share-item facebook" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"></path></svg></button><button keywords="" aria-label="Share Via Twitter" class="react-share__ShareButton social-share-item twitter" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></button><button aria-label="Share Via LinkedIn" keywords="" class="react-share__ShareButton social-share-item linkedin" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></button><button keywords="" aria-label="Share Via Reddit" class="react-share__ShareButton social-share-item reddit" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit" class="svg-inline--fa fa-reddit " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z"></path></svg></button><button keywords="" aria-label="Add to Pocket" class="react-share__ShareButton social-share-item pocket" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="get-pocket" class="svg-inline--fa fa-get-pocket " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"></path></svg></button></div><br/><br/><br/></main><aside class="blogpost-sidebar"><div data-nosnippet="" class="blog-navigation-wrapper"><h3>Read Other Posts</h3><nav class="blog-navigation"><div class="nav-links"><a rel="next" class="next-post" href="/blog/k8s-dynamic-resource-allocation-dra/">Dynamic Resource Allocation in Kubernetes<!-- --> →</a><a rel="prev" class="prev-post" href="/blog/testing-kubernetes-clusters-and-components/">← <!-- -->Kubernetes Testing: From clusters, operators to CRDs and more 🧪</a><a class="all-posts" href="/blog/">All Posts</a></div></nav></div></aside><footer data-nosnippet=""><div class="footer-wrapper"><div data-nosnippet="" class="social"><ul class="social-list"><li class="social-item social-linkedin"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="linkedin" href="https://www.linkedin.com/in/rajhi-saif/" title="Saifeddine Rajhi on LinkedIn" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg><span>LinkedIn</span></a></li><li class="social-item social-github"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="github" href="https://github.com/seifrajhi" title="Saifeddine Rajhi on Github" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span>GitHub</span></a></li><li class="social-item social-email"><a itemProp="email" eventCategory="social" eventAction="click" eventLabel="email" href="mailto:rajhiseif@gmail.com" title="Saifeddine Rajhi&#x27;s Email"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"></path></svg><span>Email</span></a></li><li class="social-item social-bluesky"><a rel="me" itemProp="url" eventCategory="bluesky" eventAction="click" eventLabel="social" href="https://bsky.app/profile/saifrajhi.bsky.social" title="Saifeddine Rajhi on Bluesky Social" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="bluesky" class="svg-inline--fa fa-bluesky fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"></path></svg><span>Bluesky Social</span></a></li><li class="social-item social-X/Twitter"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="X/Twitter" href="https://x.com/RajhiSaifeddine" title="Saifeddine Rajhi on X/Twitter" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg><span>X/Twitter</span></a></li><li class="social-item social-reddit"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="reddit" href="https://www.reddit.com/user/ScoreApprehensive992/" title="Saifeddine Rajhi on Reddit" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit-alien" class="svg-inline--fa fa-reddit-alien fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M373 138.6c-25.2 0-46.3-17.5-51.9-41l0 0c-30.6 4.3-54.2 30.7-54.2 62.4l0 .2c47.4 1.8 90.6 15.1 124.9 36.3c12.6-9.7 28.4-15.5 45.5-15.5c41.3 0 74.7 33.4 74.7 74.7c0 29.8-17.4 55.5-42.7 67.5c-2.4 86.8-97 156.6-213.2 156.6S45.5 410.1 43 323.4C17.6 311.5 0 285.7 0 255.7c0-41.3 33.4-74.7 74.7-74.7c17.2 0 33 5.8 45.7 15.6c34-21.1 76.8-34.4 123.7-36.4l0-.3c0-44.3 33.7-80.9 76.8-85.5C325.8 50.2 347.2 32 373 32c29.4 0 53.3 23.9 53.3 53.3s-23.9 53.3-53.3 53.3zM157.5 255.3c-20.9 0-38.9 20.8-40.2 47.9s17.1 38.1 38 38.1s36.6-9.8 37.8-36.9s-14.7-49.1-35.7-49.1zM395 303.1c-1.2-27.1-19.2-47.9-40.2-47.9s-36.9 22-35.7 49.1c1.2 27.1 16.9 36.9 37.8 36.9s39.3-11 38-38.1zm-60.1 70.8c1.5-3.6-1-7.7-4.9-8.1c-23-2.3-47.9-3.6-73.8-3.6s-50.8 1.3-73.8 3.6c-3.9 .4-6.4 4.5-4.9 8.1c12.9 30.8 43.3 52.4 78.7 52.4s65.8-21.6 78.7-52.4z"></path></svg><span>Reddit</span></a></li><li class="social-item social-stackoverflow"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://stackoverflow.com/users/21897244/saifeddine-rajhi" title="Saifeddine Rajhi on StackOverflow" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="stack-overflow" class="svg-inline--fa fa-stack-overflow fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"></path></svg><span>StackOverflow</span></a></li><li class="social-item social-Goodreads"><a rel="me" eventLabel="StackOverflow" href="https://www.goodreads.com/user/show/176103378-saifeddine" title="Saifeddine Rajhi on Goodreads" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="goodreads" class="svg-inline--fa fa-goodreads fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M299.9 191.2c5.1 37.3-4.7 79-35.9 100.7-22.3 15.5-52.8 14.1-70.8 5.7-37.1-17.3-49.5-58.6-46.8-97.2 4.3-60.9 40.9-87.9 75.3-87.5 46.9-.2 71.8 31.8 78.2 78.3zM448 88v336c0 30.9-25.1 56-56 56H56c-30.9 0-56-25.1-56-56V88c0-30.9 25.1-56 56-56h336c30.9 0 56 25.1 56 56zM330 313.2s-.1-34-.1-217.3h-29v40.3c-.8.3-1.2-.5-1.6-1.2-9.6-20.7-35.9-46.3-76-46-51.9.4-87.2 31.2-100.6 77.8-4.3 14.9-5.8 30.1-5.5 45.6 1.7 77.9 45.1 117.8 112.4 115.2 28.9-1.1 54.5-17 69-45.2.5-1 1.1-1.9 1.7-2.9.2.1.4.1.6.2.3 3.8.2 30.7.1 34.5-.2 14.8-2 29.5-7.2 43.5-7.8 21-22.3 34.7-44.5 39.5-17.8 3.9-35.6 3.8-53.2-1.2-21.5-6.1-36.5-19-41.1-41.8-.3-1.6-1.3-1.3-2.3-1.3h-26.8c.8 10.6 3.2 20.3 8.5 29.2 24.2 40.5 82.7 48.5 128.2 37.4 49.9-12.3 67.3-54.9 67.4-106.3z"></path></svg><span>Goodreads</span></a></li><li class="social-item social-osi"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://ossinsight.io/analyze/seifrajhi" title="Saifeddine Rajhi on OSSInsights" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="osi" class="svg-inline--fa fa-osi fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M8 266.44C10.3 130.64 105.4 34 221.8 18.34c138.8-18.6 255.6 75.8 278 201.1 21.3 118.8-44 230-151.6 274-9.3 3.8-14.4 1.7-18-7.7q-26.7-69.45-53.4-139c-3.1-8.1-1-13.2 7-16.8 24.2-11 39.3-29.4 43.3-55.8a71.47 71.47 0 0 0-64.5-82.2c-39-3.4-71.8 23.7-77.5 59.7-5.2 33 11.1 63.7 41.9 77.7 9.6 4.4 11.5 8.6 7.8 18.4q-26.85 69.9-53.7 139.9c-2.6 6.9-8.3 9.3-15.5 6.5-52.6-20.3-101.4-61-130.8-119-24.9-49.2-25.2-87.7-26.8-108.7zm20.9-1.9c.4 6.6.6 14.3 1.3 22.1 6.3 71.9 49.6 143.5 131 183.1 3.2 1.5 4.4.8 5.6-2.3q22.35-58.65 45-117.3c1.3-3.3.6-4.8-2.4-6.7-31.6-19.9-47.3-48.5-45.6-86 1-21.6 9.3-40.5 23.8-56.3 30-32.7 77-39.8 115.5-17.6a91.64 91.64 0 0 1 45.2 90.4c-3.6 30.6-19.3 53.9-45.7 69.8-2.7 1.6-3.5 2.9-2.3 6q22.8 58.8 45.2 117.7c1.2 3.1 2.4 3.8 5.6 2.3 35.5-16.6 65.2-40.3 88.1-72 34.8-48.2 49.1-101.9 42.3-161-13.7-117.5-119.4-214.8-255.5-198-106.1 13-195.3 102.5-197.1 225.8z"></path></svg><span>OSSInsights</span></a></li><li class="social-item social-devstats"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://devstats.cluster.fun/?user=seifrajhi" title="Saifeddine Rajhi on DevStats" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-line" class="svg-inline--fa fa-chart-line fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"></path></svg><span>DevStats</span></a></li><li class="social-item social-RSS"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="RSS" href="https://seifrajhi.github.io/rss.xml" title="Subscribe to my blog post" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg><span>RSS</span></a></li></ul></div><div class="copyright">Saifeddine Rajhi © 1994 - <!-- -->2025<!-- --> <br/><a rel="license" href="https://creativecommons.org/licenses/by/4.0/" title="Content is published under CC BY 4.0 license">CC BY 4.0</a></div><div class="pgp"><a href="https://keybase.io/saifrajhi">0C3B BABB 8BC1 EA2B</a></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/integrating-dapr-with-aws-eks/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-841ae7833f9baaa41e35.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-88fb5c28d68e831e730a.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-83bdb4e48c18bf191297.js\"],\"component---src-pages-blog-js\":[\"/component---src-pages-blog-js-ecde77d98197d52cb813.js\"],\"component---src-pages-cv-platform-engineer-js\":[\"/component---src-pages-cv-platform-engineer-js-b123892ec44b2247c14c.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-ea9268b02241eb42b7ab.js\"],\"component---src-pages-talks-js\":[\"/component---src-pages-talks-js-be8ac3db9e3c2f2f5cd6.js\"],\"component---src-pages-thoughts-js\":[\"/component---src-pages-thoughts-js-54f56c1476e2dcbf7fc4.js\"],\"component---src-templates-blog-template-js\":[\"/component---src-templates-blog-template-js-36418f189bad33f744db.js\"],\"component---src-templates-talk-template-js\":[\"/component---src-templates-talk-template-js-7623845caf43043e0341.js\"],\"component---src-templates-thought-template-js\":[\"/component---src-templates-thought-template-js-4e873e19a182fe3c30b3.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="9600e2f7479c4625ce7f";</script><script src="/webpack-runtime-f12c1039389262de0401.js" async></script><script src="/framework-c989293af61a95023f7f.js" async></script><script src="/app-841ae7833f9baaa41e35.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>