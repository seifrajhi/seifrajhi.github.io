<!DOCTYPE html><html lang="en" class="blogpost-view-page"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="description" property="og:description" content="Learn how to simplify the updating of ConfigMaps and Secrets in Kubernetes with Reloader, ensuring your applications always use the latest configuration."/><meta data-react-helmet="true" name="keywords" content="Kubernetes,ConfigMaps,Platform engineering,DevOps,K8s"/><meta data-react-helmet="true" name="author" content="@RajhiSaifeddine"/><meta data-react-helmet="true" property="og:title" content="ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ - Blog"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@RajhiSaifeddine"/><meta data-react-helmet="true" name="twitter:title" content="ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ - Blog"/><meta data-react-helmet="true" name="twitter:description" content="Learn how to simplify the updating of ConfigMaps and Secrets in Kubernetes with Reloader, ensuring your applications always use the latest configuration."/><meta data-react-helmet="true" name="image" property="og:image" content="https://seifrajhi.github.io/static/f587b5e7b6956dec3ed9225083636074/2560f/reloader-cover.jpg"/><meta data-react-helmet="true" name="twitter:image" content="https://seifrajhi.github.io/static/f587b5e7b6956dec3ed9225083636074/2560f/reloader-cover.jpg"/><meta data-react-helmet="true" property="og:url" content="https://seifrajhi.github.io/blog/reloader-configmap-secret/"/><meta name="theme-color" content="#ffffff"/><link rel="stylesheet" href="/styles.f2578406544ee58a43e3.css"/><link rel="stylesheet"/><link rel="alternate" type="application/rss+xml" title="Saifeddine Rajhi&#x27;s Blog RSS Feed" href="/rss.xml"/><title data-react-helmet="true">ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ - Blog by Saifeddine Rajhi</title><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","image":"/static/f587b5e7b6956dec3ed9225083636074/2560f/reloader-cover.jpg","headline":"ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ","dateCreated":"2024-10-28","datePublished":"2024-10-28","dateModified":"2024-10-28","inLanguage":"en-US","isFamilyFriendly":true,"isAccessibleForFree":true,"author":{"@type":"Person","name":"Saifeddine Rajhi","url":"https://seifrajhi.github.io"},"publisher":{"@type":"Organization","name":"Saifeddine Rajhi's Website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://seifrajhi.github.io/blog/reloader-configmap-secret/"},"keywords":["Kubernetes","ConfigMaps","Platform engineering","DevOps","K8s"],"genre":["Platform engineer","software engineering","science","deep learning","statistics"],"articleSection":"Technical Blog","articleBody":"\n> **Simple ConfigMap and Secret Updates üÜï**\n\n## üå† Introduction\n\nKubernetes [ConfigMaps](https://kubernetes.io/docs/concepts/configuration/configmap/) and [Secrets](https://kubernetes.io/docs/concepts/configuration/secret/) are essential for injecting environment variables and application secrets into pods. However, updating these configurations can be challenging, as changes are not automatically propagated to running pods.\n\n[Reloader](https://github.com/stakater/Reloader) is a Kubernetes controller that automates the process of detecting and reflecting changes to ConfigMaps and Secrets in running pods. This eliminates the need for manual restarts or volume reattachments, and ensures that your applications are always up-to-date.\n\nIn this blog post, we will discuss the benefits of using Reloader, and how to deploy and configure it in your Kubernetes cluster. We will also provide some code snippets to help you get started.\n\nThere's a lot of work to do, so roll up your sleeves and get busy.\n\n![reload](./reload.png)\n\n## Getting to Know Reloader\n\nImagine you're in charge of keeping your applications running smoothly on a Kubernetes playground. But hey, things change, right? You might need to tweak how your apps behave‚Ää‚Äî‚Äälike telling them to use a different secret password or to play nice with updated settings.\n\nNow, meet your helpful buddy: **Reloader**. It's like a watchful wizard that hangs around ConfigMaps and Secrets in Kubernetes. Whenever those sneaky settings change, Reloader takes the cue and says, \"Hey, your apps need to catch up!\" It works some magic to gently update your apps, making sure they stay happy and snug in their pods. And the cool part? You don't need to wave your wand manually‚Ää‚Äî‚ÄäReloader does it for you.\n\n## Deploy Reloader to Kubernetes Cluster\n\nThere are multiple deployment options available, including using manifests and Helm. In this blog, we will explore both methods.\n\n### Using Helm\n\nAdd the Helm chart:\n\n```shell\nhelm repo add stakater https://stakater.github.io/stakater-charts\nhelm repo update\n```\n\n![helm](./helm.png)\n\nDeploy Reloader:\n\n```shell\nhelm install reloader stakater/reloader # To watch CM/secrets in all namespaces\nhelm install reloader stakater/reloader --set reloader.watchGlobally=false --namespace NAMESPACENAME # To watch CM/Secrets in one namespace\n```\n\n![install](./install.png)\n\n### Using Vanilla Manifests\n\nApply vanilla manifests by changing the `RELEASE-NAME` placeholder provided in the manifest with a proper value and apply it by running the command given below:\n\n```shell\nkubectl apply -f https://raw.githubusercontent.com/stakater/Reloader/master/deployments/kubernetes/reloader.yaml\nkubectl apply -k https://github.com/stakater/Reloader/deployments/kubernetes\n```\n\nBy default, Reloader gets deployed in the default namespace and watches changes to secrets and configmaps in all namespaces.\n\nReloader can be configured to ignore the resources secrets and configmaps by passing the following args (`spec.template.spec.containers.args`) to its container.\n\nThis will create a Reloader pod and the required resources.\n\nFor more details, visit the [Reloader GitHub repository](https://github.com/stakater/Reloader).\n\n## How to Use Reloader\n\nFor a Deployment called `foo`, have a ConfigMap called `foo-configmap` or Secret called `foo-secret` or both. Then add your annotation (by default `reloader.stakater.com/auto`) to the main metadata of your Deployment:\n\n```yaml\nkind: Deployment\nmetadata:\n    annotations:\n        reloader.stakater.com/auto: \"true\"\nspec:\n    template:\n        metadata:\n```\n\nThis will discover deployments, daemonsets, and statefulsets automatically where `foo-configmap` or `foo-secret` is being used either via an environment variable or from a volume mount. It will perform rolling upgrades on related pods when `foo-configmap` or `foo-secret` are updated.\n\nYou can restrict this discovery to only ConfigMap or Secret objects that are tagged with a special annotation. To take advantage of that, annotate your deployments/daemonsets/statefulsets like this:\n\n```yaml\nkind: Deployment\nmetadata:\n    annotations:\n        reloader.stakater.com/search: \"true\"\nspec:\n    template:\n        metadata:\n```\n\nReloader will trigger the rolling upgrade upon modification of any ConfigMap or Secret annotated like this:\n\n```yaml\nkind: ConfigMap\nmetadata:\n    annotations:\n        reloader.stakater.com/match: \"true\"\ndata:\n    key: value\n```\n\nprovided the secret/configmap is being used in an environment variable, or a volume mount.\n\n> **Note:** `reloader.stakater.com/search` and `reloader.stakater.com/auto` do not work together. If you have the `reloader.stakater.com/auto: \"true\"` annotation on your deployment, then it will always restart upon a change in configmaps or secrets it uses, regardless of whether they have the `reloader.stakater.com/match: \"true\"` annotation or not.\n\nWe can also specify a specific configmap or secret which would trigger a rolling upgrade only upon a change in our specified configmap or secret. This way, it will not trigger a rolling upgrade upon changes in all configmaps or secrets used in a deploymentconfig, deployment, daemonset, statefulset, or rollout. To do this, either set the auto annotation to \"false\" (`reloader.stakater.com/auto: \"false\"`) or remove it altogether, and use annotations for [Configmap](https://github.com/stakater/Reloader/tree/master#Configmap) or [Secret](https://github.com/stakater/Reloader/tree/master#Secret).\n\nIt's also possible to enable auto reloading for all resources by setting the `--auto-reload-all` flag. In this case, all resources that do not have the auto annotation set to \"false\" will be reloaded automatically when their ConfigMaps or Secrets are updated. Notice that setting the auto annotation to an undefined value counts as false as well.\n\n## üè™ ConfigMap\n\nTo perform rolling upgrades when changes happen only on specific configmaps, use the below annotation. For a Deployment called `foo`, have a ConfigMap called `foo-configmap`. Then add this annotation to the main metadata of your Deployment:\n\n```yaml\nkind: Deployment\nmetadata:\n    annotations:\n        configmap.reloader.stakater.com/reload: \"foo-configmap\"\nspec:\n    template:\n        metadata:\n```\n\nUse a comma-separated list to define multiple configmaps:\n\n```yaml\nkind: Deployment\nmetadata:\n    annotations:\n        configmap.reloader.stakater.com/reload: \"foo-configmap,bar-configmap,baz-configmap\"\nspec:\n    template:\n        metadata:\n```\n\nFor more details, visit the [Reloader GitHub repository](https://github.com/stakater/Reloader).\n\n## üîê Secret\n\nTo perform rolling upgrades when changes happen only on specific secrets, use the annotation below.\n\nFor a Deployment called `foo`, have a Secret called `foo-secret`. Then add this annotation to the main metadata of your Deployment:\n\n```yaml\nkind: Deployment\nmetadata:\n    annotations:\n        secret.reloader.stakater.com/reload: \"foo-secret\"\nspec:\n    template: \n        metadata:\n```\n\nUse a comma-separated list to define multiple secrets:\n\n```yaml\nkind: Deployment\nmetadata:\n    annotations:\n        secret.reloader.stakater.com/reload: \"foo-secret,bar-secret,baz-secret\"\nspec:\n    template: \n        metadata:\n```\n\n## üí´ Notes\n\nReloader also supports [sealed-secrets](https://github.com/bitnami-labs/sealed-secrets). [Here](https://github.com/stakater/Reloader/blob/master/docs/Reloader-with-Sealed-Secrets.md) are the steps to use sealed-secrets with Reloader.\n\nFor [rollouts](https://github.com/argoproj/argo-rollouts/), Reloader simply triggers a change; it is up to you how you configure the rollout strategy.\n\n- `reloader.stakater.com/auto: \"true\"` will only reload the pod if the ConfigMap or Secret is used (as a volume mount or as an env) in DeploymentConfigs/Deployment/Daemonsets/Statefulsets.\n- `secret.reloader.stakater.com/reload` or `configmap.reloader.stakater.com/reload` annotation will reload the pod upon changes in the specified ConfigMap or Secret, irrespective of the usage of ConfigMap or Secret.\n- You may override the auto annotation with the `--auto-annotation` flag.\n- You may override the search annotation with the `--auto-search-annotation` flag and the match annotation with the `--search-match-annotation` flag.\n- You may override the ConfigMap annotation with the `--configmap-annotation` flag.\n- You may override the Secret annotation with the `--secret-annotation` flag.\n- You may want to prevent watching certain namespaces with the `--namespaces-to-ignore` flag.\n- You may want to watch only a set of namespaces with certain labels by using the `--namespace-selector` flag.\n- You may want to watch only a set of secrets/configmaps with certain labels by using the `--resource-label-selector` flag.\n- You may want to prevent watching certain resources with the `--resources-to-ignore` flag.\n- You can configure logging in JSON format with the `--log-format=json` option.\n- You can configure the \"reload strategy\" with the `--reload-strategy=<strategy-name>` option (details below).\n\n### üé≤ Reload Strategies\n\nReloader supports multiple \"reload\" strategies for performing rolling upgrades to resources. The following list describes them:\n\n- **env-vars**: When a tracked `ConfigMap/Secret` is updated, this strategy attaches a Reloader-specific environment variable to any containers referencing the changed ConfigMap or Secret on the owning resource (e.g., Deployment, StatefulSet, etc.). This strategy can be specified with the `--reload-strategy=env-vars` argument. Note: This is the default reload strategy.\n- **annotations**: When a tracked `ConfigMap/Secret` is updated, this strategy attaches a `reloader.stakater.com/last-reloaded-from` pod template annotation on the owning resource (e.g., Deployment, StatefulSet, etc.). This strategy is useful when using resource syncing tools like ArgoCD, since it will not cause these tools to detect configuration drift after a resource is reloaded.\n  \n    >> Note: Since the attached pod template annotation only tracks the last reload source, this strategy will reload any tracked resource should its ConfigMap or Secret be deleted and recreated. This strategy can be specified with the `--reload-strategy=annotations` argument.\n\nFor more details, visit the [Reloader GitHub repository](https://github.com/stakater/Reloader).\n\n## üåü Test Reloader: Hands-on\n\nTo test the Reloader, I will deploy a deployment that uses a ConfigMap and a Secret to inject environment variables into its pod.\n\n### Create ConfigMap and Secret\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n    name: test-configmap\ndata:\n    test_env: \"foo\"\n---\napiVersion: v1\ndata:\n    pass: bXlwYXNzd29yZA==\nkind: Secret\nmetadata:\n    name: test-secret\n```\n\n### Create Deployment\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n    name: nginx-deployment\n    labels:\n        app: nginx\n    annotations:\n        configmap.reloader.stakater.com/reload: \"test-configmap\"\n        secret.reloader.stakater.com/reload: \"test-secret\"\nspec:\n    replicas: 3\n    selector:\n        matchLabels:\n            app: nginx\n    template:\n        metadata:\n            labels:\n                app: nginx\n        spec:\n            containers:\n            - name: nginx\n                image: nginx:1.14.2\n                ports:\n                - containerPort: 80\n                env:\n                - name: TEST_ENV\n                    valueFrom:\n                        configMapKeyRef:\n                            name: test-configmap\n                            key: test_env\n                - name: TEST_PASS\n                    valueFrom:\n                        secretKeyRef:\n                            name: test-secret\n                            key: pass\n```\n\n![k-get](./k-get.png)\n\n> **Note:** The annotations in the deployment are used to watch specific ConfigMap or Secret. \n> - `secret.reloader.stakater.com/reload: \"test-secret\"` watches for the secret `test-secret`. Any changes to this secret will trigger a rolling upgrade of the deployment.\n> - `configmap.reloader.stakater.com/reload: \"test-configmap\"` watches for the ConfigMap `test-configmap`. Any changes to this ConfigMap will trigger a rolling upgrade.\n\nThere are other supported annotations that can be added to a deployment or statefulset:\n- `reloader.stakater.com/auto: \"true\"`: This will look for all ConfigMaps or Secrets being used either via environment variables or mounts and trigger a rolling upgrade if any changes are made to those ConfigMaps/Secrets.\n\n![check1](./check.png)\n<div class=\"image-title\">Initial values of environment variables</div>\n\n### Update ConfigMap\n\nOnce the deployment is created, make a change in the ConfigMap. You will notice a rolling upgrade has been triggered by the deployment, and new pods come up with updated values from the ConfigMap. ‚úíÔ∏è\n\n![check2](./check2.png)\n<div class=\"image-title\">New pods came up after updating ConfigMap</div>\n\n### Update Secret\n\nYou can also make a change in the Secret. You will notice a rolling upgrade has been triggered by the deployment, and new pods come up with updated values from the Secret. üéâ\n\n![check3](./check3.png)\n<div class=\"image-title\">New value of environment variables loaded in pod after updating secret</div>\n\n## üîö Summary\n\nReloader is a powerful tool that can help you automate rolling upgrades in Kubernetes. It monitors changes to ConfigMaps and Secrets, and then triggers rolling upgrades for associated pods. This eliminates the need for manual restarts or volume reattachments, and ensures that your applications are always up-to-date.\n\nIn this blog post, we discussed how to deploy Reloader using manifests and Helm, and how to use it to reload ConfigMaps and Secrets. We also explored a real-world use case where Reloader was used to automate rolling upgrades based on changes in associated ConfigMaps.\n\nBy leveraging Reloader's capabilities, you can enhance the reliability and efficiency of your Kubernetes deployments. When deploying Reloader, be sure to adapt the deployment method and configuration to your specific environment and requirements.\n\nFor more details, visit the [Reloader GitHub repository](https://github.com/stakater/Reloader).\n\n<br>\n\n**_Until next time, „Å§„Å•„Åè üéâ_**\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  **_Until next time üéâ_**\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordcount":1503}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://seifrajhi.github.io/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://seifrajhi.github.io/blog/"},{"@type":"ListItem","position":3,"name":"ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ","item":"https://seifrajhi.github.io/blog/reloader-configmap-secret/"}]}</script><link crossorigin="" href="https://utteranc.es" rel="preconnect"/><link crossorigin="" href="https://www.google-analytics.com" rel="preconnect"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=47ae28bb567c9025f1fee24afb2d20c9" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2"/><style>@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2) format("woff2")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMr3.woff) format("woff")}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-LLPCCGNLH7', 'auto', {"alwaysSendReferrer":true});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LLPCCGNLH7"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-LLPCCGNLH7', {"anonymize_ip":true,"send_page_view":false});gtag('config', 'GTM-5V895PDS', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><link rel="stylesheet"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://seifrajhi.github.io/blog/reloader-configmap-secret/" data-baseprotocol="https:" data-basehost="seifrajhi.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="blogpost-header"><div class="view-page-header"><div class="view-page-header-wrapper"><div class="logo-wrapper"><div class="logo"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained logo-img"><div style="max-width:150px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;174&#x27;%20width=&#x27;150&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" data-src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture><noscript><picture><source type="image/avif" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="name"><a href="/blog/" title="back to blog">Saifeddine <br/> Rajhi</a></div></div><h2 class="blog-title"><a href="/blog/" title="back to the homepage">Blog</a></h2></div></div><nav class="main-navigation"><ul><li><a rel="home" title="Go Home" href="/">Home</a></li><li><a title="Go to my Technical Blog" href="/blog/">Blog</a></li><li><a title="Go to my Thoughts" href="/thoughts/">Thoughts</a></li><li><a title="Review My Resume" href="/cv/platform-engineer/">cv</a></li></ul></nav></div><main><article class="blog-wrapper"><header><figure class="cover"><div class="cover-filter"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper cover cover-image"><div aria-hidden="true" style="padding-top:56.30952380952381%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB2lVxMoGv/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAQABBQKsrKyb/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhABAAMAAwAAAAAAAAAAAAAAAQARIRAxUf/aAAgBAQABPyFKXOQUyoh7JR5x/9oADAMBAAIAAwAAABDn7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAYf/aAAgBAwEBPxBIcv/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EEf/xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFBUWH/2gAIAQEAAT8QYRmjc8Y3F9J1gBoe5cSoOQ6HH//Z" alt=""/><picture><source type="image/webp" data-srcset="/static/f587b5e7b6956dec3ed9225083636074/a66aa/reloader-cover.webp 750w,/static/f587b5e7b6956dec3ed9225083636074/3aff9/reloader-cover.webp 840w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/f587b5e7b6956dec3ed9225083636074/2560f/reloader-cover.jpg" data-srcset="/static/f587b5e7b6956dec3ed9225083636074/37bba/reloader-cover.jpg 750w,/static/f587b5e7b6956dec3ed9225083636074/2560f/reloader-cover.jpg 840w" alt="ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f587b5e7b6956dec3ed9225083636074/a66aa/reloader-cover.webp 750w,/static/f587b5e7b6956dec3ed9225083636074/3aff9/reloader-cover.webp 840w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/f587b5e7b6956dec3ed9225083636074/2560f/reloader-cover.jpg" srcSet="/static/f587b5e7b6956dec3ed9225083636074/37bba/reloader-cover.jpg 750w,/static/f587b5e7b6956dec3ed9225083636074/2560f/reloader-cover.jpg 840w" alt="ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><figcaption data-nosnippet="" class="image-title">Photo by Saifeddine Rajhi</figcaption></figure><h1>ConfigMap and Secret Data Reloading Made Simple with Reloader üîÑ</h1><div data-nosnippet="" class="blog-details"><time class="blog-createdat" dateTime="2024-10-28">Oct 28, 2024</time><span> ‚Ä¢ </span><span class="blog-time2read">8<!-- -->mins<!-- --> read</span><div class="theme-switcher"><div class="theme-switcher-toggler"><div class="theme-switcher-track"></div><div class="theme-switcher-thumb"></div><input class="theme-switcher-input" type="checkbox" readonly="" aria-label="Switch between Dark and Light modes"/></div></div></div><ul data-nosnippet="" class="blog-tags"><li>Kubernetes</li><li>ConfigMaps</li><li>Platform engineering</li><li>DevOps</li><li>K8s</li></ul></header><div class="blog-divider"></div><div id="intro"></div><div class="content-wrapper"><div data-nosnippet="" class="blog-content-nav-wrapper"><ul class="blog-content-nav"><h2>Content</h2><ul class="toc-list"></ul></ul></div><div class="content blog-content"><blockquote>
<p><strong>Simple ConfigMap and Secret Updates üÜï</strong></p>
</blockquote>
<h2 id="-introduction" style="position:relative;"><a href="#-introduction" aria-label=" introduction permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üå† Introduction</h2>
<p>Kubernetes <a href="https://kubernetes.io/docs/concepts/configuration/configmap/" target="_blank" rel="noopener noreferrer">ConfigMaps</a> and <a href="https://kubernetes.io/docs/concepts/configuration/secret/" target="_blank" rel="noopener noreferrer">Secrets</a> are essential for injecting environment variables and application secrets into pods. However, updating these configurations can be challenging, as changes are not automatically propagated to running pods.</p>
<p><a href="https://github.com/stakater/Reloader" target="_blank" rel="noopener noreferrer">Reloader</a> is a Kubernetes controller that automates the process of detecting and reflecting changes to ConfigMaps and Secrets in running pods. This eliminates the need for manual restarts or volume reattachments, and ensures that your applications are always up-to-date.</p>
<p>In this blog post, we will discuss the benefits of using Reloader, and how to deploy and configure it in your Kubernetes cluster. We will also provide some code snippets to help you get started.</p>
<p>There's a lot of work to do, so roll up your sleeves and get busy.</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 95.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADyklEQVR42lVU+28UVRTeP8LoTyIWIoIUQSgSBX/TRI1iMCZqUDRKsRZpoQVDfaG0MVKpRWNN0GLAWkgUa0Fisyz77gJdWLalLyylz+3ubLu77W67O/uY+TznzuzrJDczd+bc7zzu9x0DCkxRAVVVoer7ZFpB33gUXZ6gWP0TUSRTSs4/QwcU9lfzGIbsi6o7yPqB3rEF7G7pxaZaBx5834SHPzBjQ40DL9b3oOnCPUzPJYRfNJ7G5Kz2zsCGbCQ220AIdW3DAnxkZgnB+SQ5x3HO4cNLDT0oIdA1+2ziufmgE222aZz4ZwxVrQN6hSoMip6vLyTj2SPXUFJhhntkXnNQ8uXIqQyOdYxiVaUVGw44UFplwyOVFqz+yIrNh5yYCMbzJSfIeWfzLeHw6F4rylv6dEANLJVWEYpqmy6PhNJqO9YS4BPUAl6cccu/43nAg6cHRY820s/1B+xYQ1HtVD6bdzSJz8+EseOohEOtIUhhFTfuRrD1sAvr99tRVusU4Nu/diORzMBg9Aaxtc4lIj1ODvx8qPwKdnxzg7LK4JWvJDR3zOO8cxFvfxvEC59J6J+MicDLyI+zW0HrgXcv4/xVPwx8IYGIjC0fOwUgl13z6yAu3QygzRxBzckwGs5F8PKRANz/ydhW60erUUK7Ywrtdh+tabFOmSZxdTiilcw3uYlubR315jG6RcvtOVHu5VtxlO3z4Ywphsof5/BqvYTV5VNw35GLepylDHNYB0ygjACZEk8f7hZ0YYvLCurbI1RmANspwy3VPpz4ewHpjIoMLb6sVFpD5Vv2EncFYGQxhacIaOWHFrxx3CMcnAMydh6bxc9dMXS6lvAbZXnx2hJ+6Yqi6a8FjAfSKORww58jMPXOaoAc8bXGm6SIK6J/bGetMZHRp6fDubJiCQXvfRfEW41BmL0JXZ4qjneOYiMpSqLKDIUR7ttlxBdn7+hEVtFNWc6EMmL/h8uPuWiS9ipsfTJmF5LouO7Hm00e3P+OEXW/D2s8zCrlNgmfKVCdk5GmFDYeEGurrGi+eA+dPX46PIhnPnEJESzbbRIK84USeWJnQTn1J0lGsXi+PzwsXqe+Mp1Kq21YvscsAvP7SpLpc19ex9BULK/lwmnD1kh6PWmcyPXth0tjWFGRVxHrmDNbtdeC/acGBIezui8aXxqXtI9D0zFBh+6hsFABDwDmKI8vHme7vvfC2h/K8U8pGIjFgHra2f8X3BL2/NSH54/2COKXVFiwjtQ0E04UDdhCKwLMT+7iKczZ3vUviqnNI8wzOo/C3hcC/g+TdPf3HR+bagAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="reload" title="" src="/static/df3811486b3d8d991c05d0c3218846e6/c5bb3/reload.png" srcset="/static/df3811486b3d8d991c05d0c3218846e6/04472/reload.png 170w,
/static/df3811486b3d8d991c05d0c3218846e6/9f933/reload.png 340w,
/static/df3811486b3d8d991c05d0c3218846e6/c5bb3/reload.png 680w,
/static/df3811486b3d8d991c05d0c3218846e6/5a6dd/reload.png 802w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<h2 id="getting-to-know-reloader" style="position:relative;"><a href="#getting-to-know-reloader" aria-label="getting to know reloader permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Getting to Know Reloader</h2>
<p>Imagine you're in charge of keeping your applications running smoothly on a Kubernetes playground. But hey, things change, right? You might need to tweak how your apps behave‚Ää‚Äî‚Äälike telling them to use a different secret password or to play nice with updated settings.</p>
<p>Now, meet your helpful buddy: <strong>Reloader</strong>. It's like a watchful wizard that hangs around ConfigMaps and Secrets in Kubernetes. Whenever those sneaky settings change, Reloader takes the cue and says, "Hey, your apps need to catch up!" It works some magic to gently update your apps, making sure they stay happy and snug in their pods. And the cool part? You don't need to wave your wand manually‚Ää‚Äî‚ÄäReloader does it for you.</p>
<h2 id="deploy-reloader-to-kubernetes-cluster" style="position:relative;"><a href="#deploy-reloader-to-kubernetes-cluster" aria-label="deploy reloader to kubernetes cluster permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Deploy Reloader to Kubernetes Cluster</h2>
<p>There are multiple deployment options available, including using manifests and Helm. In this blog, we will explore both methods.</p>
<h3 id="using-helm" style="position:relative;"><a href="#using-helm" aria-label="using helm permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using Helm</h3>
<p>Add the Helm chart:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">helm repo <span class="token function">add</span> stakater https://stakater.github.io/stakater-charts
helm repo update</code></pre></div>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 15.294117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVR42mWPTQrFIBCDe51iwU3VarUoCvXv/tfJY2ZR+ujig5lAQrKEEHCeJ47jYJxzsNY+kGaMgVIKWmvs+846afQLIf5YxhiYc+K+b9RaQT+RUkKMkSHjO3Bd14dPYGsNvXemlMJhdOecuYX3nhvRiuu6QIuklGzetu0T+AMlwGNeuZ4slAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="helm" title="" src="/static/384086a12800470f945b7788a3efac4b/c5bb3/helm.png" srcset="/static/384086a12800470f945b7788a3efac4b/04472/helm.png 170w,
/static/384086a12800470f945b7788a3efac4b/9f933/helm.png 340w,
/static/384086a12800470f945b7788a3efac4b/c5bb3/helm.png 680w,
/static/384086a12800470f945b7788a3efac4b/b12f7/helm.png 1020w,
/static/384086a12800470f945b7788a3efac4b/b5a09/helm.png 1360w,
/static/384086a12800470f945b7788a3efac4b/29007/helm.png 1600w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<p>Deploy Reloader:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">helm <span class="token function">install</span> reloader stakater/reloader <span class="token comment"># To watch CM/secrets in all namespaces</span>
helm <span class="token function">install</span> reloader stakater/reloader <span class="token parameter variable">--set</span> <span class="token assign-left variable">reloader.watchGlobally</span><span class="token operator">=</span>false <span class="token parameter variable">--namespace</span> NAMESPACENAME <span class="token comment"># To watch CM/Secrets in one namespace</span></code></pre></div>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwElEQVR42o2RWWrGQAyD5zzZ94XsgbyELPc/jcpnmPJTKO2DkBzPyB7Fneep67o0TZPatjX0fa+maVTXtdI0VRAECsPwT8RxLPe+r57n0b7vKstSRVGYEU1vBP8HURTJ3fetZVnMyH/0nCTJN/8GBn/WDrPjOLRtm8Zx1DzPxsMwaF1Xq9mYKGBAHNTwp66qSg7RdZ0ZwOQHAw4SQ57nNj3LMtO8Bg3ow2RthmzDlhhi4I38T+EyBwHaD/ip6fPkLy4Tv/6DEiEDAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="install" title="" src="/static/c7413471d0afc2818f83c319aa1f803b/c5bb3/install.png" srcset="/static/c7413471d0afc2818f83c319aa1f803b/04472/install.png 170w,
/static/c7413471d0afc2818f83c319aa1f803b/9f933/install.png 340w,
/static/c7413471d0afc2818f83c319aa1f803b/c5bb3/install.png 680w,
/static/c7413471d0afc2818f83c319aa1f803b/b12f7/install.png 1020w,
/static/c7413471d0afc2818f83c319aa1f803b/b5a09/install.png 1360w,
/static/c7413471d0afc2818f83c319aa1f803b/29007/install.png 1600w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<h3 id="using-vanilla-manifests" style="position:relative;"><a href="#using-vanilla-manifests" aria-label="using vanilla manifests permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using Vanilla Manifests</h3>
<p>Apply vanilla manifests by changing the <code class="language-text">RELEASE-NAME</code> placeholder provided in the manifest with a proper value and apply it by running the command given below:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl apply <span class="token parameter variable">-f</span> https://raw.githubusercontent.com/stakater/Reloader/master/deployments/kubernetes/reloader.yaml
kubectl apply <span class="token parameter variable">-k</span> https://github.com/stakater/Reloader/deployments/kubernetes</code></pre></div>
<p>By default, Reloader gets deployed in the default namespace and watches changes to secrets and configmaps in all namespaces.</p>
<p>Reloader can be configured to ignore the resources secrets and configmaps by passing the following args (<code class="language-text">spec.template.spec.containers.args</code>) to its container.</p>
<p>This will create a Reloader pod and the required resources.</p>
<p>For more details, visit the <a href="https://github.com/stakater/Reloader" target="_blank" rel="noopener noreferrer">Reloader GitHub repository</a>.</p>
<h2 id="how-to-use-reloader" style="position:relative;"><a href="#how-to-use-reloader" aria-label="how to use reloader permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to Use Reloader</h2>
<p>For a Deployment called <code class="language-text">foo</code>, have a ConfigMap called <code class="language-text">foo-configmap</code> or Secret called <code class="language-text">foo-secret</code> or both. Then add your annotation (by default <code class="language-text">reloader.stakater.com/auto</code>) to the main metadata of your Deployment:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">reloader.stakater.com/auto</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">template</span><span class="token punctuation">:</span>
        metadata<span class="token punctuation">:</span></code></pre></div>
<p>This will discover deployments, daemonsets, and statefulsets automatically where <code class="language-text">foo-configmap</code> or <code class="language-text">foo-secret</code> is being used either via an environment variable or from a volume mount. It will perform rolling upgrades on related pods when <code class="language-text">foo-configmap</code> or <code class="language-text">foo-secret</code> are updated.</p>
<p>You can restrict this discovery to only ConfigMap or Secret objects that are tagged with a special annotation. To take advantage of that, annotate your deployments/daemonsets/statefulsets like this:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">reloader.stakater.com/search</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">template</span><span class="token punctuation">:</span>
        metadata<span class="token punctuation">:</span></code></pre></div>
<p>Reloader will trigger the rolling upgrade upon modification of any ConfigMap or Secret annotated like this:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">kind</span><span class="token punctuation">:</span> ConfigMap
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">reloader.stakater.com/match</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
<span class="token key atrule">data</span><span class="token punctuation">:</span>
    <span class="token key atrule">key</span><span class="token punctuation">:</span> value</code></pre></div>
<p>provided the secret/configmap is being used in an environment variable, or a volume mount.</p>
<blockquote>
<p><strong>Note:</strong> <code class="language-text">reloader.stakater.com/search</code> and <code class="language-text">reloader.stakater.com/auto</code> do not work together. If you have the <code class="language-text">reloader.stakater.com/auto: "true"</code> annotation on your deployment, then it will always restart upon a change in configmaps or secrets it uses, regardless of whether they have the <code class="language-text">reloader.stakater.com/match: "true"</code> annotation or not.</p>
</blockquote>
<p>We can also specify a specific configmap or secret which would trigger a rolling upgrade only upon a change in our specified configmap or secret. This way, it will not trigger a rolling upgrade upon changes in all configmaps or secrets used in a deploymentconfig, deployment, daemonset, statefulset, or rollout. To do this, either set the auto annotation to "false" (<code class="language-text">reloader.stakater.com/auto: "false"</code>) or remove it altogether, and use annotations for <a href="https://github.com/stakater/Reloader/tree/master#Configmap" target="_blank" rel="noopener noreferrer">Configmap</a> or <a href="https://github.com/stakater/Reloader/tree/master#Secret" target="_blank" rel="noopener noreferrer">Secret</a>.</p>
<p>It's also possible to enable auto reloading for all resources by setting the <code class="language-text">--auto-reload-all</code> flag. In this case, all resources that do not have the auto annotation set to "false" will be reloaded automatically when their ConfigMaps or Secrets are updated. Notice that setting the auto annotation to an undefined value counts as false as well.</p>
<h2 id="-configmap" style="position:relative;"><a href="#-configmap" aria-label=" configmap permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üè™ ConfigMap</h2>
<p>To perform rolling upgrades when changes happen only on specific configmaps, use the below annotation. For a Deployment called <code class="language-text">foo</code>, have a ConfigMap called <code class="language-text">foo-configmap</code>. Then add this annotation to the main metadata of your Deployment:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">configmap.reloader.stakater.com/reload</span><span class="token punctuation">:</span> <span class="token string">"foo-configmap"</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">template</span><span class="token punctuation">:</span>
        metadata<span class="token punctuation">:</span></code></pre></div>
<p>Use a comma-separated list to define multiple configmaps:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">configmap.reloader.stakater.com/reload</span><span class="token punctuation">:</span> <span class="token string">"foo-configmap,bar-configmap,baz-configmap"</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">template</span><span class="token punctuation">:</span>
        metadata<span class="token punctuation">:</span></code></pre></div>
<p>For more details, visit the <a href="https://github.com/stakater/Reloader" target="_blank" rel="noopener noreferrer">Reloader GitHub repository</a>.</p>
<h2 id="-secret" style="position:relative;"><a href="#-secret" aria-label=" secret permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üîê Secret</h2>
<p>To perform rolling upgrades when changes happen only on specific secrets, use the annotation below.</p>
<p>For a Deployment called <code class="language-text">foo</code>, have a Secret called <code class="language-text">foo-secret</code>. Then add this annotation to the main metadata of your Deployment:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">secret.reloader.stakater.com/reload</span><span class="token punctuation">:</span> <span class="token string">"foo-secret"</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">template</span><span class="token punctuation">:</span> 
        metadata<span class="token punctuation">:</span></code></pre></div>
<p>Use a comma-separated list to define multiple secrets:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">secret.reloader.stakater.com/reload</span><span class="token punctuation">:</span> <span class="token string">"foo-secret,bar-secret,baz-secret"</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">template</span><span class="token punctuation">:</span> 
        metadata<span class="token punctuation">:</span></code></pre></div>
<h2 id="-notes" style="position:relative;"><a href="#-notes" aria-label=" notes permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üí´ Notes</h2>
<p>Reloader also supports <a href="https://github.com/bitnami-labs/sealed-secrets" target="_blank" rel="noopener noreferrer">sealed-secrets</a>. <a href="https://github.com/stakater/Reloader/blob/master/docs/Reloader-with-Sealed-Secrets.md" target="_blank" rel="noopener noreferrer">Here</a> are the steps to use sealed-secrets with Reloader.</p>
<p>For <a href="https://github.com/argoproj/argo-rollouts/" target="_blank" rel="noopener noreferrer">rollouts</a>, Reloader simply triggers a change; it is up to you how you configure the rollout strategy.</p>
<ul>
<li><code class="language-text">reloader.stakater.com/auto: "true"</code> will only reload the pod if the ConfigMap or Secret is used (as a volume mount or as an env) in DeploymentConfigs/Deployment/Daemonsets/Statefulsets.</li>
<li><code class="language-text">secret.reloader.stakater.com/reload</code> or <code class="language-text">configmap.reloader.stakater.com/reload</code> annotation will reload the pod upon changes in the specified ConfigMap or Secret, irrespective of the usage of ConfigMap or Secret.</li>
<li>You may override the auto annotation with the <code class="language-text">--auto-annotation</code> flag.</li>
<li>You may override the search annotation with the <code class="language-text">--auto-search-annotation</code> flag and the match annotation with the <code class="language-text">--search-match-annotation</code> flag.</li>
<li>You may override the ConfigMap annotation with the <code class="language-text">--configmap-annotation</code> flag.</li>
<li>You may override the Secret annotation with the <code class="language-text">--secret-annotation</code> flag.</li>
<li>You may want to prevent watching certain namespaces with the <code class="language-text">--namespaces-to-ignore</code> flag.</li>
<li>You may want to watch only a set of namespaces with certain labels by using the <code class="language-text">--namespace-selector</code> flag.</li>
<li>You may want to watch only a set of secrets/configmaps with certain labels by using the <code class="language-text">--resource-label-selector</code> flag.</li>
<li>You may want to prevent watching certain resources with the <code class="language-text">--resources-to-ignore</code> flag.</li>
<li>You can configure logging in JSON format with the <code class="language-text">--log-format=json</code> option.</li>
<li>You can configure the "reload strategy" with the <code class="language-text">--reload-strategy=&lt;strategy-name></code> option (details below).</li>
</ul>
<h3 id="-reload-strategies" style="position:relative;"><a href="#-reload-strategies" aria-label=" reload strategies permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üé≤ Reload Strategies</h3>
<p>Reloader supports multiple "reload" strategies for performing rolling upgrades to resources. The following list describes them:</p>
<ul>
<li>
<p><strong>env-vars</strong>: When a tracked <code class="language-text">ConfigMap/Secret</code> is updated, this strategy attaches a Reloader-specific environment variable to any containers referencing the changed ConfigMap or Secret on the owning resource (e.g., Deployment, StatefulSet, etc.). This strategy can be specified with the <code class="language-text">--reload-strategy=env-vars</code> argument. Note: This is the default reload strategy.</p>
</li>
<li>
<p><strong>annotations</strong>: When a tracked <code class="language-text">ConfigMap/Secret</code> is updated, this strategy attaches a <code class="language-text">reloader.stakater.com/last-reloaded-from</code> pod template annotation on the owning resource (e.g., Deployment, StatefulSet, etc.). This strategy is useful when using resource syncing tools like ArgoCD, since it will not cause these tools to detect configuration drift after a resource is reloaded.</p>
<blockquote>
<blockquote>
<p>Note: Since the attached pod template annotation only tracks the last reload source, this strategy will reload any tracked resource should its ConfigMap or Secret be deleted and recreated. This strategy can be specified with the <code class="language-text">--reload-strategy=annotations</code> argument.</p>
</blockquote>
</blockquote>
</li>
</ul>
<p>For more details, visit the <a href="https://github.com/stakater/Reloader" target="_blank" rel="noopener noreferrer">Reloader GitHub repository</a>.</p>
<h2 id="-test-reloader-hands-on" style="position:relative;"><a href="#-test-reloader-hands-on" aria-label=" test reloader hands on permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üåü Test Reloader: Hands-on</h2>
<p>To test the Reloader, I will deploy a deployment that uses a ConfigMap and a Secret to inject environment variables into its pod.</p>
<h3 id="create-configmap-and-secret" style="position:relative;"><a href="#create-configmap-and-secret" aria-label="create configmap and secret permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Create ConfigMap and Secret</h3>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ConfigMap
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>configmap
<span class="token key atrule">data</span><span class="token punctuation">:</span>
    <span class="token key atrule">test_env</span><span class="token punctuation">:</span> <span class="token string">"foo"</span>
<span class="token punctuation">---</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">data</span><span class="token punctuation">:</span>
    <span class="token key atrule">pass</span><span class="token punctuation">:</span> bXlwYXNzd29yZA==
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Secret
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>secret</code></pre></div>
<h3 id="create-deployment" style="position:relative;"><a href="#create-deployment" aria-label="create deployment permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Create Deployment</h3>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>deployment
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
        <span class="token key atrule">configmap.reloader.stakater.com/reload</span><span class="token punctuation">:</span> <span class="token string">"test-configmap"</span>
        <span class="token key atrule">secret.reloader.stakater.com/reload</span><span class="token punctuation">:</span> <span class="token string">"test-secret"</span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
    <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
    <span class="token key atrule">selector</span><span class="token punctuation">:</span>
        <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
            <span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">template</span><span class="token punctuation">:</span>
        <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
            <span class="token key atrule">labels</span><span class="token punctuation">:</span>
                <span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">spec</span><span class="token punctuation">:</span>
            <span class="token key atrule">containers</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
                <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.14.2
                <span class="token key atrule">ports</span><span class="token punctuation">:</span>
                <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
                <span class="token key atrule">env</span><span class="token punctuation">:</span>
                <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> TEST_ENV
                    <span class="token key atrule">valueFrom</span><span class="token punctuation">:</span>
                        <span class="token key atrule">configMapKeyRef</span><span class="token punctuation">:</span>
                            <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>configmap
                            <span class="token key atrule">key</span><span class="token punctuation">:</span> test_env
                <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> TEST_PASS
                    <span class="token key atrule">valueFrom</span><span class="token punctuation">:</span>
                        <span class="token key atrule">secretKeyRef</span><span class="token punctuation">:</span>
                            <span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>secret
                            <span class="token key atrule">key</span><span class="token punctuation">:</span> pass</code></pre></div>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 33.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwElEQVR42o2RNw6AQBADeQ455ywaKBCi5f8PMbKlowQKy6sLc+s9a1kWVFWFPM9RlqW86zqM46g6TVOt033fh+d5r7L2fcdxHNJ1XTjPE33fo65rcG+eZx0chgFJksB13XcgDxJANzU7zrJMNbuL41hd/wKyE4qXGItqmkaRWUdR9IzhK66AvEhAURTqwMzStm3JcZxHv4CMSSDdfAKjMjIfIdx4EATfwG3bsK6rgNM0PT/OqGEYahQEtW2rta8Z3vDL3jo/Gm/CAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="k-get" title="" src="/static/7405e66bca09b223eeb70cc30464f133/c5bb3/k-get.png" srcset="/static/7405e66bca09b223eeb70cc30464f133/04472/k-get.png 170w,
/static/7405e66bca09b223eeb70cc30464f133/9f933/k-get.png 340w,
/static/7405e66bca09b223eeb70cc30464f133/c5bb3/k-get.png 680w,
/static/7405e66bca09b223eeb70cc30464f133/b12f7/k-get.png 1020w,
/static/7405e66bca09b223eeb70cc30464f133/b5a09/k-get.png 1360w,
/static/7405e66bca09b223eeb70cc30464f133/29007/k-get.png 1600w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<blockquote>
<p><strong>Note:</strong> The annotations in the deployment are used to watch specific ConfigMap or Secret.</p>
<ul>
<li><code class="language-text">secret.reloader.stakater.com/reload: "test-secret"</code> watches for the secret <code class="language-text">test-secret</code>. Any changes to this secret will trigger a rolling upgrade of the deployment.</li>
<li><code class="language-text">configmap.reloader.stakater.com/reload: "test-configmap"</code> watches for the ConfigMap <code class="language-text">test-configmap</code>. Any changes to this ConfigMap will trigger a rolling upgrade.</li>
</ul>
</blockquote>
<p>There are other supported annotations that can be added to a deployment or statefulset:</p>
<ul>
<li><code class="language-text">reloader.stakater.com/auto: "true"</code>: This will look for all ConfigMaps or Secrets being used either via environment variables or mounts and trigger a rolling upgrade if any changes are made to those ConfigMaps/Secrets.</li>
</ul>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 16.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAcElEQVR42o3OOQpEIRAE0H8dFxBMFBN3wQW8/2nq0x1MNsMERVX0qGfvjbUWeu9IKSHn/In3HiEEbmstR2sNpdTXPOcc1FrRWuMmfIyBGCOccwwaYyCEgJTyJ8bgvRdzTsboIcGlFN4E0isC/8EIfAHZ62GTKMX/UAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="check1" title="" src="/static/5fe722fb29c0611ac9f0b71981cc7170/c5bb3/check.png" srcset="/static/5fe722fb29c0611ac9f0b71981cc7170/04472/check.png 170w,
/static/5fe722fb29c0611ac9f0b71981cc7170/9f933/check.png 340w,
/static/5fe722fb29c0611ac9f0b71981cc7170/c5bb3/check.png 680w,
/static/5fe722fb29c0611ac9f0b71981cc7170/b12f7/check.png 1020w,
/static/5fe722fb29c0611ac9f0b71981cc7170/b5a09/check.png 1360w,
/static/5fe722fb29c0611ac9f0b71981cc7170/29007/check.png 1600w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<div class="image-title">Initial values of environment variables</div>
<h3 id="update-configmap" style="position:relative;"><a href="#update-configmap" aria-label="update configmap permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Update ConfigMap</h3>
<p>Once the deployment is created, make a change in the ConfigMap. You will notice a rolling upgrade has been triggered by the deployment, and new pods come up with updated values from the ConfigMap. ‚úíÔ∏è</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 31.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVR42pWQSQqFMBAFcx1HcIrGKagbZ8n9D/PkNfi3+hdF6E2lutWyLDjPE9M0wVqLvu+RpimyLEMQBPA8D77vC5zfUBSO44iu64S6rkWmtYYxBkVRoCxL5HmOMAzfheu64jgO7PsupZybphEBP2MxRW3bIo7j11I1z7MIn5X5DsMgpZRUVYUkSb4XbtsmQnJdl+Cc+4lZGEWR8OmGz/14L65KWMcb/iN6hDdlrsHJJQkzQwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="check2" title="" src="/static/90409b902d498953479302753ebd8438/c5bb3/check2.png" srcset="/static/90409b902d498953479302753ebd8438/04472/check2.png 170w,
/static/90409b902d498953479302753ebd8438/9f933/check2.png 340w,
/static/90409b902d498953479302753ebd8438/c5bb3/check2.png 680w,
/static/90409b902d498953479302753ebd8438/b12f7/check2.png 1020w,
/static/90409b902d498953479302753ebd8438/b5a09/check2.png 1360w,
/static/90409b902d498953479302753ebd8438/29007/check2.png 1600w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<div class="image-title">New pods came up after updating ConfigMap</div>
<h3 id="update-secret" style="position:relative;"><a href="#update-secret" aria-label="update secret permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Update Secret</h3>
<p>You can also make a change in the Secret. You will notice a rolling upgrade has been triggered by the deployment, and new pods come up with updated values from the Secret. üéâ</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVR42n2RVwqFUAxE3Y4Ve+8KKnb3v5d5TEC/9H0MIbnkZJKrLMuC4zgwTROKokDXdYiiCEEQIAxDmKYJVVWhadoTKV3XX6Vc14W6rlGWpahpGjiOA8MwkCSJgNM0heu6yPNchrDG91fgtm0YxxF0uq4rmFNZlkmz53nY912G+b4vjquq+gae5wmKTRTBjPM8y/p0xbzv++cUrH2ufLuiS2oYBrnnnXPdOI7FsW3bn84eIJ0Q0ratTCaAzTfk/hjLsgT270MI/AGOHsZVOjakZQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="check3" title="" src="/static/600bb9d11085b6514be175b53120ddbc/c5bb3/check3.png" srcset="/static/600bb9d11085b6514be175b53120ddbc/04472/check3.png 170w,
/static/600bb9d11085b6514be175b53120ddbc/9f933/check3.png 340w,
/static/600bb9d11085b6514be175b53120ddbc/c5bb3/check3.png 680w,
/static/600bb9d11085b6514be175b53120ddbc/b12f7/check3.png 1020w,
/static/600bb9d11085b6514be175b53120ddbc/b5a09/check3.png 1360w,
/static/600bb9d11085b6514be175b53120ddbc/29007/check3.png 1600w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<div class="image-title">New value of environment variables loaded in pod after updating secret</div>
<h2 id="-summary" style="position:relative;"><a href="#-summary" aria-label=" summary permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üîö Summary</h2>
<p>Reloader is a powerful tool that can help you automate rolling upgrades in Kubernetes. It monitors changes to ConfigMaps and Secrets, and then triggers rolling upgrades for associated pods. This eliminates the need for manual restarts or volume reattachments, and ensures that your applications are always up-to-date.</p>
<p>In this blog post, we discussed how to deploy Reloader using manifests and Helm, and how to use it to reload ConfigMaps and Secrets. We also explored a real-world use case where Reloader was used to automate rolling upgrades based on changes in associated ConfigMaps.</p>
<p>By leveraging Reloader's capabilities, you can enhance the reliability and efficiency of your Kubernetes deployments. When deploying Reloader, be sure to adapt the deployment method and configuration to your specific environment and requirements.</p>
<p>For more details, visit the <a href="https://github.com/stakater/Reloader" target="_blank" rel="noopener noreferrer">Reloader GitHub repository</a>.</p>
<br>
<p><strong><em>Until next time, „Å§„Å•„Åè üéâ</em></strong></p>
<blockquote>
<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>
</blockquote>
<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>
<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href="https://www.linkedin.com/in/rajhi-saif/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/rajhi-saif/</a></p>
<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href="https://x.com/rajhisaifeddine" target="_blank" rel="noopener noreferrer">https://x.com/rajhisaifeddine</a></p>
<p><strong>The end ‚úåüèª</strong></p>
<h1 align="center">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>
<p><strong>üìÖ Stay updated</strong></p>
<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p></div></div><div id="content-end"></div></article><div data-nosnippet="" class="social-share-wrapper"><h3>Share Your Love</h3><button keywords="" aria-label="Share Via Facebook" class="react-share__ShareButton social-share-item facebook" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"></path></svg></button><button keywords="" aria-label="Share Via Twitter" class="react-share__ShareButton social-share-item twitter" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></button><button aria-label="Share Via LinkedIn" keywords="" class="react-share__ShareButton social-share-item linkedin" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></button><button keywords="" aria-label="Share Via Reddit" class="react-share__ShareButton social-share-item reddit" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit" class="svg-inline--fa fa-reddit " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z"></path></svg></button><button keywords="" aria-label="Add to Pocket" class="react-share__ShareButton social-share-item pocket" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="get-pocket" class="svg-inline--fa fa-get-pocket " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"></path></svg></button></div><br/><br/><br/></main><aside class="blogpost-sidebar"><div data-nosnippet="" class="blog-navigation-wrapper"><h3>Read Other Posts</h3><nav class="blog-navigation"><div class="nav-links"><a rel="next" class="next-post" href="/blog/lazydocker-user-friendly-docker-management/">LazyDocker: The Docker Management, User-Friendly Tool That Will Save Your Time üê≥<!-- --> ‚Üí</a><a rel="prev" class="prev-post" href="/blog/chaos-engineering-kubernetes/">‚Üê <!-- -->Chaos Engineering on Kubernetes: A Beginner&#x27;s Guide: Revel In Chaos</a><a class="all-posts" href="/blog/">All Posts</a></div></nav></div></aside><footer data-nosnippet=""><div class="footer-wrapper"><div data-nosnippet="" class="social"><ul class="social-list"><li class="social-item social-linkedin"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="linkedin" href="https://www.linkedin.com/in/rajhi-saif/" title="Saifeddine Rajhi on LinkedIn" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg><span>LinkedIn</span></a></li><li class="social-item social-github"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="github" href="https://github.com/seifrajhi" title="Saifeddine Rajhi on Github" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span>GitHub</span></a></li><li class="social-item social-email"><a itemProp="email" eventCategory="social" eventAction="click" eventLabel="email" href="mailto:rajhiseif@gmail.com" title="Saifeddine Rajhi&#x27;s Email"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"></path></svg><span>Email</span></a></li><li class="social-item social-X/Twitter"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="X/Twitter" href="https://x.com/RajhiSaifeddine" title="Saifeddine Rajhi on X/X/Twitter" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg><span>X/Twitter</span></a></li><li class="social-item social-reddit"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="reddit" href="https://www.reddit.com/user/ScoreApprehensive992/" title="Saifeddine Rajhi on Reddit" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit-alien" class="svg-inline--fa fa-reddit-alien fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M373 138.6c-25.2 0-46.3-17.5-51.9-41l0 0c-30.6 4.3-54.2 30.7-54.2 62.4l0 .2c47.4 1.8 90.6 15.1 124.9 36.3c12.6-9.7 28.4-15.5 45.5-15.5c41.3 0 74.7 33.4 74.7 74.7c0 29.8-17.4 55.5-42.7 67.5c-2.4 86.8-97 156.6-213.2 156.6S45.5 410.1 43 323.4C17.6 311.5 0 285.7 0 255.7c0-41.3 33.4-74.7 74.7-74.7c17.2 0 33 5.8 45.7 15.6c34-21.1 76.8-34.4 123.7-36.4l0-.3c0-44.3 33.7-80.9 76.8-85.5C325.8 50.2 347.2 32 373 32c29.4 0 53.3 23.9 53.3 53.3s-23.9 53.3-53.3 53.3zM157.5 255.3c-20.9 0-38.9 20.8-40.2 47.9s17.1 38.1 38 38.1s36.6-9.8 37.8-36.9s-14.7-49.1-35.7-49.1zM395 303.1c-1.2-27.1-19.2-47.9-40.2-47.9s-36.9 22-35.7 49.1c1.2 27.1 16.9 36.9 37.8 36.9s39.3-11 38-38.1zm-60.1 70.8c1.5-3.6-1-7.7-4.9-8.1c-23-2.3-47.9-3.6-73.8-3.6s-50.8 1.3-73.8 3.6c-3.9 .4-6.4 4.5-4.9 8.1c12.9 30.8 43.3 52.4 78.7 52.4s65.8-21.6 78.7-52.4z"></path></svg><span>Reddit</span></a></li><li class="social-item social-stackoverflow"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://stackoverflow.com/users/21897244/saifeddine-rajhi" title="Saifeddine Rajhi on StackOverflow" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="stack-overflow" class="svg-inline--fa fa-stack-overflow fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"></path></svg><span>StackOverflow</span></a></li><li class="social-item social-Goodreads"><a rel="me" eventLabel="StackOverflow" href="https://www.goodreads.com/user/show/176103378-saifeddine" title="Saifeddine Rajhi on Goodreads" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="goodreads" class="svg-inline--fa fa-goodreads fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M299.9 191.2c5.1 37.3-4.7 79-35.9 100.7-22.3 15.5-52.8 14.1-70.8 5.7-37.1-17.3-49.5-58.6-46.8-97.2 4.3-60.9 40.9-87.9 75.3-87.5 46.9-.2 71.8 31.8 78.2 78.3zM448 88v336c0 30.9-25.1 56-56 56H56c-30.9 0-56-25.1-56-56V88c0-30.9 25.1-56 56-56h336c30.9 0 56 25.1 56 56zM330 313.2s-.1-34-.1-217.3h-29v40.3c-.8.3-1.2-.5-1.6-1.2-9.6-20.7-35.9-46.3-76-46-51.9.4-87.2 31.2-100.6 77.8-4.3 14.9-5.8 30.1-5.5 45.6 1.7 77.9 45.1 117.8 112.4 115.2 28.9-1.1 54.5-17 69-45.2.5-1 1.1-1.9 1.7-2.9.2.1.4.1.6.2.3 3.8.2 30.7.1 34.5-.2 14.8-2 29.5-7.2 43.5-7.8 21-22.3 34.7-44.5 39.5-17.8 3.9-35.6 3.8-53.2-1.2-21.5-6.1-36.5-19-41.1-41.8-.3-1.6-1.3-1.3-2.3-1.3h-26.8c.8 10.6 3.2 20.3 8.5 29.2 24.2 40.5 82.7 48.5 128.2 37.4 49.9-12.3 67.3-54.9 67.4-106.3z"></path></svg><span>Goodreads</span></a></li><li class="social-item social-osi"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://ossinsight.io/analyze/seifrajhi" title="Saifeddine Rajhi on OSSInsights" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="osi" class="svg-inline--fa fa-osi fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M8 266.44C10.3 130.64 105.4 34 221.8 18.34c138.8-18.6 255.6 75.8 278 201.1 21.3 118.8-44 230-151.6 274-9.3 3.8-14.4 1.7-18-7.7q-26.7-69.45-53.4-139c-3.1-8.1-1-13.2 7-16.8 24.2-11 39.3-29.4 43.3-55.8a71.47 71.47 0 0 0-64.5-82.2c-39-3.4-71.8 23.7-77.5 59.7-5.2 33 11.1 63.7 41.9 77.7 9.6 4.4 11.5 8.6 7.8 18.4q-26.85 69.9-53.7 139.9c-2.6 6.9-8.3 9.3-15.5 6.5-52.6-20.3-101.4-61-130.8-119-24.9-49.2-25.2-87.7-26.8-108.7zm20.9-1.9c.4 6.6.6 14.3 1.3 22.1 6.3 71.9 49.6 143.5 131 183.1 3.2 1.5 4.4.8 5.6-2.3q22.35-58.65 45-117.3c1.3-3.3.6-4.8-2.4-6.7-31.6-19.9-47.3-48.5-45.6-86 1-21.6 9.3-40.5 23.8-56.3 30-32.7 77-39.8 115.5-17.6a91.64 91.64 0 0 1 45.2 90.4c-3.6 30.6-19.3 53.9-45.7 69.8-2.7 1.6-3.5 2.9-2.3 6q22.8 58.8 45.2 117.7c1.2 3.1 2.4 3.8 5.6 2.3 35.5-16.6 65.2-40.3 88.1-72 34.8-48.2 49.1-101.9 42.3-161-13.7-117.5-119.4-214.8-255.5-198-106.1 13-195.3 102.5-197.1 225.8z"></path></svg><span>OSSInsights</span></a></li><li class="social-item social-devstats"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://devstats.cluster.fun/?user=seifrajhi" title="Saifeddine Rajhi on DevStats" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-line" class="svg-inline--fa fa-chart-line fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"></path></svg><span>DevStats</span></a></li><li class="social-item social-RSS"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="RSS" href="https://seifrajhi.github.io/rss.xml" title="Subscribe to my blog post" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg><span>RSS</span></a></li></ul></div><div class="copyright">Saifeddine Rajhi ¬© 1994 - <!-- -->2024<!-- --> <br/><a rel="license" href="https://creativecommons.org/licenses/by/4.0/" title="Content is published under CC BY 4.0 license">CC BY 4.0</a></div><div class="pgp"><a href="https://keybase.io/saifrajhi">0C3B BABB 8BC1 EA2B</a></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/reloader-configmap-secret/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-26cd7e4ffafe4b5866ba.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-88fb5c28d68e831e730a.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-83bdb4e48c18bf191297.js\"],\"component---src-pages-blog-js\":[\"/component---src-pages-blog-js-6c9f539d882b31737b03.js\"],\"component---src-pages-cv-platform-engineer-js\":[\"/component---src-pages-cv-platform-engineer-js-13625961a6abec0cbdf1.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-391336a56f413aaa34c1.js\"],\"component---src-pages-thoughts-js\":[\"/component---src-pages-thoughts-js-fe54f831bbb3f7f31564.js\"],\"component---src-templates-blog-template-js\":[\"/component---src-templates-blog-template-js-43b163172ed2ce4e492d.js\"],\"component---src-templates-thought-template-js\":[\"/component---src-templates-thought-template-js-7ddf4a0a920bf599f1a2.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="0ebd81c81e97d97f085d";</script><script src="/webpack-runtime-3d388d6978483882f4b9.js" async></script><script src="/framework-c989293af61a95023f7f.js" async></script><script src="/app-26cd7e4ffafe4b5866ba.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>