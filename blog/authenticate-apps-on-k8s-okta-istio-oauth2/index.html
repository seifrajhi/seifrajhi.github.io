<!DOCTYPE html><html lang="en" class="blogpost-view-page"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="description" property="og:description" content="How to secure your Kubernetes applications using Okta for OIDC, Istio for service mesh, and OAuth2-Proxy for authentication."/><meta data-react-helmet="true" name="keywords" content="Kubernetes,Okta OIDC,Istio,OAuth2-Proxy,Authentication"/><meta data-react-helmet="true" name="author" content="@RajhiSaifeddine"/><meta data-react-helmet="true" property="og:title" content="Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù - Blog"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@RajhiSaifeddine"/><meta data-react-helmet="true" name="twitter:title" content="Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù - Blog"/><meta data-react-helmet="true" name="twitter:description" content="How to secure your Kubernetes applications using Okta for OIDC, Istio for service mesh, and OAuth2-Proxy for authentication."/><meta data-react-helmet="true" name="image" property="og:image" content="https://seifrajhi.github.io/static/7dc7602024f5ae6dd91173a1ba768833/5b69c/oidc-cover.png"/><meta data-react-helmet="true" name="twitter:image" content="https://seifrajhi.github.io/static/7dc7602024f5ae6dd91173a1ba768833/5b69c/oidc-cover.png"/><meta data-react-helmet="true" property="og:url" content="https://seifrajhi.github.io/blog/authenticate-apps-on-k8s-okta-istio-oauth2/"/><meta name="theme-color" content="#ffffff"/><link rel="stylesheet" href="/styles.1fb1d6c770f30fe7f9a7.css"/><link rel="stylesheet"/><link rel="alternate" type="application/rss+xml" title="Saifeddine Rajhi&#x27;s Blog RSS Feed" href="/rss.xml"/><title data-react-helmet="true">Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù - Blog by Saifeddine Rajhi</title><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","image":"/static/7dc7602024f5ae6dd91173a1ba768833/5b69c/oidc-cover.png","headline":"Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù","dateCreated":"2024-10-24","datePublished":"2024-10-24","dateModified":"2024-10-24","inLanguage":"en-US","isFamilyFriendly":true,"isAccessibleForFree":true,"author":{"@type":"Person","name":"Saifeddine Rajhi","url":"https://seifrajhi.github.io"},"publisher":{"@type":"Organization","name":"Saifeddine Rajhi's Website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://seifrajhi.github.io/blog/authenticate-apps-on-k8s-okta-istio-oauth2/"},"keywords":["Kubernetes","Okta OIDC","Istio","OAuth2-Proxy","Authentication"],"genre":["Platform engineer","software engineering","science","deep learning","statistics"],"articleSection":"Technical Blog","articleBody":"\n> **Secure authentication and authorization for Kubernetes apps üëÆ‚Äç‚ôÄ**\n\n## üìë Introduction\n\nAuthenticating applications on Kubernetes can be a complex process, but integrating [Okta](https://www.okta.com/), [Istio](https://istio.io/), and [OAuth2-Proxy](https://github.com/oauth2-proxy/oauth2-proxy) provides a powerful solution.\n\nThis guide will walk you through the steps to establish a robust and secure authentication framework for your Kubernetes-based applications.\n\nFrom using Istio for [OpenID Connect (OIDC)](https://openid.net/) authentication to leveraging OAuth2-Proxy for seamless interaction with identity providers like Okta, this integration allows you to enforce user authentication and authorization with confidence.\n\n![OIDC](./oidc.png)\n\n## Workflow and Architecture Diagram\n\n![Workflow](./workflow.png)\n\n1. An employee tries to access an internal application (e.g., admin-service).\n2. The employee connects to the application URL, and the request is sent to the Istio service mesh inside our Kubernetes cluster.\n3. The request arrives via the [Istio Ingress Gateway](https://istio.io/latest/docs/tasks/traffic-management/ingress/ingress-control/).\n4. We have an Istio authorization policy that limits access to the admin service.\n5. The authorization policy points to the custom extension provider, OAuth2-Proxy. OAuth2-Proxy is set up to connect with our identity provider, Okta.\n6. When the user is authenticated successfully with our IdP, OAuth2-Proxy gets a JWT back and looks into the \"groups\" claim. This will be evaluated against any groups we have configured, let's say \"admins\". If the \"admins\" group is found in the JWT groups claim, OAuth2-Proxy puts the token into a cookie and sends it back to the requesting client‚Ää‚Äî‚Ääour user.\n7. The employee's request is redirected to Okta for login. On successful authentication, it passes through the Istio authorization policy and connects with the admin service.\n8. The user will now be forwarded to the actual application. If the application supports it (e.g., [Grafana](https://grafana.com/)), we can configure the application to look into the headers we inject with OAuth2-Proxy. This allows us to set, for example, the `preferred_username` or `email` attributes in the application - info we get from the ID token claims.\n\n![States](./states.png)\n\n### Technologies Used\n\n- AWS EKS Kubernetes\n- Istio\n- OAuth2-Proxy\n- Helm\n- Okta\n- [Grafana](https://grafana.com/)\n\n## Setup Okta Application for OAuth2-Proxy\n\nThis Okta application will allow for access management to your application.\n\n![okta-app](./okta-app.png)\n\n![app-settings](./app-settings.png)\n\nBe sure to include the URL of your internal application as the sign-in redirect URI in Okta. This allows Okta to redirect to your internal app after authenticating an employee.\n\nYou can also add other internal app URLs to this application. However, be aware that any Okta users or groups added to this Okta application will be able to access every internal application URL listed.\n\nIf you need to control access to an application for specific groups, such as allowing only the finance team to access an application, you will need to create a separate OAuth2-Proxy app in Okta for each application you want to customize access to.\n\n### Deploy OAuth2-Proxy to Kubernetes\n\nOAuth2-Proxy is an open-source software handling the authentication flow needed for OAuth2 or in this case OIDC. This will handle the authentication flow and pass the needed token back to the application.\n\nInstall by replacing `oauth2-proxy-values.yaml` with your value then apply with:\n\n```shell\nhelm repo add oauth2-proxy https://oauth2-proxy.github.io/manifests\nhelm repo update\nhelm install --values oauth2-proxy-values.yaml oauth2-proxy oauth2-proxy/oauth2-proxy\n```\n\nWhere `oauth2-proxy-values.yaml`:\n\n```shell\nconfig:\n  clientID: xx\n  clientSecret: xx\n  cookieSecret: xx\n  configFile: false\n\nextraArgs:\n  provider: oidc\n  cookie-secure: true\n  cookie-samesite: lax\n  cookie-refresh: 1h\n  cookie-expire: 4h\n  cookie-name: _oauth2_proxy_istio_ingressgateway\n  set-authorization-header: true\n  email-domain: \"*\"\n  http-address: 0.0.0.0:4180\n  upstream: static://200\n  skip-provider-button: true\n  oidc-issuer-url: {{ .Values | get \"charts.oauth2-proxy.issuer\" \"https://your-okta.com\" }}\nservice:\n  portNumber: 4180\n\nserviceAccount:\n  enabled: false\n\nresources:\n  limits:\n    cpu: 100m\n    memory: 300Mi\n  requests:\n    cpu: 100m\n    memory: 300Mi\n\nlivenessProbe:\n  enabled: true\n  initialDelaySeconds: 0\n  timeoutSeconds: 1\n\nreadinessProbe:\n  enabled: true\n  initialDelaySeconds: 0\n  timeoutSeconds: 1\n  periodSeconds: 10\n  successThreshold: 1\n\nmetrics:\n  # Enable Prometheus metrics endpoint\n  enabled: false\n\nreplicaCount: 2\n\npodDisruptionBudget:\n  enabled: true\n  minAvailable: 1\n\ntopologySpreadConstraints:\n  - maxSkew: 1\n    topologyKey: topology.kubernetes.io/zone\n    whenUnsatisfiable: ScheduleAnyway\n    labelSelector:\n      matchLabels:\n        app.kubernetes.io/instance: {{ .Release.Name }}\n```\n\n### Add OAuth2-Proxy as an Extension Provider in Istio\n\nInside your Istio mesh config, you will need to add an [extension provider](https://istio.io/latest/docs/tasks/security/authorization/authz-custom/#define-the-external-authorizer). This will reference the OAuth2-Proxy deployment and will allow us to use OAuth2-Proxy as a CUSTOM action in our Istio Authorization Policy.\n\n```yaml\nmeshConfig:\n  extensionProviders:\n  - name: oauth2-proxy\n    envoyExtAuthzHttp:\n      service: oauth2-proxy.oauth2-proxy.svc.cluster.local\n      port: 4180\n      headersToDownstreamOnDeny:\n      - content-type\n      - set-cookie\n      headersToUpstreamOnAllow:\n      - authorization\n      - path\n      - x-auth-request-user\n      - x-auth-request-email\n      - x-auth-request-access-token\n      includeHeadersInCheck:\n      - authorization\n      - cookie\n  defaultConfig:\n    terminationDrainDuration: 310s\n```\n\nThis config is creating a new provider with the name `oauth2-proxy`. This can later be used in the authorization-policy to route requests through the OAuth2-Proxy. The rest of this config is basically what headers to include to make sure the correct tokens are passed along.\n\n### üõ°Ô∏è Add Istio Authorization Policy\n\nFinally, apply the authorization policy to tell Istio what requests should be routed through the OAuth2-Proxy. This CUSTOM authorization policy allows us to restrict access to the host specified and authenticate via Okta and the OAuth2-Proxy. See the [Istio reference document](https://istio.io/latest/docs/tasks/security/authorization/authz-custom/) for more info.\n\n```yaml\napiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: oauth-policy\n  namespace: istio-system\nspec:\n  selector:\n    matchLabels:\n      istio: ingressgateway\n  action: CUSTOM\n  provider:\n    name: \"oauth2-proxy\"\n  rules:\n  - to:\n    - operation:\n        hosts:\n          - <INTERNAL APPLICATION HOST>\n```\n\nThe most important part of this config is the provider name which has to match the provider created in the `meshConfig` part of the `istio-controlplane.yaml` and the hosts list which is the host names that the policy applies to.\n\nApply by replacing `<INTERNAL APPLICATION HOST>` with your app URL in `authorization-policy.yaml` then run:\n\n```shell\nkubectl apply -f authorization-policy.yaml\n```\n\n### üîê Authentication and Authorization\n\nIf you have made it this far, you have probably heard of authentication vs authorization before. I just want to make it clear that this use case of Istio is only used for authentication. Istio will route to the authentication service and if a valid token is presented, it will pass you on to the application. This provides some security for all the applications, but the application will still have to be responsible for authorization and any form of RBAC.\n\n## üñã Final Notes\n\nThis blog post aims to provide a clear understanding of how to use Istio and OAuth2-Proxy for authentication in Kubernetes applications. By following the steps outlined in the guide, you can ensure that your applications are secure and that user authentication and authorization are enforced with confidence.\n\nThe integration of Okta, Istio, and OAuth2-Proxy allows you to leverage the power of these tools to create a robust and secure authentication framework for your Kubernetes-based applications.\n\n**References:**\n\n- [Istio: External Authorization](https://istio.io/latest/docs/tasks/security/authorization/authz-custom/)\n- [Welcome to OAuth2 Proxy | OAuth2 Proxy](https://oauth2-proxy.github.io/oauth2-proxy/)\n- [Deep Dive Auth Policies - Lawrence Gadban](https://events.istio.io/istiocon-2021/slides/d8p-DeepDiveAuthPolicies-LawrenceGadban.pdf)\n- [Alpha Configuration | OAuth2 Proxy](https://oauth2-proxy.github.io/oauth2-proxy/configuration/alpha-config)\n- [OpenId Connect Scopes](https://developers.onelogin.com/openid-connect/scopes)\n- [SaaS Identity and Routing with Istio Service Mesh and Amazon EKS | Amazon Web Services](https://aws.amazon.com/blogs/apn/saas-identity-and-routing-with-istio-service-mesh-and-amazon-eks/)\n- [Istio OIDC Authentication | Jetstack Blog](https://venafi.com/blog/istio-oidc/)\n- [Istio and OAuth2-Proxy in Kubernetes for Microservice Authentication](https://elastisys.com/istio-and-oauth2-proxy-in-kubernetes-for-microservice-authentication/)\n- Alternative to OAuth2-Proxy: [Authservice](https://github.com/istio-ecosystem/authservice)\n- Alternative to OAuth2-Proxy: [Open Policy Agent](http://openpolicyagent.org)\n\n**_Until next time, „Å§„Å•„Åè üéâüáµüá∏_**\n\n<br><br>\n\n> üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  **_Until next time üéâ_**\n\nüöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:\n\n**‚ôªÔ∏è LinkedIn:** https://www.linkedin.com/in/rajhi-saif/\n\n**‚ôªÔ∏è X/Twitter:** https://x.com/rajhisaifeddine\n\n**The end ‚úåüèª**\n\n<h1 align=\"center\">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>\n\n**üìÖ Stay updated**\n\nSubscribe to our newsletter for more insights on AWS cloud computing and containers.\n","wordcount":950}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://seifrajhi.github.io/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://seifrajhi.github.io/blog/"},{"@type":"ListItem","position":3,"name":"Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù","item":"https://seifrajhi.github.io/blog/authenticate-apps-on-k8s-okta-istio-oauth2/"}]}</script><link crossorigin="" href="https://utteranc.es" rel="preconnect"/><link crossorigin="" href="https://www.google-analytics.com" rel="preconnect"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=47ae28bb567c9025f1fee24afb2d20c9" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=47ae28bb567c9025f1fee24afb2d20c9"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2"/><style>@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup8.woff2) format("woff2")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:400;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7BMSo3Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Dancing Script;font-style:normal;font-weight:700;src:url(/static/webfonts/s/dancingscript/v25/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup6.woff) format("woff")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMrx.woff2) format("woff2")}@font-face{font-display:swap;font-family:Ledger;font-style:normal;font-weight:400;src:url(/static/webfonts/s/ledger/v16/j8_q6-HK1L3if_sBnMr3.woff) format("woff")}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-LLPCCGNLH7', 'auto', {"alwaysSendReferrer":true});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LLPCCGNLH7"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LLPCCGNLH7',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-LLPCCGNLH7', {"anonymize_ip":true,"send_page_view":false});gtag('config', 'GTM-5V895PDS', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><link rel="stylesheet"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://seifrajhi.github.io/blog/authenticate-apps-on-k8s-okta-istio-oauth2/" data-baseprotocol="https:" data-basehost="seifrajhi.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="blogpost-header"><div class="view-page-header"><div class="view-page-header-wrapper"><div class="logo-wrapper"><div class="logo"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained logo-img"><div style="max-width:150px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;174&#x27;%20width=&#x27;150&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" data-src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" data-srcset="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture><noscript><picture><source type="image/avif" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/2e0ee/saifeddine-rajhi.avif 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/81dba/saifeddine-rajhi.avif 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/20c67/saifeddine-rajhi.avif 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/94b9f/saifeddine-rajhi.avif 300w" sizes="(min-width: 150px) 150px, 100vw"/><source type="image/webp" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/92aab/saifeddine-rajhi.webp 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/359cc/saifeddine-rajhi.webp 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/aac41/saifeddine-rajhi.webp 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/a15c6/saifeddine-rajhi.webp 300w" sizes="(min-width: 150px) 150px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 150px) 150px, 100vw" decoding="async" loading="lazy" src="/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png" srcSet="/static/a1a51351bdf7de55eaaa515eb15ce2da/9c61d/saifeddine-rajhi.png 38w,/static/a1a51351bdf7de55eaaa515eb15ce2da/d405f/saifeddine-rajhi.png 75w,/static/a1a51351bdf7de55eaaa515eb15ce2da/885b3/saifeddine-rajhi.png 150w,/static/a1a51351bdf7de55eaaa515eb15ce2da/4aeea/saifeddine-rajhi.png 300w" alt="Saifeddine Rajhi"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><div class="name"><a href="/blog/" title="back to blog">Saifeddine <br/> Rajhi</a></div></div><h2 class="blog-title"><a href="/blog/" title="back to the homepage">Blog</a></h2></div></div><nav class="main-navigation"><ul><li><a rel="home" title="Go Home" href="/">Home</a></li><li><a title="Go to my Technical Blog" href="/blog/">Blog</a></li><li><a title="Go to my Thoughts" href="/thoughts/">Thoughts</a></li><li><a title="My public talks" href="/talks/">talks</a></li><li><a title="Review My Resume" href="/cv/platform-engineer/">cv</a></li></ul></nav></div><main><article class="blog-wrapper"><header><figure class="cover"><div class="cover-filter"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper cover cover-image"><div aria-hidden="true" style="padding-top:53.812224322621304%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;object-fit:fill;object-position:center" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuUlEQVR42kWTy27bRhSG9Vh9jfYNuumyqwDZuejCQIsEgYF0kSwStEWKpkGcVG2aykYs2JKdmLarxLEkS5R1oS4URZHiRbxT0teTbjrAwcwAc775559zCvcOVR4pGk8/jPm9PmWvbVLt2VyMHBqGR88KmHoxXpSSZDlplpBlAWnqkqU2y6WOtehh2R18T6Vw96DF4/MhvwmwKMD99oxKdy5Am8bURbMF6IY4YUyYJBIhfugRRgsBOxiWRqNXR9WuMMwGhV/PO7yo3VBszChdG1R6FjXdp274NI0lDVnbYUq6WrPerICc0tmAZbDAd4ZEwQjXVsmTMXFwQ+Fl9ZRi9YRH++c8eaNw2NQ4aM3YLra59Uud7/5Q2SnJhRc6n4ZmLPh8q0yl1uHnH3/gzp1tvtm6zU+Pd0jCLoW/RNVeU6dcH1Np6XwUZRdDh92LCX++n3KiWhzUZ5x2LMFteCvnbj9UqF72sfU6k56C1jvh5roqCsXDo67NsQBeTia8MnQU02HgxPj5hmwjiM2G/0fGKg+JEl/WHqMw4OFZxPGZKfsp0bJNQRkueDbro1hzqrMx388VTn2LZmfIldrFtB0mus5QGxCKbxCR557MFl/vhdx/Y/Lt/T71Tk/ua1E4Nkx2pk2+Gil80S3zWafI86VG+bDKi2KRSuWIUulvisVdprokEZPL734CPvgn4svnKdv7S3zJyaJrCrXFnKd9i63diFeXGSctKLsm3f6AwWBIr9vFdez/nrtZB7ASdesFaTRhOHjPk6rKu6tLwsUH8VCAuhujBFLMpoUW+Vyv5vQlaZOviMQjz7WII1fMjAQksJWoW1tSJhMa9be8O9qldvYafXROEkgdml7EfBnTDqSQA4tB5EkXZMRpLJ0RSWcEJIlHHNsSc4EbEhOSeESaDBmPL1l6LfJUJfQ+8i8fVhbuTD3ILgAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/7dc7602024f5ae6dd91173a1ba768833/47593/oidc-cover.webp 750w,/static/7dc7602024f5ae6dd91173a1ba768833/705ed/oidc-cover.webp 1080w,/static/7dc7602024f5ae6dd91173a1ba768833/1bffb/oidc-cover.webp 1366w,/static/7dc7602024f5ae6dd91173a1ba768833/df222/oidc-cover.webp 1587w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:fill;object-position:center;opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/7dc7602024f5ae6dd91173a1ba768833/5b69c/oidc-cover.png" data-srcset="/static/7dc7602024f5ae6dd91173a1ba768833/b95c0/oidc-cover.png 750w,/static/7dc7602024f5ae6dd91173a1ba768833/db1e8/oidc-cover.png 1080w,/static/7dc7602024f5ae6dd91173a1ba768833/aa4a0/oidc-cover.png 1366w,/static/7dc7602024f5ae6dd91173a1ba768833/5b69c/oidc-cover.png 1587w" alt="Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù"/></picture><noscript><picture><source type="image/webp" srcSet="/static/7dc7602024f5ae6dd91173a1ba768833/47593/oidc-cover.webp 750w,/static/7dc7602024f5ae6dd91173a1ba768833/705ed/oidc-cover.webp 1080w,/static/7dc7602024f5ae6dd91173a1ba768833/1bffb/oidc-cover.webp 1366w,/static/7dc7602024f5ae6dd91173a1ba768833/df222/oidc-cover.webp 1587w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="object-fit:fill;object-position:center;opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/7dc7602024f5ae6dd91173a1ba768833/5b69c/oidc-cover.png" srcSet="/static/7dc7602024f5ae6dd91173a1ba768833/b95c0/oidc-cover.png 750w,/static/7dc7602024f5ae6dd91173a1ba768833/db1e8/oidc-cover.png 1080w,/static/7dc7602024f5ae6dd91173a1ba768833/aa4a0/oidc-cover.png 1366w,/static/7dc7602024f5ae6dd91173a1ba768833/5b69c/oidc-cover.png 1587w" alt="Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><figcaption data-nosnippet="" class="image-title">Photo by Saifeddine Rajhi</figcaption></figure><h1>Authenticate applications on Kubernetes: Okta(OIDC), Istio, and OAuth2-Proxy integration. üîù</h1><div data-nosnippet="" class="blog-details"><time class="blog-createdat" dateTime="2024-10-24">Oct 24, 2024</time><span> ‚Ä¢ </span><span class="blog-time2read">5<!-- -->mins<!-- --> read</span><div class="theme-switcher"><div class="theme-switcher-toggler"><div class="theme-switcher-track"></div><div class="theme-switcher-thumb"></div><input class="theme-switcher-input" type="checkbox" readonly="" aria-label="Switch between Dark and Light modes"/></div></div></div><ul data-nosnippet="" class="blog-tags"><li>Kubernetes</li><li>Okta OIDC</li><li>Istio</li><li>OAuth2-Proxy</li><li>Authentication</li></ul></header><div class="blog-divider"></div><div id="intro"></div><div class="content-wrapper"><div data-nosnippet="" class="blog-content-nav-wrapper"><ul class="blog-content-nav"><h2>Content</h2><ul class="toc-list"></ul></ul></div><div class="content blog-content"><blockquote>
<p><strong>Secure authentication and authorization for Kubernetes apps üëÆ‚Äç‚ôÄ</strong></p>
</blockquote>
<h2 id="-introduction" style="position:relative;"><a href="#-introduction" aria-label=" introduction permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üìë Introduction</h2>
<p>Authenticating applications on Kubernetes can be a complex process, but integrating <a href="https://www.okta.com/" target="_blank" rel="noopener noreferrer">Okta</a>, <a href="https://istio.io/" target="_blank" rel="noopener noreferrer">Istio</a>, and <a href="https://github.com/oauth2-proxy/oauth2-proxy" target="_blank" rel="noopener noreferrer">OAuth2-Proxy</a> provides a powerful solution.</p>
<p>This guide will walk you through the steps to establish a robust and secure authentication framework for your Kubernetes-based applications.</p>
<p>From using Istio for <a href="https://openid.net/" target="_blank" rel="noopener noreferrer">OpenID Connect (OIDC)</a> authentication to leveraging OAuth2-Proxy for seamless interaction with identity providers like Okta, this integration allows you to enforce user authentication and authorization with confidence.</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 71.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAklEQVR42oWSzW7TQBDH/Ua8BA/AI/AIHLj0jFB5gF6Q4ITKBakXhJpDFZWiQtQCTUCQlDYyUfyR2nETO7b3w/b+2V1/1JSEjjTa1X9nfzszOwaUCVEuLEa0+wCLnXugl10UUss4Q1EUWC6XmM/nCIJAr3Ecaz3P88aF5BglrwQWLIHz/CEm2/exGn5AJjVGiQ72fR+macKyLNi2raFZloFSCsYYOOd6r4GtJEEDF7FjQmQM/7OiENrbpsCG0tJcBlRnKht1UJt6mRDSeJoSiJzhbOjioDfG0fsuTk5PdazK2OAS1vklcOaWxFyKTKZeGyEUuexVAaFbU2c1Muf4+tOFPZ3C8/zmcWO4ENg6Ap7upyCpyiBFFEU6S9UTpZVg0jRf7TmnoIzomHY1xrELPPvM0emHa0uOBcfHzMUomsGfXSG4DrTuhg72Dvfwen8Xg0n/BsjlZXvqgFeQ28AJSfDit4NPgY2L4TmuPE/ry2SB7+NvGFz2YQXTG6BqierKpk9RvZMThiRNmvHaZBrYHpl6Jssecf1rCs4Yxype6X7VOs94dVbO4D9zeNvUJeVlVgJhGDYar9a2q8qUbQTW5f248DAYzTQ0L8SdZRvrYdUM0gyPtzt49OQd3nbPsfOqh5dvvsCahX89eiewHXzYM3FwPMZ1mMJyQwmLkBBexqzJ8A+QMzYNgoFPeAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="OIDC" title="" src="/static/96f4c0b9876573c4b6b927a49ec2ce44/c5bb3/oidc.png" srcset="/static/96f4c0b9876573c4b6b927a49ec2ce44/04472/oidc.png 170w,
/static/96f4c0b9876573c4b6b927a49ec2ce44/9f933/oidc.png 340w,
/static/96f4c0b9876573c4b6b927a49ec2ce44/c5bb3/oidc.png 680w,
/static/96f4c0b9876573c4b6b927a49ec2ce44/d0cc0/oidc.png 732w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<h2 id="workflow-and-architecture-diagram" style="position:relative;"><a href="#workflow-and-architecture-diagram" aria-label="workflow and architecture diagram permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Workflow and Architecture Diagram</h2>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABm0lEQVR42o1Sy3KjMBD0/9f+QK573l/JKS5wrV3GwUkw4iWEJJAQ6h1p144fSdVO1YAQUk93z6xwFd57zPMc87y21sZclgX34fEYqzNQCCkltrsdNkmCtq7R9wI7+j4ej9Ba3xT2/yC9Xy73L4DXBx2xKgTHvm/BygIVAYdCxpiY4ziia2oIIbD94DiUnBSYrwEjKEnTxoJPEziXBDChLBnSNMXLeo0sO0AOEkqPeK8VikZGa24Ar/1xtGx7jcU52DmwBmbaVHLEIDSxcZiDknAnvOnf7O4kGzNRRQUuO+hqQLFm+PH0jPR3CcZK6NGiahny0yu01FBbhqwYkWQVJNlj509Cq+DbMAzRB+MMxEeL06bEz18bbPcNqopFBi1vkBevUL1CkxwJXONwEpi0pLvLLUNH8qJ0om/Jj2l2UaqxHobWQaYQirouEZRaeiwxfSzmFjw2JTBt2xbZPqMGbPD29o6m4cjzHEmSxmYopT7Hxv/1934eH7tMp8J4dCStqht0XXcZ9Ot5+y5WX20GOaeqj+PCGPsvoDPgH2UNVuaNM6l8AAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Workflow" title="" src="/static/73cc4e8079a0f7f1382ba4c99b5d4357/c5bb3/workflow.png" srcset="/static/73cc4e8079a0f7f1382ba4c99b5d4357/04472/workflow.png 170w,
/static/73cc4e8079a0f7f1382ba4c99b5d4357/9f933/workflow.png 340w,
/static/73cc4e8079a0f7f1382ba4c99b5d4357/c5bb3/workflow.png 680w,
/static/73cc4e8079a0f7f1382ba4c99b5d4357/b12f7/workflow.png 1020w,
/static/73cc4e8079a0f7f1382ba4c99b5d4357/d8817/workflow.png 1238w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<ol>
<li>An employee tries to access an internal application (e.g., admin-service).</li>
<li>The employee connects to the application URL, and the request is sent to the Istio service mesh inside our Kubernetes cluster.</li>
<li>The request arrives via the <a href="https://istio.io/latest/docs/tasks/traffic-management/ingress/ingress-control/" target="_blank" rel="noopener noreferrer">Istio Ingress Gateway</a>.</li>
<li>We have an Istio authorization policy that limits access to the admin service.</li>
<li>The authorization policy points to the custom extension provider, OAuth2-Proxy. OAuth2-Proxy is set up to connect with our identity provider, Okta.</li>
<li>When the user is authenticated successfully with our IdP, OAuth2-Proxy gets a JWT back and looks into the "groups" claim. This will be evaluated against any groups we have configured, let's say "admins". If the "admins" group is found in the JWT groups claim, OAuth2-Proxy puts the token into a cookie and sends it back to the requesting client‚Ää‚Äî‚Ääour user.</li>
<li>The employee's request is redirected to Okta for login. On successful authentication, it passes through the Istio authorization policy and connects with the admin service.</li>
<li>The user will now be forwarded to the actual application. If the application supports it (e.g., <a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana</a>), we can configure the application to look into the headers we inject with OAuth2-Proxy. This allows us to set, for example, the <code class="language-text">preferred_username</code> or <code class="language-text">email</code> attributes in the application - info we get from the ID token claims.</li>
</ol>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 63.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdklEQVR42nWS627CMAyFef/34x8ImEaB3tI0bXMP+5psFWibVVmJ6+Nz7Hgn+uBcijHEGJVav+e7KeXb1sQcHqVrGmNMqmttbdoZE5fF1HU9jsqYYO2aRSHnXAiBs3ORnFLI+8SZQkavfpdS2kgIUFYIcT6f9/v98Xjsum5ZFu/9llPyi9+hVykFQEpprfM+hBg4N02Dh5/IK0GKL2Bn3ZiN1HmeSR2GAeTj8aAitIinqP2x0ss32GjTZgMgxFDypmlCMFVg3gCF9o35VdIz0fZ6JRsVIPlLX/BXVXW5XPq+j69g7zw93+/30+l0u90gJANPI8jWmrEmChHkSvANzHzQ/JGN1wp5YEglD0Lmj4oCeJt2/Ed2eWTmBy1/h0EiRI7yT/B6L8adISFkE8/Mr9dPVGT+dVybX8GsAG8ZsnGeZ6v10mRj7ZjF4XCqqoZGvHfTpKVctKYpvW6YEKHsD8Qs9vRrt5c5DsKX5iblRWetSV1LtfQFfb7y/E97Ij0AAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="States" title="" src="/static/abc397bd0035b68786a7ed9ee85730e0/c5bb3/states.png" srcset="/static/abc397bd0035b68786a7ed9ee85730e0/04472/states.png 170w,
/static/abc397bd0035b68786a7ed9ee85730e0/9f933/states.png 340w,
/static/abc397bd0035b68786a7ed9ee85730e0/c5bb3/states.png 680w,
/static/abc397bd0035b68786a7ed9ee85730e0/72aae/states.png 964w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<h3 id="technologies-used" style="position:relative;"><a href="#technologies-used" aria-label="technologies used permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Technologies Used</h3>
<ul>
<li>AWS EKS Kubernetes</li>
<li>Istio</li>
<li>OAuth2-Proxy</li>
<li>Helm</li>
<li>Okta</li>
<li><a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana</a></li>
</ul>
<h2 id="setup-okta-application-for-oauth2-proxy" style="position:relative;"><a href="#setup-okta-application-for-oauth2-proxy" aria-label="setup okta application for oauth2 proxy permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Setup Okta Application for OAuth2-Proxy</h2>
<p>This Okta application will allow for access management to your application.</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 30.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVR42nWRbYvDIBCE8/9/Y/uhF8jRpDZe1FXXl7ndHKXtlQwsgg6PzjhM04RxHNFaQ+/9Y1JK8CEgxoicGcyMWqus5W30TP3Duq4gIqge0FcVMSeBqYcogATOOeNIg7UW27YdArk3LOQRPOF0nnD+uuB7uYn3AGjMHcvNQDG1fgKJEuwmwEBwXuLLaz1FWOskZoZzDt77vYa/F/5EXGeLxECUJLX9B7L0xyhFe0p7fAVpBY9Vp9ayJxy07Hme5abnLa/SPe3ZGLN/0JG4dPF2/AL2vdYBEuM0OQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="okta-app" title="" src="/static/c3160ec5d169f1db1695c053e89fbb6d/c5bb3/okta-app.png" srcset="/static/c3160ec5d169f1db1695c053e89fbb6d/04472/okta-app.png 170w,
/static/c3160ec5d169f1db1695c053e89fbb6d/9f933/okta-app.png 340w,
/static/c3160ec5d169f1db1695c053e89fbb6d/c5bb3/okta-app.png 680w,
/static/c3160ec5d169f1db1695c053e89fbb6d/b12f7/okta-app.png 1020w,
/static/c3160ec5d169f1db1695c053e89fbb6d/b5a09/okta-app.png 1360w,
/static/c3160ec5d169f1db1695c053e89fbb6d/2cefc/okta-app.png 1400w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVR42p2UiXKDMAxE/f8/mU6OgYQrYGwug5Ln1CklTErKjIAR8kparVB1XUsURXI+n+V4PEpZlvLpNY4ieemk6ydRxhiJ41gul4sHrarqY8BpEqnNKIObAVKl1vo7YJL/Xspa6ysDNE3TlwqHYfA04O+67plwzcZ774obhzDnnHcuAYuikOv1KiTnO3Ehdmm+QvjLsuzXQELb+j40c4/Z3HLbtr4CgNe447vWlRhjBb6Jw0L7L4B933t+mqZZDbC2lSguJElQwUMJeZ77RKuAWzSWFbWcTic5HA6eHnhdG84T8C+ZWGtkt/vy1SVJ4g1gVBF80AaO2kI0nO33e3+Qwb0rQP209hj7mr6QCFzDGzaXyTJWscvwE7KuAb5fuwVg0CFrBzhGRfPKUQB+YsI7hoyWi6DQUwhGPjzngEyULUH4YTV5Rzo8SeAcmzZJP2wYCgnpgIEAwFQDOD5+KlmWim2cVHqUG4Jn5erocHhhAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="app-settings" title="" src="/static/05b1c4f7527e2e525028b7b8d31163b7/c5bb3/app-settings.png" srcset="/static/05b1c4f7527e2e525028b7b8d31163b7/04472/app-settings.png 170w,
/static/05b1c4f7527e2e525028b7b8d31163b7/9f933/app-settings.png 340w,
/static/05b1c4f7527e2e525028b7b8d31163b7/c5bb3/app-settings.png 680w,
/static/05b1c4f7527e2e525028b7b8d31163b7/b12f7/app-settings.png 1020w,
/static/05b1c4f7527e2e525028b7b8d31163b7/b5a09/app-settings.png 1360w,
/static/05b1c4f7527e2e525028b7b8d31163b7/2cefc/app-settings.png 1400w" sizes="(max-width: 680px) 100vw, 680px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
          </p>
<p>Be sure to include the URL of your internal application as the sign-in redirect URI in Okta. This allows Okta to redirect to your internal app after authenticating an employee.</p>
<p>You can also add other internal app URLs to this application. However, be aware that any Okta users or groups added to this Okta application will be able to access every internal application URL listed.</p>
<p>If you need to control access to an application for specific groups, such as allowing only the finance team to access an application, you will need to create a separate OAuth2-Proxy app in Okta for each application you want to customize access to.</p>
<h3 id="deploy-oauth2-proxy-to-kubernetes" style="position:relative;"><a href="#deploy-oauth2-proxy-to-kubernetes" aria-label="deploy oauth2 proxy to kubernetes permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Deploy OAuth2-Proxy to Kubernetes</h3>
<p>OAuth2-Proxy is an open-source software handling the authentication flow needed for OAuth2 or in this case OIDC. This will handle the authentication flow and pass the needed token back to the application.</p>
<p>Install by replacing <code class="language-text">oauth2-proxy-values.yaml</code> with your value then apply with:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">helm repo <span class="token function">add</span> oauth2-proxy https://oauth2-proxy.github.io/manifests
helm repo update
helm <span class="token function">install</span> <span class="token parameter variable">--values</span> oauth2-proxy-values.yaml oauth2-proxy oauth2-proxy/oauth2-proxy</code></pre></div>
<p>Where <code class="language-text">oauth2-proxy-values.yaml</code>:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">config:
  clientID: xx
  clientSecret: xx
  cookieSecret: xx
  configFile: <span class="token boolean">false</span>

extraArgs:
  provider: oidc
  cookie-secure: <span class="token boolean">true</span>
  cookie-samesite: lax
  cookie-refresh: 1h
  cookie-expire: 4h
  cookie-name: _oauth2_proxy_istio_ingressgateway
  set-authorization-header: <span class="token boolean">true</span>
  email-domain: <span class="token string">"*"</span>
  http-address: <span class="token number">0.0</span>.0.0:4180
  upstream: static://200
  skip-provider-button: <span class="token boolean">true</span>
  oidc-issuer-url: <span class="token punctuation">{</span><span class="token punctuation">{</span> .Values <span class="token operator">|</span> get <span class="token string">"charts.oauth2-proxy.issuer"</span> <span class="token string">"https://your-okta.com"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
service:
  portNumber: <span class="token number">4180</span>

serviceAccount:
  enabled: <span class="token boolean">false</span>

resources:
  limits:
    cpu: 100m
    memory: 300Mi
  requests:
    cpu: 100m
    memory: 300Mi

livenessProbe:
  enabled: <span class="token boolean">true</span>
  initialDelaySeconds: <span class="token number">0</span>
  timeoutSeconds: <span class="token number">1</span>

readinessProbe:
  enabled: <span class="token boolean">true</span>
  initialDelaySeconds: <span class="token number">0</span>
  timeoutSeconds: <span class="token number">1</span>
  periodSeconds: <span class="token number">10</span>
  successThreshold: <span class="token number">1</span>

metrics:
  <span class="token comment"># Enable Prometheus metrics endpoint</span>
  enabled: <span class="token boolean">false</span>

replicaCount: <span class="token number">2</span>

podDisruptionBudget:
  enabled: <span class="token boolean">true</span>
  minAvailable: <span class="token number">1</span>

topologySpreadConstraints:
  - maxSkew: <span class="token number">1</span>
    topologyKey: topology.kubernetes.io/zone
    whenUnsatisfiable: ScheduleAnyway
    labelSelector:
      matchLabels:
        app.kubernetes.io/instance: <span class="token punctuation">{</span><span class="token punctuation">{</span> .Release.Name <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<h3 id="add-oauth2-proxy-as-an-extension-provider-in-istio" style="position:relative;"><a href="#add-oauth2-proxy-as-an-extension-provider-in-istio" aria-label="add oauth2 proxy as an extension provider in istio permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Add OAuth2-Proxy as an Extension Provider in Istio</h3>
<p>Inside your Istio mesh config, you will need to add an <a href="https://istio.io/latest/docs/tasks/security/authorization/authz-custom/#define-the-external-authorizer" target="_blank" rel="noopener noreferrer">extension provider</a>. This will reference the OAuth2-Proxy deployment and will allow us to use OAuth2-Proxy as a CUSTOM action in our Istio Authorization Policy.</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">meshConfig</span><span class="token punctuation">:</span>
  <span class="token key atrule">extensionProviders</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> oauth2<span class="token punctuation">-</span>proxy
    <span class="token key atrule">envoyExtAuthzHttp</span><span class="token punctuation">:</span>
      <span class="token key atrule">service</span><span class="token punctuation">:</span> oauth2<span class="token punctuation">-</span>proxy.oauth2<span class="token punctuation">-</span>proxy.svc.cluster.local
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">4180</span>
      <span class="token key atrule">headersToDownstreamOnDeny</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> content<span class="token punctuation">-</span>type
      <span class="token punctuation">-</span> set<span class="token punctuation">-</span>cookie
      <span class="token key atrule">headersToUpstreamOnAllow</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> authorization
      <span class="token punctuation">-</span> path
      <span class="token punctuation">-</span> x<span class="token punctuation">-</span>auth<span class="token punctuation">-</span>request<span class="token punctuation">-</span>user
      <span class="token punctuation">-</span> x<span class="token punctuation">-</span>auth<span class="token punctuation">-</span>request<span class="token punctuation">-</span>email
      <span class="token punctuation">-</span> x<span class="token punctuation">-</span>auth<span class="token punctuation">-</span>request<span class="token punctuation">-</span>access<span class="token punctuation">-</span>token
      <span class="token key atrule">includeHeadersInCheck</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> authorization
      <span class="token punctuation">-</span> cookie
  <span class="token key atrule">defaultConfig</span><span class="token punctuation">:</span>
    <span class="token key atrule">terminationDrainDuration</span><span class="token punctuation">:</span> 310s</code></pre></div>
<p>This config is creating a new provider with the name <code class="language-text">oauth2-proxy</code>. This can later be used in the authorization-policy to route requests through the OAuth2-Proxy. The rest of this config is basically what headers to include to make sure the correct tokens are passed along.</p>
<h3 id="Ô∏è-add-istio-authorization-policy" style="position:relative;"><a href="#%EF%B8%8F-add-istio-authorization-policy" aria-label="Ô∏è add istio authorization policy permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üõ°Ô∏è Add Istio Authorization Policy</h3>
<p>Finally, apply the authorization policy to tell Istio what requests should be routed through the OAuth2-Proxy. This CUSTOM authorization policy allows us to restrict access to the host specified and authenticate via Okta and the OAuth2-Proxy. See the <a href="https://istio.io/latest/docs/tasks/security/authorization/authz-custom/" target="_blank" rel="noopener noreferrer">Istio reference document</a> for more info.</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> security.istio.io/v1beta1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> AuthorizationPolicy
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> oauth<span class="token punctuation">-</span>policy
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> istio<span class="token punctuation">-</span>system
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">istio</span><span class="token punctuation">:</span> ingressgateway
  <span class="token key atrule">action</span><span class="token punctuation">:</span> CUSTOM
  <span class="token key atrule">provider</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"oauth2-proxy"</span>
  <span class="token key atrule">rules</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">to</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">operation</span><span class="token punctuation">:</span>
        <span class="token key atrule">hosts</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> &lt;INTERNAL APPLICATION HOST<span class="token punctuation">></span></code></pre></div>
<p>The most important part of this config is the provider name which has to match the provider created in the <code class="language-text">meshConfig</code> part of the <code class="language-text">istio-controlplane.yaml</code> and the hosts list which is the host names that the policy applies to.</p>
<p>Apply by replacing <code class="language-text">&lt;INTERNAL APPLICATION HOST></code> with your app URL in <code class="language-text">authorization-policy.yaml</code> then run:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">kubectl apply <span class="token parameter variable">-f</span> authorization-policy.yaml</code></pre></div>
<h3 id="-authentication-and-authorization" style="position:relative;"><a href="#-authentication-and-authorization" aria-label=" authentication and authorization permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üîê Authentication and Authorization</h3>
<p>If you have made it this far, you have probably heard of authentication vs authorization before. I just want to make it clear that this use case of Istio is only used for authentication. Istio will route to the authentication service and if a valid token is presented, it will pass you on to the application. This provides some security for all the applications, but the application will still have to be responsible for authorization and any form of RBAC.</p>
<h2 id="-final-notes" style="position:relative;"><a href="#-final-notes" aria-label=" final notes permalink" class="anchor before"><svg class="anchor-icon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>üñã Final Notes</h2>
<p>This blog post aims to provide a clear understanding of how to use Istio and OAuth2-Proxy for authentication in Kubernetes applications. By following the steps outlined in the guide, you can ensure that your applications are secure and that user authentication and authorization are enforced with confidence.</p>
<p>The integration of Okta, Istio, and OAuth2-Proxy allows you to leverage the power of these tools to create a robust and secure authentication framework for your Kubernetes-based applications.</p>
<p><strong>References:</strong></p>
<ul>
<li><a href="https://istio.io/latest/docs/tasks/security/authorization/authz-custom/" target="_blank" rel="noopener noreferrer">Istio: External Authorization</a></li>
<li><a href="https://oauth2-proxy.github.io/oauth2-proxy/" target="_blank" rel="noopener noreferrer">Welcome to OAuth2 Proxy | OAuth2 Proxy</a></li>
<li><a href="https://events.istio.io/istiocon-2021/slides/d8p-DeepDiveAuthPolicies-LawrenceGadban.pdf" target="_blank" rel="noopener noreferrer">Deep Dive Auth Policies - Lawrence Gadban</a></li>
<li><a href="https://oauth2-proxy.github.io/oauth2-proxy/configuration/alpha-config" target="_blank" rel="noopener noreferrer">Alpha Configuration | OAuth2 Proxy</a></li>
<li><a href="https://developers.onelogin.com/openid-connect/scopes" target="_blank" rel="noopener noreferrer">OpenId Connect Scopes</a></li>
<li><a href="https://aws.amazon.com/blogs/apn/saas-identity-and-routing-with-istio-service-mesh-and-amazon-eks/" target="_blank" rel="noopener noreferrer">SaaS Identity and Routing with Istio Service Mesh and Amazon EKS | Amazon Web Services</a></li>
<li><a href="https://venafi.com/blog/istio-oidc/" target="_blank" rel="noopener noreferrer">Istio OIDC Authentication | Jetstack Blog</a></li>
<li><a href="https://elastisys.com/istio-and-oauth2-proxy-in-kubernetes-for-microservice-authentication/" target="_blank" rel="noopener noreferrer">Istio and OAuth2-Proxy in Kubernetes for Microservice Authentication</a></li>
<li>Alternative to OAuth2-Proxy: <a href="https://github.com/istio-ecosystem/authservice" target="_blank" rel="noopener noreferrer">Authservice</a></li>
<li>Alternative to OAuth2-Proxy: <a href="http://openpolicyagent.org" target="_blank" rel="noopener noreferrer">Open Policy Agent</a></li>
</ul>
<p><strong><em>Until next time, „Å§„Å•„Åè üéâüáµüá∏</em></strong></p>
<p><br><br></p>
<blockquote>
<p>üí° Thank you for Reading !! üôåüèªüòÅüìÉ, see you in the next blog.ü§ò  <strong><em>Until next time üéâ</em></strong></p>
</blockquote>
<p>üöÄ Thank you for sticking up till the end. If you have any questions/feedback regarding this blog feel free to connect with me:</p>
<p><strong>‚ôªÔ∏è LinkedIn:</strong> <a href="https://www.linkedin.com/in/rajhi-saif/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/rajhi-saif/</a></p>
<p><strong>‚ôªÔ∏è X/Twitter:</strong> <a href="https://x.com/rajhisaifeddine" target="_blank" rel="noopener noreferrer">https://x.com/rajhisaifeddine</a></p>
<p><strong>The end ‚úåüèª</strong></p>
<h1 align="center">üî∞ Keep Learning !! Keep Sharing !! üî∞</h1>
<p><strong>üìÖ Stay updated</strong></p>
<p>Subscribe to our newsletter for more insights on AWS cloud computing and containers.</p></div></div><div id="content-end"></div></article><div data-nosnippet="" class="social-share-wrapper"><h3>Share Your Love</h3><button keywords="" aria-label="Share Via Facebook" class="react-share__ShareButton social-share-item facebook" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"></path></svg></button><button keywords="" aria-label="Share Via Twitter" class="react-share__ShareButton social-share-item twitter" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></button><button aria-label="Share Via LinkedIn" keywords="" class="react-share__ShareButton social-share-item linkedin" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></button><button keywords="" aria-label="Share Via Reddit" class="react-share__ShareButton social-share-item reddit" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit" class="svg-inline--fa fa-reddit " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z"></path></svg></button><button keywords="" aria-label="Add to Pocket" class="react-share__ShareButton social-share-item pocket" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="get-pocket" class="svg-inline--fa fa-get-pocket " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"></path></svg></button></div><br/><br/><br/></main><aside class="blogpost-sidebar"><div data-nosnippet="" class="blog-navigation-wrapper"><h3>Read Other Posts</h3><nav class="blog-navigation"><div class="nav-links"><a rel="next" class="next-post" href="/blog/kubernetes-admission-controllers-security-control/">Kubernetes Admission Controllers: A Comprehensive Guide to Enhancing Security and Control<!-- --> ‚Üí</a><a rel="prev" class="prev-post" href="/blog/pre-commit-hooks-terraform-code-quality/">‚Üê <!-- -->A Guide to using Pre-commit hooks for Terraform: Save time and improve code quality ü™ù</a><a class="all-posts" href="/blog/">All Posts</a></div></nav></div></aside><footer data-nosnippet=""><div class="footer-wrapper"><div data-nosnippet="" class="social"><ul class="social-list"><li class="social-item social-linkedin"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="linkedin" href="https://www.linkedin.com/in/rajhi-saif/" title="Saifeddine Rajhi on LinkedIn" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg><span>LinkedIn</span></a></li><li class="social-item social-github"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="github" href="https://github.com/seifrajhi" title="Saifeddine Rajhi on Github" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span>GitHub</span></a></li><li class="social-item social-email"><a itemProp="email" eventCategory="social" eventAction="click" eventLabel="email" href="mailto:rajhiseif@gmail.com" title="Saifeddine Rajhi&#x27;s Email"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"></path></svg><span>Email</span></a></li><li class="social-item social-bluesky"><a rel="me" itemProp="url" eventCategory="bluesky" eventAction="click" eventLabel="social" href="https://bsky.app/profile/saifrajhi.bsky.social" title="Saifeddine Rajhi on Bluesky Social" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="bluesky" class="svg-inline--fa fa-bluesky fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"></path></svg><span>Bluesky Social</span></a></li><li class="social-item social-X/Twitter"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="X/Twitter" href="https://x.com/RajhiSaifeddine" title="Saifeddine Rajhi on X/Twitter" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="x-twitter" class="svg-inline--fa fa-x-twitter fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg><span>X/Twitter</span></a></li><li class="social-item social-reddit"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="reddit" href="https://www.reddit.com/user/ScoreApprehensive992/" title="Saifeddine Rajhi on Reddit" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="reddit-alien" class="svg-inline--fa fa-reddit-alien fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M373 138.6c-25.2 0-46.3-17.5-51.9-41l0 0c-30.6 4.3-54.2 30.7-54.2 62.4l0 .2c47.4 1.8 90.6 15.1 124.9 36.3c12.6-9.7 28.4-15.5 45.5-15.5c41.3 0 74.7 33.4 74.7 74.7c0 29.8-17.4 55.5-42.7 67.5c-2.4 86.8-97 156.6-213.2 156.6S45.5 410.1 43 323.4C17.6 311.5 0 285.7 0 255.7c0-41.3 33.4-74.7 74.7-74.7c17.2 0 33 5.8 45.7 15.6c34-21.1 76.8-34.4 123.7-36.4l0-.3c0-44.3 33.7-80.9 76.8-85.5C325.8 50.2 347.2 32 373 32c29.4 0 53.3 23.9 53.3 53.3s-23.9 53.3-53.3 53.3zM157.5 255.3c-20.9 0-38.9 20.8-40.2 47.9s17.1 38.1 38 38.1s36.6-9.8 37.8-36.9s-14.7-49.1-35.7-49.1zM395 303.1c-1.2-27.1-19.2-47.9-40.2-47.9s-36.9 22-35.7 49.1c1.2 27.1 16.9 36.9 37.8 36.9s39.3-11 38-38.1zm-60.1 70.8c1.5-3.6-1-7.7-4.9-8.1c-23-2.3-47.9-3.6-73.8-3.6s-50.8 1.3-73.8 3.6c-3.9 .4-6.4 4.5-4.9 8.1c12.9 30.8 43.3 52.4 78.7 52.4s65.8-21.6 78.7-52.4z"></path></svg><span>Reddit</span></a></li><li class="social-item social-stackoverflow"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://stackoverflow.com/users/21897244/saifeddine-rajhi" title="Saifeddine Rajhi on StackOverflow" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="stack-overflow" class="svg-inline--fa fa-stack-overflow fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"></path></svg><span>StackOverflow</span></a></li><li class="social-item social-Goodreads"><a rel="me" eventLabel="StackOverflow" href="https://www.goodreads.com/user/show/176103378-saifeddine" title="Saifeddine Rajhi on Goodreads" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="goodreads" class="svg-inline--fa fa-goodreads fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M299.9 191.2c5.1 37.3-4.7 79-35.9 100.7-22.3 15.5-52.8 14.1-70.8 5.7-37.1-17.3-49.5-58.6-46.8-97.2 4.3-60.9 40.9-87.9 75.3-87.5 46.9-.2 71.8 31.8 78.2 78.3zM448 88v336c0 30.9-25.1 56-56 56H56c-30.9 0-56-25.1-56-56V88c0-30.9 25.1-56 56-56h336c30.9 0 56 25.1 56 56zM330 313.2s-.1-34-.1-217.3h-29v40.3c-.8.3-1.2-.5-1.6-1.2-9.6-20.7-35.9-46.3-76-46-51.9.4-87.2 31.2-100.6 77.8-4.3 14.9-5.8 30.1-5.5 45.6 1.7 77.9 45.1 117.8 112.4 115.2 28.9-1.1 54.5-17 69-45.2.5-1 1.1-1.9 1.7-2.9.2.1.4.1.6.2.3 3.8.2 30.7.1 34.5-.2 14.8-2 29.5-7.2 43.5-7.8 21-22.3 34.7-44.5 39.5-17.8 3.9-35.6 3.8-53.2-1.2-21.5-6.1-36.5-19-41.1-41.8-.3-1.6-1.3-1.3-2.3-1.3h-26.8c.8 10.6 3.2 20.3 8.5 29.2 24.2 40.5 82.7 48.5 128.2 37.4 49.9-12.3 67.3-54.9 67.4-106.3z"></path></svg><span>Goodreads</span></a></li><li class="social-item social-osi"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://ossinsight.io/analyze/seifrajhi" title="Saifeddine Rajhi on OSSInsights" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="osi" class="svg-inline--fa fa-osi fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M8 266.44C10.3 130.64 105.4 34 221.8 18.34c138.8-18.6 255.6 75.8 278 201.1 21.3 118.8-44 230-151.6 274-9.3 3.8-14.4 1.7-18-7.7q-26.7-69.45-53.4-139c-3.1-8.1-1-13.2 7-16.8 24.2-11 39.3-29.4 43.3-55.8a71.47 71.47 0 0 0-64.5-82.2c-39-3.4-71.8 23.7-77.5 59.7-5.2 33 11.1 63.7 41.9 77.7 9.6 4.4 11.5 8.6 7.8 18.4q-26.85 69.9-53.7 139.9c-2.6 6.9-8.3 9.3-15.5 6.5-52.6-20.3-101.4-61-130.8-119-24.9-49.2-25.2-87.7-26.8-108.7zm20.9-1.9c.4 6.6.6 14.3 1.3 22.1 6.3 71.9 49.6 143.5 131 183.1 3.2 1.5 4.4.8 5.6-2.3q22.35-58.65 45-117.3c1.3-3.3.6-4.8-2.4-6.7-31.6-19.9-47.3-48.5-45.6-86 1-21.6 9.3-40.5 23.8-56.3 30-32.7 77-39.8 115.5-17.6a91.64 91.64 0 0 1 45.2 90.4c-3.6 30.6-19.3 53.9-45.7 69.8-2.7 1.6-3.5 2.9-2.3 6q22.8 58.8 45.2 117.7c1.2 3.1 2.4 3.8 5.6 2.3 35.5-16.6 65.2-40.3 88.1-72 34.8-48.2 49.1-101.9 42.3-161-13.7-117.5-119.4-214.8-255.5-198-106.1 13-195.3 102.5-197.1 225.8z"></path></svg><span>OSSInsights</span></a></li><li class="social-item social-devstats"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="StackOverflow" href="https://devstats.cluster.fun/?user=seifrajhi" title="Saifeddine Rajhi on DevStats" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-line" class="svg-inline--fa fa-chart-line fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"></path></svg><span>DevStats</span></a></li><li class="social-item social-RSS"><a rel="me" itemProp="url" eventCategory="social" eventAction="click" eventLabel="RSS" href="https://seifrajhi.github.io/rss.xml" title="Subscribe to my blog post" target="blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-beat fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg><span>RSS</span></a></li></ul></div><div class="copyright">Saifeddine Rajhi ¬© 1994 - <!-- -->2024<!-- --> <br/><a rel="license" href="https://creativecommons.org/licenses/by/4.0/" title="Content is published under CC BY 4.0 license">CC BY 4.0</a></div><div class="pgp"><a href="https://keybase.io/saifrajhi">0C3B BABB 8BC1 EA2B</a></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/authenticate-apps-on-k8s-okta-istio-oauth2/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-27201231849e4cbf5dac.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-88fb5c28d68e831e730a.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-cd3866b1d26a4d108a7a.js\"],\"component---src-pages-blog-js\":[\"/component---src-pages-blog-js-f8948e2cd52c5a58b8e9.js\"],\"component---src-pages-cv-platform-engineer-js\":[\"/component---src-pages-cv-platform-engineer-js-c07d6561c5486bc84f6e.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-93a01d0b32137e1386a6.js\"],\"component---src-pages-talks-js\":[\"/component---src-pages-talks-js-c6fd528ecdd6f1551fdd.js\"],\"component---src-pages-thoughts-js\":[\"/component---src-pages-thoughts-js-a076bd614287f5a35525.js\"],\"component---src-templates-blog-template-js\":[\"/component---src-templates-blog-template-js-6b8118315cd195c065a2.js\"],\"component---src-templates-talk-template-js\":[\"/component---src-templates-talk-template-js-5894ed28fd4c7fabcf6a.js\"],\"component---src-templates-thought-template-js\":[\"/component---src-templates-thought-template-js-e53d1ea85ca6a983f8b1.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="2f282e97c4712bd1f1e4";</script><script src="/webpack-runtime-cb84afcff73a77076ed9.js" async></script><script src="/framework-c989293af61a95023f7f.js" async></script><script src="/app-27201231849e4cbf5dac.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>